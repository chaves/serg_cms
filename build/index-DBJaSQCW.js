const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["ListView-Db2A-evI.js","strapi-CDBlFoOX.js","strapi-D6821bIJ.css","sortable.esm-BC6pSunY.js","index-C0St1hVe.js","groupBy-RDAt8S9H.js","_baseEach-C6VQSjBX.js","sortBy-QrWJjE7F.js","_baseMap-CzA3VHn9.js","index-CYWirJ1g.js","index-BRVyLNfZ.js"])))=>i.map(i=>d[i]);
import{r as U,b as a1,j as f,kl as ze,kn as Ce,mR as i1,ko as Fe,n as gt,mS as Od,mT as YS,d_ as Fa,el as XS,ky as Fd,mU as zd,mV as Ha,ek as QS,kr as fr,kp as Md,lT as Vn,cq as Wa,mW as eE,dJ as Xr,ct as tE,mX as pn,kD as ht,B as Ri,mY as Is,mZ as Ro,km as pt,m_ as o1,m$ as nE,n0 as rE,n1 as aE,n2 as s1,n3 as iE,n4 as oE,n5 as sE,n6 as lE,kv as wl,n7 as Kr,n8 as pr,mr as Ci,m3 as Ks,d9 as bo,ka as Ua,n9 as Ys,d8 as l1,na as Nd,nb as kl,kw as cE,af as c1,nc as u1,nd as uE,ne as d1,nf as p1,ng as An,nh as dE,kq as da,ca as $d,ni as Cl,nj as f1,nk as h1,nl as pE,nm as Pd,nn as pa,kt as Rs,no as fE,np as hE,bw as Da,dL as la,kB as Sl,nq as mE,nr as m1,ns as Dd,nt as g1,kz as Za,c9 as Oo,cY as v1,nu as gE,gL as Jt,nv as vE,s as El,q as y1,nw as yE,b7 as bE,nx as xE,aD as xo,ah as _E,ny as Gt,nz as Qh,cb as wE,nA as kE,nB as et,nC as b1,nD as Ld,nE as CE,b9 as SE,nF as ur,nG as Yr,nH as qn,nI as x1,nJ as _1,nK as w1,nL as EE,nM as AE,nN as em,nO as TE,nP as jE,nQ as IE,nR as RE,nS as OE,nT as FE,nU as zE,nV as ME,nW as NE,nX as $E,nY as PE,nZ as DE,n_ as LE,n$ as BE,o0 as UE,o1 as ZE,o2 as HE,o3 as WE,o4 as qE,o5 as VE,o6 as k1,o7 as GE,o8 as JE,o9 as KE,oa as YE,ob as XE,oc as QE,od as e3,oe as t3,of as n3,og as r3,oh as a3,oi as i3,oj as o3,ok as s3,kx as l3,ol as c3,om as ou,on as C1,oo as S1,op as E1,oq as u3,or as d3,os as p3,ot as f3,ou as h3,ov as A1,ow as T1,ox as j1,oy as m3,kA as g3,oz as v3,oA as y3,oB as b3,kE as x3,oC as _3,oD as w3,oE as k3,kF as C3,oF as S3,oG as E3,oH as A3,oI as T3,oJ as j3,oK as I3,oL as R3,oM as O3,oN as F3,oO as z3,oP as M3,oQ as N3,oR as $3,oS as P3,oT as D3,oU as I1,oV as L3,oW as B3,oX as U3,oY as Z3,oZ as H3,o_ as W3,o$ as q3,p0 as V3,p1 as G3,p2 as J3,p3 as K3,p4 as Y3,p5 as X3,p6 as Q3,p7 as eA,p8 as tA,p9 as nA,pa as rA,pb as aA,pc as iA,pd as oA,pe as sA,pf as lA,pg as cA,ph as uA,pi as dA,pj as pA,pk as fA,pl as hA,pm as mA,pn as gA,po as vA,pp as yA,pq as bA,pr as xA,ps as Al,pt as R1,pu as _A,pv as wA,pw as kA,px as CA,py as SA,pz as EA,pA as rn,pB as AA,pC as TA,fe as jA,pD as IA,pE as RA,pF as O1,lW as OA,ml as FA,pG as zA,pH as MA,pI as NA,pJ as $A,ku as Bd,pK as PA,pL as DA,pM as F1,gg as z1,pN as LA,pO as BA,pP as UA,cc as cr,bD as _o,bq as zt,br as Yt,pQ as su,bo as Wt,gF as ZA,bB as tm,pR as lo,pS as M1,pT as HA,pU as WA,a4 as qA,d4 as VA,bY as GA,kk as JA,m2 as KA,P as lu,pV as YA,pW as XA,K as QA,$ as e6,a0 as Os,a1 as t6}from"./strapi-CDBlFoOX.js";import{P as Rt}from"./index-C0St1hVe.js";import{g as n6}from"./groupBy-RDAt8S9H.js";import{s as r6}from"./sortBy-QrWJjE7F.js";import{f as a6}from"./index-CYWirJ1g.js";const N1=U.createContext(null),Ud=()=>{const e=U.useContext(N1);if(!e)throw new Error("useCTBSession must be used within a CTBSessionProvider");return e},Oi=()=>{const{trackUsage:e}=a1(),{sessionId:t}=Ud();return{trackUsage:U.useCallback((r,a)=>{const s={...a??{},ctbSessionId:t};return e(r,s)},[e,t])}},Fs={danger:{background:"danger100",borderColor:"danger200",textColor:"danger700"},warning:{background:"warning100",borderColor:"warning200",textColor:"warning600"}},ro=({title:e,variant:t="danger"})=>f.jsx(ze,{padding:3,background:Fs[t].background,borderColor:Fs[t].borderColor,hasRadius:!0,width:"100%",children:f.jsxs(Ce,{gap:2,children:[f.jsx(i1,{style:{minWidth:"16px"},fill:Fs[t].textColor}),f.jsx(Fe,{variant:"omega",textColor:Fs[t].textColor,children:e})]})}),$1=gt(ze)`
  opacity: 0;
  transform: ${({$direction:e="up"})=>e==="up"?"translateY(10px)":"translateX(-10px)"};

  @media (prefers-reduced-motion: no-preference) {
    animation: ${({$direction:e="up"})=>e==="up"?"appearUp":"appearLeft"}
      ${({theme:e})=>e.motion.timings[200]}
      ${({theme:e})=>e.motion.easings.easeOutQuad} forwards;
  }

  @keyframes appearUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes appearLeft {
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
`;var i6={STRAPI_AI_URL:"https://strapi-ai.apps.strapi.io"};const P1="application/vnd.strapi.code",cu=15,o6=15*1024*1024,D1=i6.STRAPI_AI_URL?.replace(/\/+$/,"")??"https://strapi-ai.apps.strapi.io",s6=`${D1}/schemas/chat`,l6=e=>new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}),c6=e=>e.startsWith("data:image/"),Zd=({src:e,alt:t,inferSize:n=!1,onLoad:r,onError:a,...s})=>{const[o,l]=U.useState(null),[u,d]=U.useState({}),[p,m]=U.useState(!0),[v,y]=U.useState(!1);U.useEffect(()=>{(async()=>{if(m(!0),y(!1),c6(e)){l(e),m(!1);return}try{const k=new URL(e);if(["strapi-ai-staging.s3.us-east-1.amazonaws.com","strapi-ai-production.s3.us-east-1.amazonaws.com"].includes(k.hostname)){l(e),m(!1);return}}catch{}try{const k=await fetch(e);if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);const A=await k.blob(),T=await l6(A);l(T),m(!1)}catch(k){console.error("Error converting image to base64:",k),y(!0),m(!1)}})()},[e,a]);const g=x=>{if(n){const{naturalWidth:k,naturalHeight:A}=x.currentTarget;d({width:k,height:A})}r&&r(x)};if(p)return f.jsx(Ce,{direction:"column",gap:2,alignItems:"center",width:"100%",children:f.jsx(Od,{small:!0})});if(v)return f.jsx(Ce,{direction:"column",gap:2,alignItems:"center",width:"100%",children:f.jsx(YS,{width:24,height:24,fill:"danger600"})});const _={src:o||"",alt:t,onLoad:g,...s};return n&&!s.width&&!s.height&&u.width&&u.height&&(_.width=u.width,_.height=u.height),o?f.jsx("img",{..._}):null},gi={fadeIn:Fa`
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  `,scaleIn:Fa`
    from {
      opacity: 0;
      transform: scale(0.7);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  `,slideUpIn:Fa`
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  `,slideUpOut:Fa`
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(10px);
    }
  `,slideDownIn:Fa`
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  `,slideDownOut:Fa`
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-10px);
    }
  `},L1=U.createContext(void 0),u6=(e,t)=>`${e}${Math.floor(t*255).toString(16).padStart(2,"0")}`,d6=gt.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 500;
  pointer-events: auto; /* Explicitly enable pointer events */
  background: ${e=>u6(e.theme.colors.neutral800,.2)};
`,p6=gt.div`
  max-width: 80vw;
  max-height: 90vh;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: auto; /* Explicitly enable pointer events */
  position: relative;
  animation: ${gi.scaleIn} 0.3s ease;
`,f6=gt(Zd)`
  max-width: 100%;
  max-height: 90vh;
  object-fit: contain;
  pointer-events: auto; /* Explicitly enable pointer events */
`,h6=({src:e,alt:t,onClose:n})=>{const r=U.useRef(null),a=U.useRef(null);return U.useEffect(()=>{const s=o=>{if(o.key==="Escape")return o.preventDefault(),o.stopPropagation(),n?.(),o.stopImmediatePropagation(),o.cancelBubble=!0,!1};return window.addEventListener("keydown",s,!0),()=>window.removeEventListener("keydown",s,!0)},[n]),U.useEffect(()=>{const s=d=>{d.target===r.current&&(d.preventDefault(),d.stopPropagation(),n?.())},o=d=>{d.stopPropagation()},l=r.current,u=a.current;return l&&l.addEventListener("click",s),u&&u.addEventListener("click",o),()=>{l&&l.removeEventListener("click",s),u&&u.removeEventListener("click",o)}},[n]),XS.createPortal(f.jsx(d6,{ref:r,children:f.jsx(p6,{ref:a,children:f.jsx(f6,{src:e,alt:t})})}),document.body)},m6=({children:e,src:t,alt:n,onClose:r,defaultOpen:a=!1})=>{const[s,o]=U.useState(a),l=()=>o(!0),u=()=>{o(!1),r?.()};return f.jsxs(L1.Provider,{value:{isOpen:s,open:l,close:u,src:t,alt:n},children:[e,s&&f.jsx(h6,{src:t,alt:n,onClose:u})]})},g6=()=>{const e=U.useContext(L1);if(!e)throw new Error("useFullScreenImage must be used within a FullScreenImage.Root");return e},v6=({children:e,asChild:t=!1})=>{const{open:n}=g6(),r=a=>{a.stopPropagation(),n()};return t?f.jsx("div",{onClick:r,style:{cursor:"pointer",display:"contents"},children:e}):f.jsx("div",{onClick:r,style:{cursor:"pointer"},children:e})},Xs={Root:m6,Trigger:v6},B1=U.createContext({error:null}),y6=()=>U.useContext(B1),b6=gt(ze)`
  &:hover {
    cursor: pointer;
    background: ${({theme:e})=>e.colors.neutral100};
  }
`,x6=({children:e,error:t=null,minWidth:n,maxWidth:r})=>f.jsx(B1.Provider,{value:{error:t},children:f.jsxs(Ce,{direction:"column",alignItems:"flex-start",gap:2,minWidth:n,maxWidth:r,children:[f.jsx(b6,{background:"neutral0",hasRadius:!0,borderColor:"neutral200",borderStyle:"solid",borderWidth:"1px",padding:2,width:"100%",children:f.jsx(Ce,{gap:2,children:e})}),t&&f.jsx(Fe,{variant:"pi",textColor:"danger500",children:t})]})}),_6=({children:e})=>{const{error:t}=y6();return f.jsx(Ce,{alignItems:"center",justifyContent:"center",children:t?f.jsx(i1,{fill:"danger500"}):e})},w6=({children:e})=>f.jsx(ze,{grow:1,children:f.jsx(Fe,{variant:"omega",ellipsis:!0,style:{userSelect:"none",maxWidth:"100px"},children:e})}),k6=({onClick:e})=>f.jsx(Ce,{alignItems:"center",justifyContent:"center",shrink:0,onClick:e,children:f.jsx(Fd,{fill:"neutral500"})}),fa={Root:x6,Preview:_6,Title:w6,Remove:k6},C6=gt(Zd)`
  width: 24px;
  height: 24px;
  object-fit: cover;
  border-radius: ${({theme:e})=>e.borderRadius};
`,S6=({attachment:e,onRemove:t,...n})=>f.jsx(Xs.Root,{src:e.url,alt:e.filename||"image",children:f.jsx(Xs.Trigger,{asChild:!0,children:f.jsxs(fa.Root,{...n,children:[f.jsx(fa.Preview,{children:e.status==="loading"?f.jsx(Od,{small:!0}):f.jsx(C6,{src:e.url,alt:e.filename})}),f.jsx(fa.Title,{children:e.filename||"unknown"}),t&&f.jsx(fa.Remove,{onClick:t})]})})}),E6=({attachment:e,onRemove:t,...n})=>f.jsxs(fa.Root,{...n,children:[f.jsx(fa.Preview,{children:e.status==="loading"?f.jsx(Od,{small:!0}):f.jsx(zd,{height:24,width:24})}),f.jsx(fa.Title,{children:e.filename||"unknown"}),t&&f.jsx(fa.Remove,{onClick:t})]}),Hd=({attachment:e,onRemove:t,...n})=>e.mediaType?.startsWith("image/")?f.jsx(S6,{attachment:e,onRemove:t,...n}):e.mediaType===P1?f.jsx(E6,{attachment:e,onRemove:t,...n}):null,A6=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Si(e,t,n){const r=T6(e),{webkitRelativePath:a}=e,s=typeof t=="string"?t:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof r.path!="string"&&nm(r,"path",s),nm(r,"relativePath",s),r}function T6(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),a=A6.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function nm(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const j6=[".DS_Store","Thumbs.db"];function I6(e){return Ha(this,void 0,void 0,function*(){return Qs(e)&&R6(e.dataTransfer)?M6(e.dataTransfer,e.type):O6(e)?F6(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?z6(e):[]})}function R6(e){return Qs(e)}function O6(e){return Qs(e)&&Qs(e.target)}function Qs(e){return typeof e=="object"&&e!==null}function F6(e){return Gu(e.target.files).map(t=>Si(t))}function z6(e){return Ha(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Si(n))})}function M6(e,t){return Ha(this,void 0,void 0,function*(){if(e.items){const n=Gu(e.items).filter(a=>a.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(N6));return rm(U1(r))}return rm(Gu(e.files).map(n=>Si(n)))})}function rm(e){return e.filter(t=>j6.indexOf(t.name)===-1)}function Gu(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function N6(e){if(typeof e.webkitGetAsEntry!="function")return am(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?Z1(t):am(e,t)}function U1(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?U1(n):[n]],[])}function am(e,t){return Ha(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const s=yield e.getAsFileSystemHandle();if(s===null)throw new Error(`${e} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Si(o)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return Si(r,(n=t?.fullPath)!==null&&n!==void 0?n:void 0)})}function $6(e){return Ha(this,void 0,void 0,function*(){return e.isDirectory?Z1(e):P6(e)})}function Z1(e){const t=e.createReader();return new Promise((n,r)=>{const a=[];function s(){t.readEntries(o=>Ha(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map($6));a.push(l),s()}else try{const l=yield Promise.all(a);n(l)}catch(l){r(l)}}),o=>{r(o)})}s()})}function P6(e){return Ha(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const a=Si(r,e.fullPath);t(a)},r=>{n(r)})})})}var uu=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",a=(e.type||"").toLowerCase(),s=a.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):a===l})}return!0};function im(e){return B6(e)||L6(e)||W1(e)||D6()}function D6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L6(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B6(e){if(Array.isArray(e))return Ju(e)}function om(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?om(Object(n),!0).forEach(function(r){H1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):om(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wo(e,t){return H6(e)||Z6(e,t)||W1(e,t)||U6()}function U6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W1(e,t){if(e){if(typeof e=="string")return Ju(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ju(e,t)}}function Ju(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z6(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,s=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(u){s=!0,l=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function H6(e){if(Array.isArray(e))return e}var W6=typeof uu=="function"?uu:uu.default,q6="file-invalid-type",V6="file-too-large",G6="file-too-small",J6="too-many-files",K6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:q6,message:"File type must be ".concat(r)}},lm=function(t){return{code:V6,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},cm=function(t){return{code:G6,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Y6={code:J6,message:"Too many files"};function q1(e,t){var n=e.type==="application/x-moz-file"||W6(e,t);return[n,n?null:K6(t)]}function V1(e,t,n){if(Na(e.size))if(Na(t)&&Na(n)){if(e.size>n)return[!1,lm(n)];if(e.size<t)return[!1,cm(t)]}else{if(Na(t)&&e.size<t)return[!1,cm(t)];if(Na(n)&&e.size>n)return[!1,lm(n)]}return[!0,null]}function Na(e){return e!=null}function X6(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,s=e.multiple,o=e.maxFiles,l=e.validator;return!s&&t.length>1||s&&o>=1&&t.length>o?!1:t.every(function(u){var d=q1(u,n),p=wo(d,1),m=p[0],v=V1(u,r,a),y=wo(v,1),g=y[0],_=l?l(u):null;return m&&g&&!_})}function el(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function zs(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function um(e){e.preventDefault()}function Q6(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function eT(e){return e.indexOf("Edge/")!==-1}function tT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Q6(e)||eT(e)}function Tr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];return t.some(function(l){return!el(r)&&l&&l.apply(void 0,[r].concat(s)),el(r)})}}function nT(){return"showOpenFilePicker"in window}function rT(e){if(Na(e)){var t=Object.entries(e).filter(function(n){var r=wo(n,2),a=r[0],s=r[1],o=!0;return G1(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(J1))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var a=wo(r,2),s=a[0],o=a[1];return sm(sm({},n),{},H1({},s,o))},{});return[{description:"Files",accept:t}]}return e}function aT(e){if(Na(e))return Object.entries(e).reduce(function(t,n){var r=wo(n,2),a=r[0],s=r[1];return[].concat(im(t),[a],im(s))},[]).filter(function(t){return G1(t)||J1(t)}).join(",")}function iT(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function oT(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function G1(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function J1(e){return/^.*\.[\w]+$/.test(e)}var sT=["children"],lT=["open"],cT=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],uT=["refKey","onChange","onClick"];function dT(e){return hT(e)||fT(e)||K1(e)||pT()}function pT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hT(e){if(Array.isArray(e))return Ku(e)}function du(e,t){return vT(e)||gT(e,t)||K1(e,t)||mT()}function mT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K1(e,t){if(e){if(typeof e=="string")return Ku(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ku(e,t)}}function Ku(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gT(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,s=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(u){s=!0,l=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function vT(e){if(Array.isArray(e))return e}function dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dm(Object(n),!0).forEach(function(r){Yu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tl(e,t){if(e==null)return{};var n=yT(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yT(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,s;for(s=0;s<r.length;s++)a=r[s],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var Wd=U.forwardRef(function(e,t){var n=e.children,r=tl(e,sT),a=X1(r),s=a.open,o=tl(a,lT);return U.useImperativeHandle(t,function(){return{open:s}},[s]),QS.createElement(U.Fragment,null,n(Kt(Kt({},o),{},{open:s})))});Wd.displayName="Dropzone";var Y1={disabled:!1,getFilesFromEvent:I6,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Wd.defaultProps=Y1;Wd.propTypes={children:Rt.func,accept:Rt.objectOf(Rt.arrayOf(Rt.string)),multiple:Rt.bool,preventDropOnDocument:Rt.bool,noClick:Rt.bool,noKeyboard:Rt.bool,noDrag:Rt.bool,noDragEventsBubbling:Rt.bool,minSize:Rt.number,maxSize:Rt.number,maxFiles:Rt.number,disabled:Rt.bool,getFilesFromEvent:Rt.func,onFileDialogCancel:Rt.func,onFileDialogOpen:Rt.func,useFsAccessApi:Rt.bool,autoFocus:Rt.bool,onDragEnter:Rt.func,onDragLeave:Rt.func,onDragOver:Rt.func,onDrop:Rt.func,onDropAccepted:Rt.func,onDropRejected:Rt.func,onError:Rt.func,validator:Rt.func};var Xu={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function X1(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Kt(Kt({},Y1),e),n=t.accept,r=t.disabled,a=t.getFilesFromEvent,s=t.maxSize,o=t.minSize,l=t.multiple,u=t.maxFiles,d=t.onDragEnter,p=t.onDragLeave,m=t.onDragOver,v=t.onDrop,y=t.onDropAccepted,g=t.onDropRejected,_=t.onFileDialogCancel,x=t.onFileDialogOpen,k=t.useFsAccessApi,A=t.autoFocus,T=t.preventDropOnDocument,j=t.noClick,F=t.noKeyboard,O=t.noDrag,B=t.noDragEventsBubbling,L=t.onError,V=t.validator,q=U.useMemo(function(){return aT(n)},[n]),D=U.useMemo(function(){return rT(n)},[n]),X=U.useMemo(function(){return typeof x=="function"?x:pm},[x]),M=U.useMemo(function(){return typeof _=="function"?_:pm},[_]),Y=U.useRef(null),w=U.useRef(null),P=U.useReducer(bT,Xu),_e=du(P,2),se=_e[0],ue=_e[1],z=se.isFocused,Se=se.isFileDialogActive,ae=U.useRef(typeof window<"u"&&window.isSecureContext&&k&&nT()),R=function(){!ae.current&&Se&&setTimeout(function(){if(w.current){var he=w.current.files;he.length||(ue({type:"closeDialog"}),M())}},300)};U.useEffect(function(){return window.addEventListener("focus",R,!1),function(){window.removeEventListener("focus",R,!1)}},[w,Se,M,ae]);var Ie=U.useRef([]),le=function(he){Y.current&&Y.current.contains(he.target)||(he.preventDefault(),Ie.current=[])};U.useEffect(function(){return T&&(document.addEventListener("dragover",um,!1),document.addEventListener("drop",le,!1)),function(){T&&(document.removeEventListener("dragover",um),document.removeEventListener("drop",le))}},[Y,T]),U.useEffect(function(){return!r&&A&&Y.current&&Y.current.focus(),function(){}},[Y,A,r]);var ne=U.useCallback(function(re){L?L(re):console.error(re)},[L]),Ge=U.useCallback(function(re){re.preventDefault(),re.persist(),J(re),Ie.current=[].concat(dT(Ie.current),[re.target]),zs(re)&&Promise.resolve(a(re)).then(function(he){if(!(el(re)&&!B)){var Z=he.length,ie=Z>0&&X6({files:he,accept:q,minSize:o,maxSize:s,multiple:l,maxFiles:u,validator:V}),ke=Z>0&&!ie;ue({isDragAccept:ie,isDragReject:ke,isDragActive:!0,type:"setDraggedFiles"}),d&&d(re)}}).catch(function(he){return ne(he)})},[a,d,ne,B,q,o,s,l,u,V]),Je=U.useCallback(function(re){re.preventDefault(),re.persist(),J(re);var he=zs(re);if(he&&re.dataTransfer)try{re.dataTransfer.dropEffect="copy"}catch{}return he&&m&&m(re),!1},[m,B]),de=U.useCallback(function(re){re.preventDefault(),re.persist(),J(re);var he=Ie.current.filter(function(ie){return Y.current&&Y.current.contains(ie)}),Z=he.indexOf(re.target);Z!==-1&&he.splice(Z,1),Ie.current=he,!(he.length>0)&&(ue({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),zs(re)&&p&&p(re))},[Y,p,B]),Oe=U.useCallback(function(re,he){var Z=[],ie=[];re.forEach(function(ke){var Te=q1(ke,q),Be=du(Te,2),ft=Be[0],Ct=Be[1],vt=V1(ke,o,s),tt=du(vt,2),cn=tt[0],yt=tt[1],At=V?V(ke):null;if(ft&&cn&&!At)Z.push(ke);else{var lt=[Ct,yt];At&&(lt=lt.concat(At)),ie.push({file:ke,errors:lt.filter(function(gr){return gr})})}}),(!l&&Z.length>1||l&&u>=1&&Z.length>u)&&(Z.forEach(function(ke){ie.push({file:ke,errors:[Y6]})}),Z.splice(0)),ue({acceptedFiles:Z,fileRejections:ie,isDragReject:ie.length>0,type:"setFiles"}),v&&v(Z,ie,he),ie.length>0&&g&&g(ie,he),Z.length>0&&y&&y(Z,he)},[ue,l,q,o,s,u,v,y,g,V]),ve=U.useCallback(function(re){re.preventDefault(),re.persist(),J(re),Ie.current=[],zs(re)&&Promise.resolve(a(re)).then(function(he){el(re)&&!B||Oe(he,re)}).catch(function(he){return ne(he)}),ue({type:"reset"})},[a,Oe,ne,B]),Re=U.useCallback(function(){if(ae.current){ue({type:"openDialog"}),X();var re={multiple:l,types:D};window.showOpenFilePicker(re).then(function(he){return a(he)}).then(function(he){Oe(he,null),ue({type:"closeDialog"})}).catch(function(he){iT(he)?(M(he),ue({type:"closeDialog"})):oT(he)?(ae.current=!1,w.current?(w.current.value=null,w.current.click()):ne(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ne(he)});return}w.current&&(ue({type:"openDialog"}),X(),w.current.value=null,w.current.click())},[ue,X,M,k,Oe,ne,D,l]),Ye=U.useCallback(function(re){!Y.current||!Y.current.isEqualNode(re.target)||(re.key===" "||re.key==="Enter"||re.keyCode===32||re.keyCode===13)&&(re.preventDefault(),Re())},[Y,Re]),Ve=U.useCallback(function(){ue({type:"focus"})},[]),S=U.useCallback(function(){ue({type:"blur"})},[]),ce=U.useCallback(function(){j||(tT()?setTimeout(Re,0):Re())},[j,Re]),W=function(he){return r?null:he},$=function(he){return F?null:W(he)},C=function(he){return O?null:W(he)},J=function(he){B&&he.stopPropagation()},ge=U.useMemo(function(){return function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=re.refKey,Z=he===void 0?"ref":he,ie=re.role,ke=re.onKeyDown,Te=re.onFocus,Be=re.onBlur,ft=re.onClick,Ct=re.onDragEnter,vt=re.onDragOver,tt=re.onDragLeave,cn=re.onDrop,yt=tl(re,cT);return Kt(Kt(Yu({onKeyDown:$(Tr(ke,Ye)),onFocus:$(Tr(Te,Ve)),onBlur:$(Tr(Be,S)),onClick:W(Tr(ft,ce)),onDragEnter:C(Tr(Ct,Ge)),onDragOver:C(Tr(vt,Je)),onDragLeave:C(Tr(tt,de)),onDrop:C(Tr(cn,ve)),role:typeof ie=="string"&&ie!==""?ie:"presentation"},Z,Y),!r&&!F?{tabIndex:0}:{}),yt)}},[Y,Ye,Ve,S,ce,Ge,Je,de,ve,F,O,r]),be=U.useCallback(function(re){re.stopPropagation()},[]),ee=U.useMemo(function(){return function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=re.refKey,Z=he===void 0?"ref":he,ie=re.onChange,ke=re.onClick,Te=tl(re,uT),Be=Yu({accept:q,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:W(Tr(ie,ve)),onClick:W(Tr(ke,be)),tabIndex:-1},Z,w);return Kt(Kt({},Be),Te)}},[w,n,l,ve,r]);return Kt(Kt({},se),{},{isFocused:z&&!r,getRootProps:ge,getInputProps:ee,rootRef:Y,inputRef:w,open:W(Re)})}function bT(e,t){switch(t.type){case"focus":return Kt(Kt({},e),{},{isFocused:!0});case"blur":return Kt(Kt({},e),{},{isFocused:!1});case"openDialog":return Kt(Kt({},Xu),{},{isFileDialogActive:!0});case"closeDialog":return Kt(Kt({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Kt(Kt({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Kt(Kt({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Kt({},Xu);default:return e}}function pm(){}const xT=({onAddFiles:e,isEnabled:t=!1})=>{const n=U.useCallback(async r=>{if(!t)return;const a=r.clipboardData?.items;if(!a||a.length===0)return;const s=[];for(const o of a)if(o.kind==="file"){const l=o.getAsFile();l&&l.type.startsWith("image/")&&s.push(l)}s.length>0&&(e(s),r.preventDefault())},[t,e]);U.useEffect(()=>(document.addEventListener("paste",n),()=>{document.removeEventListener("paste",n)}),[n])},Q1=U.createContext({}),_T=()=>U.useContext(Q1),wT=({children:e,isEnabled:t=!0,onAddFiles:n=()=>{},accept:r={"image/*":[]},...a})=>{xT({onAddFiles:n,isEnabled:t});const{getRootProps:s,isDragActive:o}=X1({onDrop:n,noClick:!0,noKeyboard:!0,accept:r});return f.jsx(Q1.Provider,{value:{isEnabled:t,isDragActive:o,onAddFiles:n},children:f.jsx(Ce,{direction:"column",alignItems:"flex-start",width:"100%",position:"relative",...s(),...a,children:e})})},kT=({error:e,title:t,...n})=>{const{isEnabled:r,isDragActive:a}=_T();if(!a)return null;const s=t||"Drop images here";return f.jsxs(Ce,{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2,cursor:r?"pointer":"not-allowed",width:"100%",height:"100%",borderStyle:"dashed",borderColor:e?"danger600":"primary500",background:e?"danger100":"primary100",hasRadius:!0,padding:7,justifyContent:"center",direction:"column",alignItems:"center",gap:2,...n,children:[f.jsx(ze,{width:"24px",height:"24px",children:f.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M19.5 13.572L12 6.072L4.5 13.572",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 6.072V20.072",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M3.9998 20.072H20.0001",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),f.jsxs(Ce,{direction:"column",alignItems:"center",gap:2,children:[f.jsx(Fe,{variant:"omega",textColor:"neutral600",textAlign:"center",children:s}),e&&f.jsx(Fe,{variant:"pi",textColor:"danger600",children:e})]})]})},ev={Root:wT,Area:kT},tv=U.createContext({size:"md",position:"bottom-right",isOpen:!1,onToggle:()=>{}}),fm={sm:{width:"350px",height:"500px"},md:{width:"480px",height:"600px"},lg:{width:"600px",height:"700px"}},CT={"bottom-right":{bottom:4,right:4},"bottom-left":{bottom:4,left:4},"top-right":{top:4,right:4},"top-left":{top:4,left:4}},ST=gt(ze)`
  position: fixed;
  display: flex;
  flex-direction: column;
  z-index: 11;
  align-items: ${({$position:e})=>e.includes("right")?"flex-end":"flex-start"};
  ${({$position:e,theme:t})=>Object.entries(CT[e]).reduce((n,[r,a])=>({...n,[r]:t.spaces[a]}),{})}
`,ET=gt(ze)`
  width: ${({$size:e})=>fm[e].width};
  max-height: 85vh;
  max-width: 85vw;
  display: flex;
  flex-direction: column;
  height: ${({$size:e})=>fm[e].height};

  @media (prefers-reduced-motion: no-preference) {
    animation-duration: 200ms;
    animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);

    &[data-state='open'] {
      animation-name: ${({$position:e})=>e.startsWith("top")?gi.slideDownIn:gi.slideUpIn};
    }

    &[data-state='closed'] {
      animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
      animation-name: ${({$position:e})=>e.startsWith("top")?gi.slideDownOut:gi.slideUpOut};
    }
  }
`,AT=({children:e,size:t="md",position:n="bottom-right",isOpen:r=!1,onToggle:a=()=>{},toggleIcon:s})=>f.jsx(tv.Provider,{value:{size:t,position:n,isOpen:r,onToggle:a},children:f.jsxs(ST,{$position:n,children:[r?f.jsx(ET,{$size:t,$position:n,background:"neutral0",shadow:"popupShadow",hasRadius:!0,borderColor:"neutral200",borderStyle:"solid",borderWidth:"1px","data-state":r?"open":"closed",children:e}):null,s&&!r&&s]})}),TT=({children:e})=>f.jsx(ze,{padding:[2,2,2,4],borderColor:"neutral150",borderStyle:"solid",borderWidth:"0 0 1px 0",children:f.jsx(Ce,{justifyContent:"space-between",alignItems:"center",children:e})}),jT=({children:e})=>f.jsx(ze,{padding:4,flex:"1",overflow:"auto",children:e}),IT=({children:e})=>f.jsx(ze,{padding:4,children:e}),RT=({label:e})=>{const{onToggle:t}=OT();return f.jsx(fr,{onClick:t,variant:"ghost",label:e||"Close",children:f.jsx(Md,{})})},ao={Root:AT,Header:TT,Body:jT,Footer:IT,Close:RT},OT=()=>U.useContext(tv),nv=e=>f.jsxs("svg",{width:e.width||16,height:e.height||16,viewBox:"0 0 200 300",xmlns:"http://www.w3.org/2000/svg","aria-label":"Figma logo",style:{display:"block",margin:"0 auto",...e.style},...e,children:[f.jsx("title",{children:"Figma.logo"}),f.jsx("desc",{children:"Created using Figma"}),f.jsx("path",{d:"M50 300c27.6 0 50-22.4 50-50v-50H50c-27.6 0-50 22.4-50 50s22.4 50 50 50z",fill:"#0acf83"}),f.jsx("path",{d:"M50 200c-27.6 0-50-22.4-50-50s22.4-50 50-50h50v100H50z",fill:"#a259ff"}),f.jsx("path",{d:"M0 50C0 22.4 22.4 0 50 0h50v100H50C22.4 100 0 77.6 0 50z",fill:"#f24e1e"}),f.jsx("path",{d:"M100 0h50c27.6 0 50 22.4 50 50s-22.4 50-50 50h-50V0z",fill:"#ff7262"}),f.jsx("path",{d:"M200 150c0 27.6-22.4 50-50 50s-50-22.4-50-50 22.4-50 50-50 50 22.4 50 50z",fill:"#1abcfe"})]}),FT=e=>f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:f.jsx("rect",{x:"2",y:"2",width:"11",height:"11",rx:"2",fill:"white"})}),zT=U.createContext({}),MT=({children:e,isLoading:t=!1,...n})=>f.jsx(zT.Provider,{value:{isLoading:t},children:f.jsx(Ce,{direction:"column",alignItems:"flex-start",width:"100%",position:"relative",...n,children:e})}),NT=({children:e,...t})=>f.jsx(ze,{position:"absolute",bottom:"102%",left:0,right:0,background:"neutral0",width:"100%",...t,children:e}),$T=gt(ze)`
  padding: ${({theme:e})=>e.spaces[3]} 0};
`,PT=({children:e,gap:t=2,...n})=>f.jsx(Ce,{gap:t,wrap:"wrap",paddingBottom:2,maxHeight:"150px",overflow:"auto",...n,children:e}),DT=gt(ze)`
  outline: none;
  box-shadow: none;
  transition-property: border-color, box-shadow, fill;
  transition-duration: 0.2s;

  &:focus-within {
    border: 1px solid
      ${({theme:e,$hasError:t})=>t?e.colors.danger600:e.colors.primary600};
    box-shadow: ${({theme:e,$hasError:t})=>t?e.colors.danger600:e.colors.primary600}
      0px 0px 0px 2px;
  }
`,LT=({children:e,disclaimer:t,error:n=!1,...r})=>f.jsxs(DT,{background:"neutral0",hasRadius:!0,borderColor:n?"danger600":"neutral200",borderWidth:"1px",borderStyle:"solid",width:"100%",$hasError:n,...r,children:[f.jsx(ze,{padding:3,children:e}),t&&f.jsx(ze,{background:"neutral100",padding:[2,3],borderColor:"neutral200",borderWidth:"1px 0 0 0",borderStyle:"solid",borderRadius:"0 0 4px 4px",children:f.jsx(Fe,{variant:"pi",textColor:"neutral600",children:t})})]}),BT=({children:e})=>f.jsx(Ce,{justifyContent:"flex-end",alignItems:"center",gap:2,children:e}),za={Root:MT,Header:NT,HeaderItem:$T,Attachments:PT,Content:LT,Actions:BT};function UT(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const ZT=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,HT=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,WT={};function hm(e,t){return(WT.jsx?HT:ZT).test(e)}const qT=/[ \t\n\f\r]/g;function VT(e){return typeof e=="object"?e.type==="text"?mm(e.value):!1:mm(e)}function mm(e){return e.replace(qT,"")===""}class Fo{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Fo.prototype.normal={};Fo.prototype.property={};Fo.prototype.space=void 0;function rv(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Fo(n,r,t)}function Qu(e){return e.toLowerCase()}class Pn{constructor(t,n){this.attribute=n,this.property=t}}Pn.prototype.attribute="";Pn.prototype.booleanish=!1;Pn.prototype.boolean=!1;Pn.prototype.commaOrSpaceSeparated=!1;Pn.prototype.commaSeparated=!1;Pn.prototype.defined=!1;Pn.prototype.mustUseProperty=!1;Pn.prototype.number=!1;Pn.prototype.overloadedBoolean=!1;Pn.prototype.property="";Pn.prototype.spaceSeparated=!1;Pn.prototype.space=void 0;let GT=0;const it=qa(),sn=qa(),ed=qa(),Ee=qa(),Ft=qa(),_i=qa(),Hn=qa();function qa(){return 2**++GT}const td=Object.freeze(Object.defineProperty({__proto__:null,boolean:it,booleanish:sn,commaOrSpaceSeparated:Hn,commaSeparated:_i,number:Ee,overloadedBoolean:ed,spaceSeparated:Ft},Symbol.toStringTag,{value:"Module"})),pu=Object.keys(td);class qd extends Pn{constructor(t,n,r,a){let s=-1;if(super(t,n),gm(this,"space",a),typeof r=="number")for(;++s<pu.length;){const o=pu[s];gm(this,pu[s],(r&td[o])===td[o])}}}qd.prototype.defined=!0;function gm(e,t,n){n&&(e[t]=n)}function Fi(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const s=new qd(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Qu(r)]=r,n[Qu(s.attribute)]=r}return new Fo(t,n,e.space)}const av=Fi({properties:{ariaActiveDescendant:null,ariaAtomic:sn,ariaAutoComplete:null,ariaBusy:sn,ariaChecked:sn,ariaColCount:Ee,ariaColIndex:Ee,ariaColSpan:Ee,ariaControls:Ft,ariaCurrent:null,ariaDescribedBy:Ft,ariaDetails:null,ariaDisabled:sn,ariaDropEffect:Ft,ariaErrorMessage:null,ariaExpanded:sn,ariaFlowTo:Ft,ariaGrabbed:sn,ariaHasPopup:null,ariaHidden:sn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ft,ariaLevel:Ee,ariaLive:null,ariaModal:sn,ariaMultiLine:sn,ariaMultiSelectable:sn,ariaOrientation:null,ariaOwns:Ft,ariaPlaceholder:null,ariaPosInSet:Ee,ariaPressed:sn,ariaReadOnly:sn,ariaRelevant:null,ariaRequired:sn,ariaRoleDescription:Ft,ariaRowCount:Ee,ariaRowIndex:Ee,ariaRowSpan:Ee,ariaSelected:sn,ariaSetSize:Ee,ariaSort:null,ariaValueMax:Ee,ariaValueMin:Ee,ariaValueNow:Ee,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function iv(e,t){return t in e?e[t]:t}function ov(e,t){return iv(e,t.toLowerCase())}const JT=Fi({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:_i,acceptCharset:Ft,accessKey:Ft,action:null,allow:null,allowFullScreen:it,allowPaymentRequest:it,allowUserMedia:it,alt:null,as:null,async:it,autoCapitalize:null,autoComplete:Ft,autoFocus:it,autoPlay:it,blocking:Ft,capture:null,charSet:null,checked:it,cite:null,className:Ft,cols:Ee,colSpan:null,content:null,contentEditable:sn,controls:it,controlsList:Ft,coords:Ee|_i,crossOrigin:null,data:null,dateTime:null,decoding:null,default:it,defer:it,dir:null,dirName:null,disabled:it,download:ed,draggable:sn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:it,formTarget:null,headers:Ft,height:Ee,hidden:ed,high:Ee,href:null,hrefLang:null,htmlFor:Ft,httpEquiv:Ft,id:null,imageSizes:null,imageSrcSet:null,inert:it,inputMode:null,integrity:null,is:null,isMap:it,itemId:null,itemProp:Ft,itemRef:Ft,itemScope:it,itemType:Ft,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:it,low:Ee,manifest:null,max:null,maxLength:Ee,media:null,method:null,min:null,minLength:Ee,multiple:it,muted:it,name:null,nonce:null,noModule:it,noValidate:it,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:it,optimum:Ee,pattern:null,ping:Ft,placeholder:null,playsInline:it,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:it,referrerPolicy:null,rel:Ft,required:it,reversed:it,rows:Ee,rowSpan:Ee,sandbox:Ft,scope:null,scoped:it,seamless:it,selected:it,shadowRootClonable:it,shadowRootDelegatesFocus:it,shadowRootMode:null,shape:null,size:Ee,sizes:null,slot:null,span:Ee,spellCheck:sn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ee,step:null,style:null,tabIndex:Ee,target:null,title:null,translate:null,type:null,typeMustMatch:it,useMap:null,value:sn,width:Ee,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ft,axis:null,background:null,bgColor:null,border:Ee,borderColor:null,bottomMargin:Ee,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:it,declare:it,event:null,face:null,frame:null,frameBorder:null,hSpace:Ee,leftMargin:Ee,link:null,longDesc:null,lowSrc:null,marginHeight:Ee,marginWidth:Ee,noResize:it,noHref:it,noShade:it,noWrap:it,object:null,profile:null,prompt:null,rev:null,rightMargin:Ee,rules:null,scheme:null,scrolling:sn,standby:null,summary:null,text:null,topMargin:Ee,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ee,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:it,disableRemotePlayback:it,prefix:null,property:null,results:Ee,security:null,unselectable:null},space:"html",transform:ov}),KT=Fi({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Hn,accentHeight:Ee,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ee,amplitude:Ee,arabicForm:null,ascent:Ee,attributeName:null,attributeType:null,azimuth:Ee,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ee,by:null,calcMode:null,capHeight:Ee,className:Ft,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ee,diffuseConstant:Ee,direction:null,display:null,dur:null,divisor:Ee,dominantBaseline:null,download:it,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ee,enableBackground:null,end:null,event:null,exponent:Ee,externalResourcesRequired:null,fill:null,fillOpacity:Ee,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:_i,g2:_i,glyphName:_i,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ee,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ee,horizOriginX:Ee,horizOriginY:Ee,id:null,ideographic:Ee,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ee,k:Ee,k1:Ee,k2:Ee,k3:Ee,k4:Ee,kernelMatrix:Hn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ee,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ee,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ee,overlineThickness:Ee,paintOrder:null,panose1:null,path:null,pathLength:Ee,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ft,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ee,pointsAtY:Ee,pointsAtZ:Ee,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Hn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Hn,rev:Hn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Hn,requiredFeatures:Hn,requiredFonts:Hn,requiredFormats:Hn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ee,specularExponent:Ee,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ee,strikethroughThickness:Ee,string:null,stroke:null,strokeDashArray:Hn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ee,strokeOpacity:Ee,strokeWidth:null,style:null,surfaceScale:Ee,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Hn,tabIndex:Ee,tableValues:null,target:null,targetX:Ee,targetY:Ee,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Hn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ee,underlineThickness:Ee,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ee,values:null,vAlphabetic:Ee,vMathematical:Ee,vectorEffect:null,vHanging:Ee,vIdeographic:Ee,version:null,vertAdvY:Ee,vertOriginX:Ee,vertOriginY:Ee,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ee,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:iv}),sv=Fi({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),lv=Fi({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ov}),cv=Fi({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),YT={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},XT=/[A-Z]/g,vm=/-[a-z]/g,QT=/^data[-\w.:]+$/i;function ej(e,t){const n=Qu(t);let r=t,a=Pn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&QT.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(vm,nj);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!vm.test(s)){let o=s.replace(XT,tj);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=qd}return new a(r,t)}function tj(e){return"-"+e.toLowerCase()}function nj(e){return e.charAt(1).toUpperCase()}const rj=rv([av,JT,sv,lv,cv],"html"),Vd=rv([av,KT,sv,lv,cv],"svg");function aj(e){return e.join(" ").trim()}var Gd={},ym=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,ij=/\n/g,oj=/^\s*/,sj=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,lj=/^:\s*/,cj=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,uj=/^[;\s]*/,dj=/^\s+|\s+$/g,pj=`
`,bm="/",xm="*",$a="",fj="comment",hj="declaration";function mj(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(g){var _=g.match(ij);_&&(n+=_.length);var x=g.lastIndexOf(pj);r=~x?g.length-x:r+g.length}function s(){var g={line:n,column:r};return function(_){return _.position=new o(g),d(),_}}function o(g){this.start=g,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(g){var _=new Error(t.source+":"+n+":"+r+": "+g);if(_.reason=g,_.filename=t.source,_.line=n,_.column=r,_.source=e,!t.silent)throw _}function u(g){var _=g.exec(e);if(_){var x=_[0];return a(x),e=e.slice(x.length),_}}function d(){u(oj)}function p(g){var _;for(g=g||[];_=m();)_!==!1&&g.push(_);return g}function m(){var g=s();if(!(bm!=e.charAt(0)||xm!=e.charAt(1))){for(var _=2;$a!=e.charAt(_)&&(xm!=e.charAt(_)||bm!=e.charAt(_+1));)++_;if(_+=2,$a===e.charAt(_-1))return l("End of comment missing");var x=e.slice(2,_-2);return r+=2,a(x),e=e.slice(_),r+=2,g({type:fj,comment:x})}}function v(){var g=s(),_=u(sj);if(_){if(m(),!u(lj))return l("property missing ':'");var x=u(cj),k=g({type:hj,property:_m(_[0].replace(ym,$a)),value:x?_m(x[0].replace(ym,$a)):$a});return u(uj),k}}function y(){var g=[];p(g);for(var _;_=v();)_!==!1&&(g.push(_),p(g));return g}return d(),y()}function _m(e){return e?e.replace(dj,$a):$a}var gj=mj,vj=Vn&&Vn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gd,"__esModule",{value:!0});Gd.default=bj;const yj=vj(gj);function bj(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,yj.default)(e),a=typeof t=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:o,value:l}=s;a?t(o,l,s):l&&(n=n||{},n[o]=l)}),n}var Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.camelCase=void 0;var xj=/^--[a-zA-Z0-9_-]+$/,_j=/-([a-z])/g,wj=/^[^-]+$/,kj=/^-(webkit|moz|ms|o|khtml)-/,Cj=/^-(ms)-/,Sj=function(e){return!e||wj.test(e)||xj.test(e)},Ej=function(e,t){return t.toUpperCase()},wm=function(e,t){return"".concat(t,"-")},Aj=function(e,t){return t===void 0&&(t={}),Sj(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Cj,wm):e=e.replace(kj,wm),e.replace(_j,Ej))};Tl.camelCase=Aj;var Tj=Vn&&Vn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},jj=Tj(Gd),Ij=Tl;function nd(e,t){var n={};return!e||typeof e!="string"||(0,jj.default)(e,function(r,a){r&&a&&(n[(0,Ij.camelCase)(r,t)]=a)}),n}nd.default=nd;var Rj=nd;const Oj=Wa(Rj),uv=dv("end"),Jd=dv("start");function dv(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Fj(e){const t=Jd(e),n=uv(e);if(t&&n)return{start:t,end:n}}function mo(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?km(e.position):"start"in e||"end"in e?km(e):"line"in e||"column"in e?rd(e):""}function rd(e){return Cm(e&&e.line)+":"+Cm(e&&e.column)}function km(e){return rd(e&&e.start)+"-"+rd(e&&e.end)}function Cm(e){return e&&typeof e=="number"?e:1}class _n extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?a=t:!s.cause&&t&&(o=!0,a=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=l?l.line:void 0,this.name=mo(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}_n.prototype.file="";_n.prototype.name="";_n.prototype.reason="";_n.prototype.message="";_n.prototype.stack="";_n.prototype.column=void 0;_n.prototype.line=void 0;_n.prototype.ancestors=void 0;_n.prototype.cause=void 0;_n.prototype.fatal=void 0;_n.prototype.place=void 0;_n.prototype.ruleId=void 0;_n.prototype.source=void 0;const Kd={}.hasOwnProperty,zj=new Map,Mj=/[A-Z]/g,Nj=new Set(["table","tbody","thead","tfoot","tr"]),$j=new Set(["td","th"]),pv="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Pj(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=qj(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Wj(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Vd:rj,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=fv(a,e,void 0);return s&&typeof s!="string"?s:a.create(e,a.Fragment,{children:s||void 0},void 0)}function fv(e,t,n){if(t.type==="element")return Dj(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Lj(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Uj(e,t,n);if(t.type==="mdxjsEsm")return Bj(e,t);if(t.type==="root")return Zj(e,t,n);if(t.type==="text")return Hj(e,t)}function Dj(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=Vd,e.schema=a),e.ancestors.push(t);const s=mv(e,t.tagName,!1),o=Vj(e,t);let l=Xd(e,t);return Nj.has(t.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!VT(u):!0})),hv(e,o,s,t),Yd(o,l),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function Lj(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ko(e,t.position)}function Bj(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ko(e,t.position)}function Uj(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=Vd,e.schema=a),e.ancestors.push(t);const s=t.name===null?e.Fragment:mv(e,t.name,!0),o=Gj(e,t),l=Xd(e,t);return hv(e,o,s,t),Yd(o,l),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function Zj(e,t,n){const r={};return Yd(r,Xd(e,t)),e.create(t,e.Fragment,r,n)}function Hj(e,t){return t.value}function hv(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Yd(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Wj(e,t,n){return r;function r(a,s,o,l){const d=Array.isArray(o.children)?n:t;return l?d(s,o,l):d(s,o)}}function qj(e,t){return n;function n(r,a,s,o){const l=Array.isArray(s.children),u=Jd(r);return t(a,s,o,l,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function Vj(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&Kd.call(t.properties,a)){const s=Jj(e,a,t.properties[a]);if(s){const[o,l]=s;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&$j.has(t.tagName)?r=l:n[o]=l}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Gj(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else ko(e,t.position);else{const a=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,s=e.evaluater.evaluateExpression(l.expression)}else ko(e,t.position);else s=r.value===null?!0:r.value;n[a]=s}return n}function Xd(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:zj;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const d=a.get(u)||0;o=u+"-"+d,a.set(u,d+1)}}const l=fv(e,s,o);l!==void 0&&n.push(l)}return n}function Jj(e,t,n){const r=ej(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?UT(n):aj(n)),r.property==="style"){let a=typeof n=="object"?n:Kj(e,String(n));return e.stylePropertyNameCase==="css"&&(a=Yj(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?YT[r.property]||r.property:r.attribute,n]}}function Kj(e,t){try{return Oj(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new _n("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=pv+"#cannot-parse-style-attribute",a}}function mv(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let s=-1,o;for(;++s<a.length;){const l=hm(a[s])?{type:"Identifier",name:a[s]}:{type:"Literal",value:a[s]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=o}else r=hm(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return Kd.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);ko(e)}function ko(e,t){const n=new _n("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=pv+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Yj(e){const t={};let n;for(n in e)Kd.call(e,n)&&(t[Xj(n)]=e[n]);return t}function Xj(e){let t=e.replace(Mj,Qj);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Qj(e){return"-"+e.toLowerCase()}const fu={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},eI={};function tI(e,t){const n=eI,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return gv(e,r,a)}function gv(e,t,n){if(nI(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Sm(e.children,t,n)}return Array.isArray(e)?Sm(e,t,n):""}function Sm(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=gv(e[a],t,n);return r.join("")}function nI(e){return!!(e&&typeof e=="object")}const Em=document.createElement("i");function Qd(e){const t="&"+e+";";Em.innerHTML=t;const n=Em.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function zr(e,t,n,r){const a=e.length;let s=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function dr(e,t){return e.length>0?(zr(e,e.length,0,t),e):t}const Am={}.hasOwnProperty;function rI(e){const t={};let n=-1;for(;++n<e.length;)aI(t,e[n]);return t}function aI(e,t){let n;for(n in t){const a=(Am.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){Am.call(a,o)||(a[o]=[]);const l=s[o];iI(a[o],Array.isArray(l)?l:l?[l]:[])}}}function iI(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);zr(e,0,0,r)}function vv(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function wi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Fr=ba(/[A-Za-z]/),Gn=ba(/[\dA-Za-z]/),oI=ba(/[#-'*+\--9=?A-Z^-~]/);function ad(e){return e!==null&&(e<32||e===127)}const id=ba(/\d/),sI=ba(/[\dA-Fa-f]/),lI=ba(/[!-/:-@[-`{-~]/);function Xe(e){return e!==null&&e<-2}function $n(e){return e!==null&&(e<0||e===32)}function kt(e){return e===-2||e===-1||e===32}const cI=ba(new RegExp("\\p{P}|\\p{S}","u")),uI=ba(/\s/);function ba(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function zi(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&Gn(e.charCodeAt(n+1))&&Gn(e.charCodeAt(n+2)))a=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const l=e.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(o=String.fromCharCode(s,l),a=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function Mt(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return kt(u)?(e.enter(n),l(u)):t(u)}function l(u){return kt(u)&&s++<a?(e.consume(u),l):(e.exit(n),t(u))}}const dI={tokenize:pI};function pI(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Mt(e,t,"linePrefix")}function a(l){return e.enter("paragraph"),s(l)}function s(l){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return Xe(l)?(e.consume(l),e.exit("chunkText"),s):(e.consume(l),o)}}const fI={tokenize:hI},Tm={tokenize:mI};function hI(e){const t=this,n=[];let r=0,a,s,o;return l;function l(T){if(r<n.length){const j=n[r];return t.containerState=j[1],e.attempt(j[0].continuation,u,d)(T)}return d(T)}function u(T){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&A();const j=t.events.length;let F=j,O;for(;F--;)if(t.events[F][0]==="exit"&&t.events[F][1].type==="chunkFlow"){O=t.events[F][1].end;break}k(r);let B=j;for(;B<t.events.length;)t.events[B][1].end={...O},B++;return zr(t.events,F+1,0,t.events.slice(j)),t.events.length=B,d(T)}return l(T)}function d(T){if(r===n.length){if(!a)return v(T);if(a.currentConstruct&&a.currentConstruct.concrete)return g(T);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Tm,p,m)(T)}function p(T){return a&&A(),k(r),v(T)}function m(T){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,g(T)}function v(T){return t.containerState={},e.attempt(Tm,y,g)(T)}function y(T){return r++,n.push([t.currentConstruct,t.containerState]),v(T)}function g(T){if(T===null){a&&A(),k(0),e.consume(T);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:s}),_(T)}function _(T){if(T===null){x(e.exit("chunkFlow"),!0),k(0),e.consume(T);return}return Xe(T)?(e.consume(T),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(T),_)}function x(T,j){const F=t.sliceStream(T);if(j&&F.push(null),T.previous=s,s&&(s.next=T),s=T,a.defineSkip(T.start),a.write(F),t.parser.lazy[T.start.line]){let O=a.events.length;for(;O--;)if(a.events[O][1].start.offset<o&&(!a.events[O][1].end||a.events[O][1].end.offset>o))return;const B=t.events.length;let L=B,V,q;for(;L--;)if(t.events[L][0]==="exit"&&t.events[L][1].type==="chunkFlow"){if(V){q=t.events[L][1].end;break}V=!0}for(k(r),O=B;O<t.events.length;)t.events[O][1].end={...q},O++;zr(t.events,L+1,0,t.events.slice(B)),t.events.length=O}}function k(T){let j=n.length;for(;j-- >T;){const F=n[j];t.containerState=F[1],F[0].exit.call(t,e)}n.length=T}function A(){a.write([null]),s=void 0,a=void 0,t.containerState._closeFlow=void 0}}function mI(e,t,n){return Mt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function jm(e){if(e===null||$n(e)||uI(e))return 1;if(cI(e))return 2}function ep(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const s=e[a].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const od={name:"attention",resolveAll:gI,tokenize:vI};function gI(e,t){let n=-1,r,a,s,o,l,u,d,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const m={...e[r][1].end},v={...e[n][1].start};Im(m,-u),Im(v,u),o={type:u>1?"strongSequence":"emphasisSequence",start:m,end:{...e[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},s={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:u>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[r][1].end={...o.start},e[n][1].start={...l.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=dr(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=dr(d,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",s,t]]),d=dr(d,ep(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=dr(d,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,d=dr(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,zr(e,r-1,n-r+3,d),n=r+d.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function vI(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=jm(r);let s;return o;function o(u){return s=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===s)return e.consume(u),l;const d=e.exit("attentionSequence"),p=jm(u),m=!p||p===2&&a||n.includes(u),v=!a||a===2&&p||n.includes(r);return d._open=!!(s===42?m:m&&(a||!v)),d._close=!!(s===42?v:v&&(p||!m)),t(u)}}function Im(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const yI={name:"autolink",tokenize:bI};function bI(e,t,n){let r=0;return a;function a(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(y){return Fr(y)?(e.consume(y),o):y===64?n(y):d(y)}function o(y){return y===43||y===45||y===46||Gn(y)?(r=1,l(y)):d(y)}function l(y){return y===58?(e.consume(y),r=0,u):(y===43||y===45||y===46||Gn(y))&&r++<32?(e.consume(y),l):(r=0,d(y))}function u(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||ad(y)?n(y):(e.consume(y),u)}function d(y){return y===64?(e.consume(y),p):oI(y)?(e.consume(y),d):n(y)}function p(y){return Gn(y)?m(y):n(y)}function m(y){return y===46?(e.consume(y),r=0,p):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):v(y)}function v(y){if((y===45||Gn(y))&&r++<63){const g=y===45?v:m;return e.consume(y),g}return n(y)}}const jl={partial:!0,tokenize:xI};function xI(e,t,n){return r;function r(s){return kt(s)?Mt(e,a,"linePrefix")(s):a(s)}function a(s){return s===null||Xe(s)?t(s):n(s)}}const yv={continuation:{tokenize:wI},exit:kI,name:"blockQuote",tokenize:_I};function _I(e,t,n){const r=this;return a;function a(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return kt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function wI(e,t,n){const r=this;return a;function a(o){return kt(o)?Mt(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(yv,t,n)(o)}}function kI(e){e.exit("blockQuote")}const bv={name:"characterEscape",tokenize:CI};function CI(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),a}function a(s){return lI(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const xv={name:"characterReference",tokenize:SI};function SI(e,t,n){const r=this;let a=0,s,o;return l;function l(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),u}function u(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),s=31,o=Gn,p(m))}function d(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=sI,p):(e.enter("characterReferenceValue"),s=7,o=id,p(m))}function p(m){if(m===59&&a){const v=e.exit("characterReferenceValue");return o===Gn&&!Qd(r.sliceSerialize(v))?n(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(m)&&a++<s?(e.consume(m),p):n(m)}}const Rm={partial:!0,tokenize:AI},Om={concrete:!0,name:"codeFenced",tokenize:EI};function EI(e,t,n){const r=this,a={partial:!0,tokenize:F};let s=0,o=0,l;return u;function u(O){return d(O)}function d(O){const B=r.events[r.events.length-1];return s=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,l=O,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(O)}function p(O){return O===l?(o++,e.consume(O),p):o<3?n(O):(e.exit("codeFencedFenceSequence"),kt(O)?Mt(e,m,"whitespace")(O):m(O))}function m(O){return O===null||Xe(O)?(e.exit("codeFencedFence"),r.interrupt?t(O):e.check(Rm,_,j)(O)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(O))}function v(O){return O===null||Xe(O)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m(O)):kt(O)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Mt(e,y,"whitespace")(O)):O===96&&O===l?n(O):(e.consume(O),v)}function y(O){return O===null||Xe(O)?m(O):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(O))}function g(O){return O===null||Xe(O)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(O)):O===96&&O===l?n(O):(e.consume(O),g)}function _(O){return e.attempt(a,j,x)(O)}function x(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),k}function k(O){return s>0&&kt(O)?Mt(e,A,"linePrefix",s+1)(O):A(O)}function A(O){return O===null||Xe(O)?e.check(Rm,_,j)(O):(e.enter("codeFlowValue"),T(O))}function T(O){return O===null||Xe(O)?(e.exit("codeFlowValue"),A(O)):(e.consume(O),T)}function j(O){return e.exit("codeFenced"),t(O)}function F(O,B,L){let V=0;return q;function q(w){return O.enter("lineEnding"),O.consume(w),O.exit("lineEnding"),D}function D(w){return O.enter("codeFencedFence"),kt(w)?Mt(O,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):X(w)}function X(w){return w===l?(O.enter("codeFencedFenceSequence"),M(w)):L(w)}function M(w){return w===l?(V++,O.consume(w),M):V>=o?(O.exit("codeFencedFenceSequence"),kt(w)?Mt(O,Y,"whitespace")(w):Y(w)):L(w)}function Y(w){return w===null||Xe(w)?(O.exit("codeFencedFence"),B(w)):L(w)}}}function AI(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const hu={name:"codeIndented",tokenize:jI},TI={partial:!0,tokenize:II};function jI(e,t,n){const r=this;return a;function a(d){return e.enter("codeIndented"),Mt(e,s,"linePrefix",5)(d)}function s(d){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?o(d):n(d)}function o(d){return d===null?u(d):Xe(d)?e.attempt(TI,o,u)(d):(e.enter("codeFlowValue"),l(d))}function l(d){return d===null||Xe(d)?(e.exit("codeFlowValue"),o(d)):(e.consume(d),l)}function u(d){return e.exit("codeIndented"),t(d)}}function II(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):Xe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):Mt(e,s,"linePrefix",5)(o)}function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):Xe(o)?a(o):n(o)}}const RI={name:"codeText",previous:FI,resolve:OI,tokenize:zI};function OI(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function FI(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function zI(e,t,n){let r=0,a,s;return o;function o(m){return e.enter("codeText"),e.enter("codeTextSequence"),l(m)}function l(m){return m===96?(e.consume(m),r++,l):(e.exit("codeTextSequence"),u(m))}function u(m){return m===null?n(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),u):m===96?(s=e.enter("codeTextSequence"),a=0,p(m)):Xe(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),u):(e.enter("codeTextData"),d(m))}function d(m){return m===null||m===32||m===96||Xe(m)?(e.exit("codeTextData"),u(m)):(e.consume(m),d)}function p(m){return m===96?(e.consume(m),a++,p):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(m)):(s.type="codeTextData",d(m))}}class MI{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&io(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),io(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),io(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);io(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);io(this.left,n.reverse())}}}function io(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function _v(e){const t={};let n=-1,r,a,s,o,l,u,d;const p=new MI(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,NI(p,n)),n=t[n],d=!0);else if(r[1]._container){for(s=n,a=void 0;s--;)if(o=p.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(p.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(r[1].end={...p.get(a)[1].start},l=p.slice(a,n),l.unshift(r),p.splice(a,n-a+1,l))}}return zr(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!d}function NI(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,u=[],d={};let p,m,v=-1,y=n,g=0,_=0;const x=[_];for(;y;){for(;e.get(++a)[1]!==y;);s.push(a),y._tokenizer||(p=r.sliceStream(y),y.next||p.push(null),m&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(p),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),m=y,y=y.next}for(y=n;++v<l.length;)l[v][0]==="exit"&&l[v-1][0]==="enter"&&l[v][1].type===l[v-1][1].type&&l[v][1].start.line!==l[v][1].end.line&&(_=v+1,x.push(_),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):x.pop(),v=x.length;v--;){const k=l.slice(x[v],x[v+1]),A=s.pop();u.push([A,A+k.length-1]),e.splice(A,2,k)}for(u.reverse(),v=-1;++v<u.length;)d[g+u[v][0]]=g+u[v][1],g+=u[v][1]-u[v][0]-1;return d}const $I={resolve:DI,tokenize:LI},PI={partial:!0,tokenize:BI};function DI(e){return _v(e),e}function LI(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(l)}function a(l){return l===null?s(l):Xe(l)?e.check(PI,o,s)(l):(e.consume(l),a)}function s(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function BI(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Mt(e,s,"linePrefix")}function s(o){if(o===null||Xe(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function wv(e,t,n,r,a,s,o,l,u){const d=u||Number.POSITIVE_INFINITY;let p=0;return m;function m(k){return k===60?(e.enter(r),e.enter(a),e.enter(s),e.consume(k),e.exit(s),v):k===null||k===32||k===41||ad(k)?n(k):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),_(k))}function v(k){return k===62?(e.enter(s),e.consume(k),e.exit(s),e.exit(a),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===62?(e.exit("chunkString"),e.exit(l),v(k)):k===null||k===60||Xe(k)?n(k):(e.consume(k),k===92?g:y)}function g(k){return k===60||k===62||k===92?(e.consume(k),y):y(k)}function _(k){return!p&&(k===null||k===41||$n(k))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(k)):p<d&&k===40?(e.consume(k),p++,_):k===41?(e.consume(k),p--,_):k===null||k===32||k===40||ad(k)?n(k):(e.consume(k),k===92?x:_)}function x(k){return k===40||k===41||k===92?(e.consume(k),_):_(k)}}function kv(e,t,n,r,a,s){const o=this;let l=0,u;return d;function d(y){return e.enter(r),e.enter(a),e.consume(y),e.exit(a),e.enter(s),p}function p(y){return l>999||y===null||y===91||y===93&&!u||y===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(e.exit(s),e.enter(a),e.consume(y),e.exit(a),e.exit(r),t):Xe(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===null||y===91||y===93||Xe(y)||l++>999?(e.exit("chunkString"),p(y)):(e.consume(y),u||(u=!kt(y)),y===92?v:m)}function v(y){return y===91||y===92||y===93?(e.consume(y),l++,m):m(y)}}function Cv(e,t,n,r,a,s){let o;return l;function l(v){return v===34||v===39||v===40?(e.enter(r),e.enter(a),e.consume(v),e.exit(a),o=v===40?41:v,u):n(v)}function u(v){return v===o?(e.enter(a),e.consume(v),e.exit(a),e.exit(r),t):(e.enter(s),d(v))}function d(v){return v===o?(e.exit(s),u(o)):v===null?n(v):Xe(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),Mt(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===o||v===null||Xe(v)?(e.exit("chunkString"),d(v)):(e.consume(v),v===92?m:p)}function m(v){return v===o||v===92?(e.consume(v),p):p(v)}}function go(e,t){let n;return r;function r(a){return Xe(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):kt(a)?Mt(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const UI={name:"definition",tokenize:HI},ZI={partial:!0,tokenize:WI};function HI(e,t,n){const r=this;let a;return s;function s(y){return e.enter("definition"),o(y)}function o(y){return kv.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function l(y){return a=wi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),u):n(y)}function u(y){return $n(y)?go(e,d)(y):d(y)}function d(y){return wv(e,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function p(y){return e.attempt(ZI,m,m)(y)}function m(y){return kt(y)?Mt(e,v,"whitespace")(y):v(y)}function v(y){return y===null||Xe(y)?(e.exit("definition"),r.parser.defined.push(a),t(y)):n(y)}}function WI(e,t,n){return r;function r(l){return $n(l)?go(e,a)(l):n(l)}function a(l){return Cv(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return kt(l)?Mt(e,o,"whitespace")(l):o(l)}function o(l){return l===null||Xe(l)?t(l):n(l)}}const qI={name:"hardBreakEscape",tokenize:VI};function VI(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),a}function a(s){return Xe(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const GI={name:"headingAtx",resolve:JI,tokenize:KI};function JI(e,t){let n=e.length-2,r=3,a,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},zr(e,r,n-r+1,[["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t]])),e}function KI(e,t,n){let r=0;return a;function a(p){return e.enter("atxHeading"),s(p)}function s(p){return e.enter("atxHeadingSequence"),o(p)}function o(p){return p===35&&r++<6?(e.consume(p),o):p===null||$n(p)?(e.exit("atxHeadingSequence"),l(p)):n(p)}function l(p){return p===35?(e.enter("atxHeadingSequence"),u(p)):p===null||Xe(p)?(e.exit("atxHeading"),t(p)):kt(p)?Mt(e,l,"whitespace")(p):(e.enter("atxHeadingText"),d(p))}function u(p){return p===35?(e.consume(p),u):(e.exit("atxHeadingSequence"),l(p))}function d(p){return p===null||p===35||$n(p)?(e.exit("atxHeadingText"),l(p)):(e.consume(p),d)}}const YI=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Fm=["pre","script","style","textarea"],XI={concrete:!0,name:"htmlFlow",resolveTo:tR,tokenize:nR},QI={partial:!0,tokenize:aR},eR={partial:!0,tokenize:rR};function tR(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function nR(e,t,n){const r=this;let a,s,o,l,u;return d;function d(R){return p(R)}function p(R){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(R),m}function m(R){return R===33?(e.consume(R),v):R===47?(e.consume(R),s=!0,_):R===63?(e.consume(R),a=3,r.interrupt?t:z):Fr(R)?(e.consume(R),o=String.fromCharCode(R),x):n(R)}function v(R){return R===45?(e.consume(R),a=2,y):R===91?(e.consume(R),a=5,l=0,g):Fr(R)?(e.consume(R),a=4,r.interrupt?t:z):n(R)}function y(R){return R===45?(e.consume(R),r.interrupt?t:z):n(R)}function g(R){const Ie="CDATA[";return R===Ie.charCodeAt(l++)?(e.consume(R),l===Ie.length?r.interrupt?t:X:g):n(R)}function _(R){return Fr(R)?(e.consume(R),o=String.fromCharCode(R),x):n(R)}function x(R){if(R===null||R===47||R===62||$n(R)){const Ie=R===47,le=o.toLowerCase();return!Ie&&!s&&Fm.includes(le)?(a=1,r.interrupt?t(R):X(R)):YI.includes(o.toLowerCase())?(a=6,Ie?(e.consume(R),k):r.interrupt?t(R):X(R)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(R):s?A(R):T(R))}return R===45||Gn(R)?(e.consume(R),o+=String.fromCharCode(R),x):n(R)}function k(R){return R===62?(e.consume(R),r.interrupt?t:X):n(R)}function A(R){return kt(R)?(e.consume(R),A):q(R)}function T(R){return R===47?(e.consume(R),q):R===58||R===95||Fr(R)?(e.consume(R),j):kt(R)?(e.consume(R),T):q(R)}function j(R){return R===45||R===46||R===58||R===95||Gn(R)?(e.consume(R),j):F(R)}function F(R){return R===61?(e.consume(R),O):kt(R)?(e.consume(R),F):T(R)}function O(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),u=R,B):kt(R)?(e.consume(R),O):L(R)}function B(R){return R===u?(e.consume(R),u=null,V):R===null||Xe(R)?n(R):(e.consume(R),B)}function L(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||$n(R)?F(R):(e.consume(R),L)}function V(R){return R===47||R===62||kt(R)?T(R):n(R)}function q(R){return R===62?(e.consume(R),D):n(R)}function D(R){return R===null||Xe(R)?X(R):kt(R)?(e.consume(R),D):n(R)}function X(R){return R===45&&a===2?(e.consume(R),P):R===60&&a===1?(e.consume(R),_e):R===62&&a===4?(e.consume(R),Se):R===63&&a===3?(e.consume(R),z):R===93&&a===5?(e.consume(R),ue):Xe(R)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(QI,ae,M)(R)):R===null||Xe(R)?(e.exit("htmlFlowData"),M(R)):(e.consume(R),X)}function M(R){return e.check(eR,Y,ae)(R)}function Y(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),w}function w(R){return R===null||Xe(R)?M(R):(e.enter("htmlFlowData"),X(R))}function P(R){return R===45?(e.consume(R),z):X(R)}function _e(R){return R===47?(e.consume(R),o="",se):X(R)}function se(R){if(R===62){const Ie=o.toLowerCase();return Fm.includes(Ie)?(e.consume(R),Se):X(R)}return Fr(R)&&o.length<8?(e.consume(R),o+=String.fromCharCode(R),se):X(R)}function ue(R){return R===93?(e.consume(R),z):X(R)}function z(R){return R===62?(e.consume(R),Se):R===45&&a===2?(e.consume(R),z):X(R)}function Se(R){return R===null||Xe(R)?(e.exit("htmlFlowData"),ae(R)):(e.consume(R),Se)}function ae(R){return e.exit("htmlFlow"),t(R)}}function rR(e,t,n){const r=this;return a;function a(o){return Xe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function aR(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(jl,t,n)}}const iR={name:"htmlText",tokenize:oR};function oR(e,t,n){const r=this;let a,s,o;return l;function l(z){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(z),u}function u(z){return z===33?(e.consume(z),d):z===47?(e.consume(z),F):z===63?(e.consume(z),T):Fr(z)?(e.consume(z),L):n(z)}function d(z){return z===45?(e.consume(z),p):z===91?(e.consume(z),s=0,g):Fr(z)?(e.consume(z),A):n(z)}function p(z){return z===45?(e.consume(z),y):n(z)}function m(z){return z===null?n(z):z===45?(e.consume(z),v):Xe(z)?(o=m,_e(z)):(e.consume(z),m)}function v(z){return z===45?(e.consume(z),y):m(z)}function y(z){return z===62?P(z):z===45?v(z):m(z)}function g(z){const Se="CDATA[";return z===Se.charCodeAt(s++)?(e.consume(z),s===Se.length?_:g):n(z)}function _(z){return z===null?n(z):z===93?(e.consume(z),x):Xe(z)?(o=_,_e(z)):(e.consume(z),_)}function x(z){return z===93?(e.consume(z),k):_(z)}function k(z){return z===62?P(z):z===93?(e.consume(z),k):_(z)}function A(z){return z===null||z===62?P(z):Xe(z)?(o=A,_e(z)):(e.consume(z),A)}function T(z){return z===null?n(z):z===63?(e.consume(z),j):Xe(z)?(o=T,_e(z)):(e.consume(z),T)}function j(z){return z===62?P(z):T(z)}function F(z){return Fr(z)?(e.consume(z),O):n(z)}function O(z){return z===45||Gn(z)?(e.consume(z),O):B(z)}function B(z){return Xe(z)?(o=B,_e(z)):kt(z)?(e.consume(z),B):P(z)}function L(z){return z===45||Gn(z)?(e.consume(z),L):z===47||z===62||$n(z)?V(z):n(z)}function V(z){return z===47?(e.consume(z),P):z===58||z===95||Fr(z)?(e.consume(z),q):Xe(z)?(o=V,_e(z)):kt(z)?(e.consume(z),V):P(z)}function q(z){return z===45||z===46||z===58||z===95||Gn(z)?(e.consume(z),q):D(z)}function D(z){return z===61?(e.consume(z),X):Xe(z)?(o=D,_e(z)):kt(z)?(e.consume(z),D):V(z)}function X(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(e.consume(z),a=z,M):Xe(z)?(o=X,_e(z)):kt(z)?(e.consume(z),X):(e.consume(z),Y)}function M(z){return z===a?(e.consume(z),a=void 0,w):z===null?n(z):Xe(z)?(o=M,_e(z)):(e.consume(z),M)}function Y(z){return z===null||z===34||z===39||z===60||z===61||z===96?n(z):z===47||z===62||$n(z)?V(z):(e.consume(z),Y)}function w(z){return z===47||z===62||$n(z)?V(z):n(z)}function P(z){return z===62?(e.consume(z),e.exit("htmlTextData"),e.exit("htmlText"),t):n(z)}function _e(z){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),se}function se(z){return kt(z)?Mt(e,ue,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):ue(z)}function ue(z){return e.enter("htmlTextData"),o(z)}}const tp={name:"labelEnd",resolveAll:uR,resolveTo:dR,tokenize:pR},sR={tokenize:fR},lR={tokenize:hR},cR={tokenize:mR};function uR(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&zr(e,0,e.length,n),e}function dR(e,t){let n=e.length,r=0,a,s,o,l;for(;n--;)if(a=e[n][1],s){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(s=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},p={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",u,t],["enter",d,t]],l=dr(l,e.slice(s+1,s+r+3)),l=dr(l,[["enter",p,t]]),l=dr(l,ep(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),l=dr(l,[["exit",p,t],e[o-2],e[o-1],["exit",d,t]]),l=dr(l,e.slice(o+1)),l=dr(l,[["exit",u,t]]),zr(e,s,e.length,l),e}function pR(e,t,n){const r=this;let a=r.events.length,s,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){s=r.events[a][1];break}return l;function l(v){return s?s._inactive?m(v):(o=r.parser.defined.includes(wi(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),u):n(v)}function u(v){return v===40?e.attempt(sR,p,o?p:m)(v):v===91?e.attempt(lR,p,o?d:m)(v):o?p(v):m(v)}function d(v){return e.attempt(cR,p,m)(v)}function p(v){return t(v)}function m(v){return s._balanced=!0,n(v)}}function fR(e,t,n){return r;function r(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),a}function a(m){return $n(m)?go(e,s)(m):s(m)}function s(m){return m===41?p(m):wv(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function o(m){return $n(m)?go(e,u)(m):p(m)}function l(m){return n(m)}function u(m){return m===34||m===39||m===40?Cv(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function d(m){return $n(m)?go(e,p)(m):p(m)}function p(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),t):n(m)}}function hR(e,t,n){const r=this;return a;function a(l){return kv.call(r,e,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(wi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function mR(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),a}function a(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const gR={name:"labelStartImage",resolveAll:tp.resolveAll,tokenize:vR};function vR(e,t,n){const r=this;return a;function a(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),s}function s(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const yR={name:"labelStartLink",resolveAll:tp.resolveAll,tokenize:bR};function bR(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const mu={name:"lineEnding",tokenize:xR};function xR(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Mt(e,t,"linePrefix")}}const Zs={name:"thematicBreak",tokenize:_R};function _R(e,t,n){let r=0,a;return s;function s(d){return e.enter("thematicBreak"),o(d)}function o(d){return a=d,l(d)}function l(d){return d===a?(e.enter("thematicBreakSequence"),u(d)):r>=3&&(d===null||Xe(d))?(e.exit("thematicBreak"),t(d)):n(d)}function u(d){return d===a?(e.consume(d),r++,u):(e.exit("thematicBreakSequence"),kt(d)?Mt(e,l,"whitespace")(d):l(d))}}const Mn={continuation:{tokenize:SR},exit:AR,name:"list",tokenize:CR},wR={partial:!0,tokenize:TR},kR={partial:!0,tokenize:ER};function CR(e,t,n){const r=this,a=r.events[r.events.length-1];let s=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return l;function l(y){const g=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:id(y)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(Zs,n,d)(y):d(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(y)}return n(y)}function u(y){return id(y)&&++o<10?(e.consume(y),u):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),d(y)):n(y)}function d(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(jl,r.interrupt?n:p,e.attempt(wR,v,m))}function p(y){return r.containerState.initialBlankLine=!0,s++,v(y)}function m(y){return kt(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),v):n(y)}function v(y){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function SR(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(jl,a,s);function a(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Mt(e,t,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!kt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(kR,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Mt(e,e.attempt(Mn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function ER(e,t,n){const r=this;return Mt(e,a,"listItemIndent",r.containerState.size+1);function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function AR(e){e.exit(this.containerState.type)}function TR(e,t,n){const r=this;return Mt(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(s){const o=r.events[r.events.length-1];return!kt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const zm={name:"setextUnderline",resolveTo:jR,tokenize:IR};function jR(e,t){let n=e.length,r,a,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",s?(e.splice(a,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function IR(e,t,n){const r=this;let a;return s;function s(d){let p=r.events.length,m;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){m=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(e.enter("setextHeadingLine"),a=d,o(d)):n(d)}function o(d){return e.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===a?(e.consume(d),l):(e.exit("setextHeadingLineSequence"),kt(d)?Mt(e,u,"lineSuffix")(d):u(d))}function u(d){return d===null||Xe(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const RR={tokenize:OR};function OR(e){const t=this,n=e.attempt(jl,r,e.attempt(this.parser.constructs.flowInitial,a,Mt(e,e.attempt(this.parser.constructs.flow,a,e.attempt($I,a)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const FR={resolveAll:Ev()},zR=Sv("string"),MR=Sv("text");function Sv(e){return{resolveAll:Ev(e==="text"?NR:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],s=n.attempt(a,o,l);return o;function o(p){return d(p)?s(p):l(p)}function l(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),u}function u(p){return d(p)?(n.exit("data"),s(p)):(n.consume(p),u)}function d(p){if(p===null)return!0;const m=a[p];let v=-1;if(m)for(;++v<m.length;){const y=m[v];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Ev(e){return t;function t(n,r){let a=-1,s;for(;++a<=n.length;)s===void 0?n[a]&&n[a][1].type==="data"&&(s=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==s+2&&(n[s][1].end=n[a-1][1].end,n.splice(s+2,a-s-2),a=s+2),s=void 0);return e?e(n,r):n}}function NR(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let s=a.length,o=-1,l=0,u;for(;s--;){const d=a[s];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(d===-2)u=!0,l++;else if(d!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const d={type:n===e.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const $R={42:Mn,43:Mn,45:Mn,48:Mn,49:Mn,50:Mn,51:Mn,52:Mn,53:Mn,54:Mn,55:Mn,56:Mn,57:Mn,62:yv},PR={91:UI},DR={[-2]:hu,[-1]:hu,32:hu},LR={35:GI,42:Zs,45:[zm,Zs],60:XI,61:zm,95:Zs,96:Om,126:Om},BR={38:xv,92:bv},UR={[-5]:mu,[-4]:mu,[-3]:mu,33:gR,38:xv,42:od,60:[yI,iR],91:yR,92:[qI,bv],93:tp,95:od,96:RI},ZR={null:[od,FR]},HR={null:[42,95]},WR={null:[]},qR=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:HR,contentInitial:PR,disable:WR,document:$R,flow:LR,flowInitial:DR,insideSpan:ZR,string:BR,text:UR},Symbol.toStringTag,{value:"Module"}));function VR(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},s=[];let o=[],l=[];const u={attempt:B(F),check:B(O),consume:A,enter:T,exit:j,interrupt:B(O,{interrupt:!0})},d={code:null,containerState:{},defineSkip:_,events:[],now:g,parser:e,previous:null,sliceSerialize:v,sliceStream:y,write:m};let p=t.tokenize.call(d,u);return t.resolveAll&&s.push(t),d;function m(D){return o=dr(o,D),x(),o[o.length-1]!==null?[]:(L(t,0),d.events=ep(s,d.events,d),d.events)}function v(D,X){return JR(y(D),X)}function y(D){return GR(o,D)}function g(){const{_bufferIndex:D,_index:X,line:M,column:Y,offset:w}=r;return{_bufferIndex:D,_index:X,line:M,column:Y,offset:w}}function _(D){a[D.line]=D.column,q()}function x(){let D;for(;r._index<o.length;){const X=o[r._index];if(typeof X=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<X.length;)k(X.charCodeAt(r._bufferIndex));else k(X)}}function k(D){p=p(D)}function A(D){Xe(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,q()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=D}function T(D,X){const M=X||{};return M.type=D,M.start=g(),d.events.push(["enter",M,d]),l.push(M),M}function j(D){const X=l.pop();return X.end=g(),d.events.push(["exit",X,d]),X}function F(D,X){L(D,X.from)}function O(D,X){X.restore()}function B(D,X){return M;function M(Y,w,P){let _e,se,ue,z;return Array.isArray(Y)?ae(Y):"tokenize"in Y?ae([Y]):Se(Y);function Se(ne){return Ge;function Ge(Je){const de=Je!==null&&ne[Je],Oe=Je!==null&&ne.null,ve=[...Array.isArray(de)?de:de?[de]:[],...Array.isArray(Oe)?Oe:Oe?[Oe]:[]];return ae(ve)(Je)}}function ae(ne){return _e=ne,se=0,ne.length===0?P:R(ne[se])}function R(ne){return Ge;function Ge(Je){return z=V(),ue=ne,ne.partial||(d.currentConstruct=ne),ne.name&&d.parser.constructs.disable.null.includes(ne.name)?le():ne.tokenize.call(X?Object.assign(Object.create(d),X):d,u,Ie,le)(Je)}}function Ie(ne){return D(ue,z),w}function le(ne){return z.restore(),++se<_e.length?R(_e[se]):P}}}function L(D,X){D.resolveAll&&!s.includes(D)&&s.push(D),D.resolve&&zr(d.events,X,d.events.length-X,D.resolve(d.events.slice(X),d)),D.resolveTo&&(d.events=D.resolveTo(d.events,d))}function V(){const D=g(),X=d.previous,M=d.currentConstruct,Y=d.events.length,w=Array.from(l);return{from:Y,restore:P};function P(){r=D,d.previous=X,d.currentConstruct=M,d.events.length=Y,l=w,q()}}function q(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function GR(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,s=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,s)];else{if(o=e.slice(n,a),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}s>0&&o.push(e[a].slice(0,s))}return o}function JR(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(s)}a=s===-2,r.push(o)}return r.join("")}function KR(e){const r={constructs:rI([qR,...(e||{}).extensions||[]]),content:a(dI),defined:[],document:a(fI),flow:a(RR),lazy:{},string:a(zR),text:a(MR)};return r;function a(s){return o;function o(l){return VR(r,s,l)}}}function YR(e){for(;!_v(e););return e}const Mm=/[\0\t\n\r]/g;function XR(){let e=1,t="",n=!0,r;return a;function a(s,o,l){const u=[];let d,p,m,v,y;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),m=0,t="",n&&(s.charCodeAt(0)===65279&&m++,n=void 0);m<s.length;){if(Mm.lastIndex=m,d=Mm.exec(s),v=d&&d.index!==void 0?d.index:s.length,y=s.charCodeAt(v),!d){t=s.slice(m);break}if(y===10&&m===v&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),m<v&&(u.push(s.slice(m,v)),e+=v-m),y){case 0:{u.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,u.push(-2);e++<p;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}m=v+1}return l&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const QR=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function e7(e){return e.replace(QR,t7)}function t7(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),s=a===120||a===88;return vv(n.slice(s?2:1),s?16:10)}return Qd(n)||e}const Av={}.hasOwnProperty;function n7(e,t,n){return typeof t!="string"&&(n=t,t=void 0),r7(n)(YR(KR(n).document().write(XR()(e,t,!0))))}function r7(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(C),autolinkProtocol:V,autolinkEmail:V,atxHeading:s(S),blockQuote:s(Oe),characterEscape:V,characterReference:V,codeFenced:s(ve),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ve,o),codeText:s(Re,o),codeTextData:V,data:V,codeFlowValue:V,definition:s(Ye),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Ve),hardBreakEscape:s(ce),hardBreakTrailing:s(ce),htmlFlow:s(W,o),htmlFlowData:V,htmlText:s(W,o),htmlTextData:V,image:s($),label:o,link:s(C),listItem:s(ge),listItemValue:v,listOrdered:s(J,m),listUnordered:s(J),paragraph:s(be),reference:R,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(S),strong:s(ee),thematicBreak:s(he)},exit:{atxHeading:u(),atxHeadingSequence:F,autolink:u(),autolinkEmail:de,autolinkProtocol:Je,blockQuote:u(),characterEscapeValue:q,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:ne,characterReference:Ge,codeFenced:u(x),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:g,codeFlowValue:q,codeIndented:u(k),codeText:u(w),codeTextData:q,data:q,definition:u(),definitionDestinationString:j,definitionLabelString:A,definitionTitleString:T,emphasis:u(),hardBreakEscape:u(X),hardBreakTrailing:u(X),htmlFlow:u(M),htmlFlowData:q,htmlText:u(Y),htmlTextData:q,image:u(_e),label:ue,labelText:se,lineEnding:D,link:u(P),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:Ie,resourceDestinationString:z,resourceTitleString:Se,resource:ae,setextHeading:u(L),setextHeadingLineSequence:B,setextHeadingText:O,strong:u(),thematicBreak:u()}};Tv(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Z){let ie={type:"root",children:[]};const ke={stack:[ie],tokenStack:[],config:t,enter:l,exit:d,buffer:o,resume:p,data:n},Te=[];let Be=-1;for(;++Be<Z.length;)if(Z[Be][1].type==="listOrdered"||Z[Be][1].type==="listUnordered")if(Z[Be][0]==="enter")Te.push(Be);else{const ft=Te.pop();Be=a(Z,ft,Be)}for(Be=-1;++Be<Z.length;){const ft=t[Z[Be][0]];Av.call(ft,Z[Be][1].type)&&ft[Z[Be][1].type].call(Object.assign({sliceSerialize:Z[Be][2].sliceSerialize},ke),Z[Be][1])}if(ke.tokenStack.length>0){const ft=ke.tokenStack[ke.tokenStack.length-1];(ft[1]||Nm).call(ke,void 0,ft[0])}for(ie.position={start:ca(Z.length>0?Z[0][1].start:{line:1,column:1,offset:0}),end:ca(Z.length>0?Z[Z.length-2][1].end:{line:1,column:1,offset:0})},Be=-1;++Be<t.transforms.length;)ie=t.transforms[Be](ie)||ie;return ie}function a(Z,ie,ke){let Te=ie-1,Be=-1,ft=!1,Ct,vt,tt,cn;for(;++Te<=ke;){const yt=Z[Te];switch(yt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{yt[0]==="enter"?Be++:Be--,cn=void 0;break}case"lineEndingBlank":{yt[0]==="enter"&&(Ct&&!cn&&!Be&&!tt&&(tt=Te),cn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:cn=void 0}if(!Be&&yt[0]==="enter"&&yt[1].type==="listItemPrefix"||Be===-1&&yt[0]==="exit"&&(yt[1].type==="listUnordered"||yt[1].type==="listOrdered")){if(Ct){let At=Te;for(vt=void 0;At--;){const lt=Z[At];if(lt[1].type==="lineEnding"||lt[1].type==="lineEndingBlank"){if(lt[0]==="exit")continue;vt&&(Z[vt][1].type="lineEndingBlank",ft=!0),lt[1].type="lineEnding",vt=At}else if(!(lt[1].type==="linePrefix"||lt[1].type==="blockQuotePrefix"||lt[1].type==="blockQuotePrefixWhitespace"||lt[1].type==="blockQuoteMarker"||lt[1].type==="listItemIndent"))break}tt&&(!vt||tt<vt)&&(Ct._spread=!0),Ct.end=Object.assign({},vt?Z[vt][1].start:yt[1].end),Z.splice(vt||Te,0,["exit",Ct,yt[2]]),Te++,ke++}if(yt[1].type==="listItemPrefix"){const At={type:"listItem",_spread:!1,start:Object.assign({},yt[1].start),end:void 0};Ct=At,Z.splice(Te,0,["enter",At,yt[2]]),Te++,ke++,tt=void 0,cn=!0}}}return Z[ie][1]._spread=ft,ke}function s(Z,ie){return ke;function ke(Te){l.call(this,Z(Te),Te),ie&&ie.call(this,Te)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(Z,ie,ke){this.stack[this.stack.length-1].children.push(Z),this.stack.push(Z),this.tokenStack.push([ie,ke||void 0]),Z.position={start:ca(ie.start),end:void 0}}function u(Z){return ie;function ie(ke){Z&&Z.call(this,ke),d.call(this,ke)}}function d(Z,ie){const ke=this.stack.pop(),Te=this.tokenStack.pop();if(Te)Te[0].type!==Z.type&&(ie?ie.call(this,Z,Te[0]):(Te[1]||Nm).call(this,Z,Te[0]));else throw new Error("Cannot close `"+Z.type+"` ("+mo({start:Z.start,end:Z.end})+"): its not open");ke.position.end=ca(Z.end)}function p(){return tI(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function v(Z){if(this.data.expectingFirstListItemValue){const ie=this.stack[this.stack.length-2];ie.start=Number.parseInt(this.sliceSerialize(Z),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Z=this.resume(),ie=this.stack[this.stack.length-1];ie.lang=Z}function g(){const Z=this.resume(),ie=this.stack[this.stack.length-1];ie.meta=Z}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const Z=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const Z=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Z.replace(/(\r?\n|\r)$/g,"")}function A(Z){const ie=this.resume(),ke=this.stack[this.stack.length-1];ke.label=ie,ke.identifier=wi(this.sliceSerialize(Z)).toLowerCase()}function T(){const Z=this.resume(),ie=this.stack[this.stack.length-1];ie.title=Z}function j(){const Z=this.resume(),ie=this.stack[this.stack.length-1];ie.url=Z}function F(Z){const ie=this.stack[this.stack.length-1];if(!ie.depth){const ke=this.sliceSerialize(Z).length;ie.depth=ke}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function B(Z){const ie=this.stack[this.stack.length-1];ie.depth=this.sliceSerialize(Z).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function V(Z){const ke=this.stack[this.stack.length-1].children;let Te=ke[ke.length-1];(!Te||Te.type!=="text")&&(Te=re(),Te.position={start:ca(Z.start),end:void 0},ke.push(Te)),this.stack.push(Te)}function q(Z){const ie=this.stack.pop();ie.value+=this.sliceSerialize(Z),ie.position.end=ca(Z.end)}function D(Z){const ie=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ke=ie.children[ie.children.length-1];ke.position.end=ca(Z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ie.type)&&(V.call(this,Z),q.call(this,Z))}function X(){this.data.atHardBreak=!0}function M(){const Z=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Z}function Y(){const Z=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Z}function w(){const Z=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Z}function P(){const Z=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=ie,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function _e(){const Z=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=ie,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function se(Z){const ie=this.sliceSerialize(Z),ke=this.stack[this.stack.length-2];ke.label=e7(ie),ke.identifier=wi(ie).toLowerCase()}function ue(){const Z=this.stack[this.stack.length-1],ie=this.resume(),ke=this.stack[this.stack.length-1];if(this.data.inReference=!0,ke.type==="link"){const Te=Z.children;ke.children=Te}else ke.alt=ie}function z(){const Z=this.resume(),ie=this.stack[this.stack.length-1];ie.url=Z}function Se(){const Z=this.resume(),ie=this.stack[this.stack.length-1];ie.title=Z}function ae(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function Ie(Z){const ie=this.resume(),ke=this.stack[this.stack.length-1];ke.label=ie,ke.identifier=wi(this.sliceSerialize(Z)).toLowerCase(),this.data.referenceType="full"}function le(Z){this.data.characterReferenceType=Z.type}function ne(Z){const ie=this.sliceSerialize(Z),ke=this.data.characterReferenceType;let Te;ke?(Te=vv(ie,ke==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Te=Qd(ie);const Be=this.stack[this.stack.length-1];Be.value+=Te}function Ge(Z){const ie=this.stack.pop();ie.position.end=ca(Z.end)}function Je(Z){q.call(this,Z);const ie=this.stack[this.stack.length-1];ie.url=this.sliceSerialize(Z)}function de(Z){q.call(this,Z);const ie=this.stack[this.stack.length-1];ie.url="mailto:"+this.sliceSerialize(Z)}function Oe(){return{type:"blockquote",children:[]}}function ve(){return{type:"code",lang:null,meta:null,value:""}}function Re(){return{type:"inlineCode",value:""}}function Ye(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ve(){return{type:"emphasis",children:[]}}function S(){return{type:"heading",depth:0,children:[]}}function ce(){return{type:"break"}}function W(){return{type:"html",value:""}}function $(){return{type:"image",title:null,url:"",alt:null}}function C(){return{type:"link",title:null,url:"",children:[]}}function J(Z){return{type:"list",ordered:Z.type==="listOrdered",start:null,spread:Z._spread,children:[]}}function ge(Z){return{type:"listItem",spread:Z._spread,checked:null,children:[]}}function be(){return{type:"paragraph",children:[]}}function ee(){return{type:"strong",children:[]}}function re(){return{type:"text",value:""}}function he(){return{type:"thematicBreak"}}}function ca(e){return{line:e.line,column:e.column,offset:e.offset}}function Tv(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Tv(e,r):a7(e,r)}}function a7(e,t){let n;for(n in t)if(Av.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Nm(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+mo({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+mo({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+mo({start:t.start,end:t.end})+") is still open")}function i7(e){const t=this;t.parser=n;function n(r){return n7(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function o7(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function s7(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function l7(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function c7(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function u7(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function d7(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=zi(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,l+=1,e.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,d),e.applyData(t,d)}function p7(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function f7(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function jv(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),s=a[0];s&&s.type==="text"?s.value="["+s.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function h7(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return jv(e,t);const a={src:zi(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const s={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,s),e.applyData(t,s)}function m7(e,t){const n={src:zi(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function g7(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function v7(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return jv(e,t);const a={href:zi(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const s={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function y7(e,t){const n={href:zi(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function b7(e,t,n){const r=e.all(t),a=n?x7(n):Iv(t),s={},o=[];if(typeof t.checked=="boolean"){const p=r[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const p=r[l];(a||l!==0||p.type!=="element"||p.tagName!=="p")&&o.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!a?o.push(...p.children):o.push(p)}const u=r[r.length-1];u&&(a||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,d),e.applyData(t,d)}function x7(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Iv(n[r])}return t}function Iv(e){const t=e.spread;return t??e.children.length>1}function _7(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function w7(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function k7(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function C7(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function S7(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=Jd(t.children[1]),u=uv(t.children[t.children.length-1]);l&&u&&(o.position={start:l,end:u}),a.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,s),e.applyData(t,s)}function E7(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let u=-1;const d=[];for(;++u<l;){const m=t.children[u],v={},y=o?o[u]:void 0;y&&(v.align=y);let g={type:"element",tagName:s,properties:v,children:[]};m&&(g.children=e.all(m),e.patch(m,g),g=e.applyData(m,g)),d.push(g)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,p),e.applyData(t,p)}function A7(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const $m=9,Pm=32;function T7(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const s=[];for(;r;)s.push(Dm(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return s.push(Dm(t.slice(a),a>0,!1)),s.join("")}function Dm(e,t,n){let r=0,a=e.length;if(t){let s=e.codePointAt(r);for(;s===$m||s===Pm;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(a-1);for(;s===$m||s===Pm;)a--,s=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function j7(e,t){const n={type:"text",value:T7(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function I7(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const R7={blockquote:o7,break:s7,code:l7,delete:c7,emphasis:u7,footnoteReference:d7,heading:p7,html:f7,imageReference:h7,image:m7,inlineCode:g7,linkReference:v7,link:y7,listItem:b7,list:_7,paragraph:w7,root:k7,strong:C7,table:S7,tableCell:A7,tableRow:E7,text:j7,thematicBreak:I7,toml:Ms,yaml:Ms,definition:Ms,footnoteDefinition:Ms};function Ms(){}const Rv=-1,Il=0,vo=1,nl=2,np=3,rp=4,ap=5,ip=6,Ov=7,Fv=8,Lm=typeof self=="object"?self:globalThis,O7=(e,t)=>{const n=(a,s)=>(e.set(s,a),a),r=a=>{if(e.has(a))return e.get(a);const[s,o]=t[a];switch(s){case Il:case Rv:return n(o,a);case vo:{const l=n([],a);for(const u of o)l.push(r(u));return l}case nl:{const l=n({},a);for(const[u,d]of o)l[r(u)]=r(d);return l}case np:return n(new Date(o),a);case rp:{const{source:l,flags:u}=o;return n(new RegExp(l,u),a)}case ap:{const l=n(new Map,a);for(const[u,d]of o)l.set(r(u),r(d));return l}case ip:{const l=n(new Set,a);for(const u of o)l.add(r(u));return l}case Ov:{const{name:l,message:u}=o;return n(new Lm[l](u),a)}case Fv:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new Lm[s](o),a)};return r},Bm=e=>O7(new Map,e)(0),ui="",{toString:F7}={},{keys:z7}=Object,oo=e=>{const t=typeof e;if(t!=="object"||!e)return[Il,t];const n=F7.call(e).slice(8,-1);switch(n){case"Array":return[vo,ui];case"Object":return[nl,ui];case"Date":return[np,ui];case"RegExp":return[rp,ui];case"Map":return[ap,ui];case"Set":return[ip,ui];case"DataView":return[vo,n]}return n.includes("Array")?[vo,n]:n.includes("Error")?[Ov,n]:[nl,n]},Ns=([e,t])=>e===Il&&(t==="function"||t==="symbol"),M7=(e,t,n,r)=>{const a=(o,l)=>{const u=r.push(o)-1;return n.set(l,u),u},s=o=>{if(n.has(o))return n.get(o);let[l,u]=oo(o);switch(l){case Il:{let p=o;switch(u){case"bigint":l=Fv,p=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);p=null;break;case"undefined":return a([Rv],o)}return a([l,p],o)}case vo:{if(u){let v=o;return u==="DataView"?v=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(v=new Uint8Array(o)),a([u,[...v]],o)}const p=[],m=a([l,p],o);for(const v of o)p.push(s(v));return m}case nl:{if(u)switch(u){case"BigInt":return a([u,o.toString()],o);case"Boolean":case"Number":case"String":return a([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const p=[],m=a([l,p],o);for(const v of z7(o))(e||!Ns(oo(o[v])))&&p.push([s(v),s(o[v])]);return m}case np:return a([l,o.toISOString()],o);case rp:{const{source:p,flags:m}=o;return a([l,{source:p,flags:m}],o)}case ap:{const p=[],m=a([l,p],o);for(const[v,y]of o)(e||!(Ns(oo(v))||Ns(oo(y))))&&p.push([s(v),s(y)]);return m}case ip:{const p=[],m=a([l,p],o);for(const v of o)(e||!Ns(oo(v)))&&p.push(s(v));return m}}const{message:d}=o;return a([l,{name:u,message:d}],o)};return s},Um=(e,{json:t,lossy:n}={})=>{const r=[];return M7(!(t||n),!!t,new Map,r)(e),r},rl=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Bm(Um(e,t)):structuredClone(e):(e,t)=>Bm(Um(e,t));function N7(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function $7(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function P7(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||N7,r=e.options.footnoteBackLabel||$7,a=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[u]);if(!d)continue;const p=e.all(d),m=String(d.identifier).toUpperCase(),v=zi(m.toLowerCase());let y=0;const g=[],_=e.footnoteCounts.get(m);for(;_!==void 0&&++y<=_;){g.length>0&&g.push({type:"text",value:" "});let A=typeof n=="string"?n:n(u,y);typeof A=="string"&&(A={type:"text",value:A}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,y),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const x=p[p.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const A=x.children[x.children.length-1];A&&A.type==="text"?A.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...g)}else p.push(...g);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(p,!0)};e.patch(d,k),l.push(k)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...rl(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const zv=function(e){if(e==null)return U7;if(typeof e=="function")return Rl(e);if(typeof e=="object")return Array.isArray(e)?D7(e):L7(e);if(typeof e=="string")return B7(e);throw new Error("Expected function, string, or object as test")};function D7(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=zv(e[n]);return Rl(r);function r(...a){let s=-1;for(;++s<t.length;)if(t[s].apply(this,a))return!0;return!1}}function L7(e){const t=e;return Rl(n);function n(r){const a=r;let s;for(s in e)if(a[s]!==t[s])return!1;return!0}}function B7(e){return Rl(t);function t(n){return n&&n.type===e}}function Rl(e){return t;function t(n,r,a){return!!(Z7(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function U7(){return!0}function Z7(e){return e!==null&&typeof e=="object"&&"type"in e}const Mv=[],H7=!0,Zm=!1,W7="skip";function q7(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const s=zv(a),o=r?-1:1;l(e,void 0,[])();function l(u,d,p){const m=u&&typeof u=="object"?u:{};if(typeof m.type=="string"){const y=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(u.type+(y?"<"+y+">":""))+")"})}return v;function v(){let y=Mv,g,_,x;if((!t||s(u,d,p[p.length-1]||void 0))&&(y=V7(n(u,p)),y[0]===Zm))return y;if("children"in u&&u.children){const k=u;if(k.children&&y[0]!==W7)for(_=(r?k.children.length:-1)+o,x=p.concat(k);_>-1&&_<k.children.length;){const A=k.children[_];if(g=l(A,_,x)(),g[0]===Zm)return g;_=typeof g[1]=="number"?g[1]:_+o}}return y}}}function V7(e){return Array.isArray(e)?e:typeof e=="number"?[H7,e]:e==null?Mv:[e]}function Nv(e,t,n,r){let a,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,a=n):(s=t,o=n,a=r),q7(e,s,l,a);function l(u,d){const p=d[d.length-1],m=p?p.children.indexOf(u):void 0;return o(u,m,p)}}const sd={}.hasOwnProperty,G7={};function J7(e,t){const n=t||G7,r=new Map,a=new Map,s=new Map,o={...R7,...n.handlers},l={all:d,applyData:Y7,definitionById:r,footnoteById:a,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:K7,wrap:Q7};return Nv(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?r:a,v=String(p.identifier).toUpperCase();m.has(v)||m.set(v,p)}}),l;function u(p,m){const v=p.type,y=l.handlers[v];if(sd.call(l.handlers,v)&&y)return y(l,p,m);if(l.options.passThrough&&l.options.passThrough.includes(v)){if("children"in p){const{children:_,...x}=p,k=rl(x);return k.children=l.all(p),k}return rl(p)}return(l.options.unknownHandler||X7)(l,p,m)}function d(p){const m=[];if("children"in p){const v=p.children;let y=-1;for(;++y<v.length;){const g=l.one(v[y],p);if(g){if(y&&v[y-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=Hm(g.value)),!Array.isArray(g)&&g.type==="element")){const _=g.children[0];_&&_.type==="text"&&(_.value=Hm(_.value))}Array.isArray(g)?m.push(...g):m.push(g)}}}return m}}function K7(e,t){e.position&&(t.position=Fj(e))}function Y7(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,rl(s)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function X7(e,t){const n=t.data||{},r="value"in t&&!(sd.call(n,"hProperties")||sd.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Q7(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Hm(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Wm(e,t){const n=J7(e,t),r=n.one(e,void 0),a=P7(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&s.children.push({type:"text",value:`
`},a),s}function e8(e,t){return e&&"run"in e?async function(n,r){const a=Wm(n,{file:r,...t});await e.run(a,r)}:function(n,r){return Wm(n,{file:r,...e||t})}}function qm(e){if(e)throw e}var Hs=Object.prototype.hasOwnProperty,$v=Object.prototype.toString,Vm=Object.defineProperty,Gm=Object.getOwnPropertyDescriptor,Jm=function(t){return typeof Array.isArray=="function"?Array.isArray(t):$v.call(t)==="[object Array]"},Km=function(t){if(!t||$v.call(t)!=="[object Object]")return!1;var n=Hs.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Hs.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var a;for(a in t);return typeof a>"u"||Hs.call(t,a)},Ym=function(t,n){Vm&&n.name==="__proto__"?Vm(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Xm=function(t,n){if(n==="__proto__")if(Hs.call(t,n)){if(Gm)return Gm(t,n).value}else return;return t[n]},t8=function e(){var t,n,r,a,s,o,l=arguments[0],u=1,d=arguments.length,p=!1;for(typeof l=="boolean"&&(p=l,l=arguments[1]||{},u=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});u<d;++u)if(t=arguments[u],t!=null)for(n in t)r=Xm(l,n),a=Xm(t,n),l!==a&&(p&&a&&(Km(a)||(s=Jm(a)))?(s?(s=!1,o=r&&Jm(r)?r:[]):o=r&&Km(r)?r:{},Ym(l,{name:n,newValue:e(p,o,a)})):typeof a<"u"&&Ym(l,{name:n,newValue:a}));return l};const gu=Wa(t8);function ld(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function n8(){const e=[],t={run:n,use:r};return t;function n(...a){let s=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...a);function l(u,...d){const p=e[++s];let m=-1;if(u){o(u);return}for(;++m<a.length;)(d[m]===null||d[m]===void 0)&&(d[m]=a[m]);a=d,p?r8(p,l)(...d):o(null,...d)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function r8(e,t){let n;return r;function r(...o){const l=e.length>o.length;let u;l&&o.push(a);try{u=e.apply(this,o)}catch(d){const p=d;if(l&&n)throw p;return a(p)}l||(u&&u.then&&typeof u.then=="function"?u.then(s,a):u instanceof Error?a(u):s(u))}function a(o,...l){n||(n=!0,t(o,...l))}function s(o){a(null,o)}}const Rr={basename:a8,dirname:i8,extname:o8,join:s8,sep:"/"};function a8(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');zo(e);let n=0,r=-1,a=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(s){n=a+1;break}}else r<0&&(s=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,l=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(s){n=a+1;break}}else o<0&&(s=!0,o=a+1),l>-1&&(e.codePointAt(a)===t.codePointAt(l--)?l<0&&(r=a):(l=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function i8(e){if(zo(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function o8(e){zo(e);let t=e.length,n=-1,r=0,a=-1,s=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),l===46?a<0?a=t:s!==1&&(s=1):a>-1&&(s=-1)}return a<0||n<0||s===0||s===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function s8(...e){let t=-1,n;for(;++t<e.length;)zo(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":l8(n)}function l8(e){zo(e);const t=e.codePointAt(0)===47;let n=c8(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function c8(e,t){let n="",r=0,a=-1,s=0,o=-1,l,u;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(a===o-1||s===1))if(a!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),a=o,s=0;continue}}else if(n.length>0){n="",r=0,a=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,s=0}else l===46&&s>-1?s++:s=-1}return n}function zo(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const u8={cwd:d8};function d8(){return"/"}function cd(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function p8(e){if(typeof e=="string")e=new URL(e);else if(!cd(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return f8(e)}function f8(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const vu=["history","path","basename","stem","extname","dirname"];class Pv{constructor(t){let n;t?cd(t)?n={path:t}:typeof t=="string"||h8(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":u8.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<vu.length;){const s=vu[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let a;for(a in n)vu.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Rr.basename(this.path):void 0}set basename(t){bu(t,"basename"),yu(t,"basename"),this.path=Rr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Rr.dirname(this.path):void 0}set dirname(t){Qm(this.basename,"dirname"),this.path=Rr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Rr.extname(this.path):void 0}set extname(t){if(yu(t,"extname"),Qm(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Rr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){cd(t)&&(t=p8(t)),bu(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Rr.basename(this.path,this.extname):void 0}set stem(t){bu(t,"stem"),yu(t,"stem"),this.path=Rr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new _n(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function yu(e,t){if(e&&e.includes(Rr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Rr.sep+"`")}function bu(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Qm(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function h8(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const m8=function(e){const r=this.constructor.prototype,a=r[e],s=function(){return a.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},g8={}.hasOwnProperty;class op extends m8{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=n8()}copy(){const t=new op;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(gu(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(wu("data",this.frozen),this.namespace[t]=n,this):g8.call(this.namespace,t)&&this.namespace[t]||void 0:t?(wu("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=$s(t),r=this.parser||this.Parser;return xu("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),xu("process",this.parser||this.Parser),_u("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(s,o){const l=$s(t),u=r.parse(l);r.run(u,l,function(p,m,v){if(p||!m||!v)return d(p);const y=m,g=r.stringify(y,v);b8(g)?v.value=g:v.result=g,d(p,v)});function d(p,m){p||!m?o(p):s?s(m):n(void 0,m)}}}processSync(t){let n=!1,r;return this.freeze(),xu("processSync",this.parser||this.Parser),_u("processSync",this.compiler||this.Compiler),this.process(t,a),tg("processSync","process",n),r;function a(s,o){n=!0,qm(s),r=o}}run(t,n,r){eg(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,l){const u=$s(n);a.run(t,u,d);function d(p,m,v){const y=m||t;p?l(p):o?o(y):r(void 0,y,v)}}}runSync(t,n){let r=!1,a;return this.run(t,n,s),tg("runSync","run",r),a;function s(o,l){qm(o),a=l,r=!0}}stringify(t,n){this.freeze();const r=$s(n),a=this.compiler||this.Compiler;return _u("stringify",a),eg(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(wu("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[p,...m]=d;u(p,m)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(a.settings=gu(!0,a.settings,d.settings))}function l(d){let p=-1;if(d!=null)if(Array.isArray(d))for(;++p<d.length;){const m=d[p];s(m)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,p){let m=-1,v=-1;for(;++m<r.length;)if(r[m][0]===d){v=m;break}if(v===-1)r.push([d,...p]);else if(p.length>0){let[y,...g]=p;const _=r[v][1];ld(_)&&ld(y)&&(y=gu(!0,_,y)),r[v]=[d,y,...g]}}}}const v8=new op().freeze();function xu(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function _u(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function wu(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function eg(e){if(!ld(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function tg(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function $s(e){return y8(e)?e:new Pv(e)}function y8(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function b8(e){return typeof e=="string"||x8(e)}function x8(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const _8="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ng=[],rg={allowDangerousHtml:!0},w8=/^(https?|ircs?|mailto|xmpp)$/i,k8=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function C8(e){const t=S8(e),n=E8(e);return A8(t.runSync(t.parse(n),n),e)}function S8(e){const t=e.rehypePlugins||ng,n=e.remarkPlugins||ng,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...rg}:rg;return v8().use(i7).use(n).use(e8,r).use(t)}function E8(e){const t=e.children||"",n=new Pv;return typeof t=="string"&&(n.value=t),n}function A8(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,s=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,u=t.urlTransform||T8;for(const p of k8)Object.hasOwn(t,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+_8+p.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Nv(e,d),Pj(e,{Fragment:f.Fragment,components:a,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function d(p,m,v){if(p.type==="raw"&&v&&typeof m=="number")return o?v.children.splice(m,1):v.children[m]={type:"text",value:p.value},m;if(p.type==="element"){let y;for(y in fu)if(Object.hasOwn(fu,y)&&Object.hasOwn(p.properties,y)){const g=p.properties[y],_=fu[y];(_===null||_.includes(p.tagName))&&(p.properties[y]=u(String(g||""),y,p))}}if(p.type==="element"){let y=n?!n.includes(p.tagName):s?s.includes(p.tagName):!1;if(!y&&r&&typeof m=="number"&&(y=!r(p,m,v)),y&&v&&typeof m=="number")return l&&p.children?v.children.splice(m,1,...p.children):v.children.splice(m,1),m}}}function T8(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||w8.test(e.slice(0,t))?e:""}const Dv=U.createContext(),Xn=()=>U.useContext(Dv);var Lv="vercel.ai.error",j8=Symbol.for(Lv),ag,ig,ha=class Bv extends(ig=Error,ag=j8,ig){constructor({name:t,message:n,cause:r}){super(n),this[ag]=!0,this.name=t,this.cause=r}static isInstance(t){return Bv.hasMarker(t,Lv)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};function Uv(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var Zv="AI_InvalidArgumentError",Hv=`vercel.ai.error.${Zv}`,I8=Symbol.for(Hv),og,sg,R8=class extends(sg=ha,og=I8,sg){constructor({message:t,cause:n,argument:r}){super({name:Zv,message:t,cause:n}),this[og]=!0,this.argument=r}static isInstance(t){return ha.hasMarker(t,Hv)}},Wv="AI_JSONParseError",qv=`vercel.ai.error.${Wv}`,O8=Symbol.for(qv),lg,cg,ug=class extends(cg=ha,lg=O8,cg){constructor({text:t,cause:n}){super({name:Wv,message:`JSON parsing failed: Text: ${t}.
Error message: ${Uv(n)}`,cause:n}),this[lg]=!0,this.text=t}static isInstance(t){return ha.hasMarker(t,qv)}},Vv="AI_TypeValidationError",Gv=`vercel.ai.error.${Vv}`,F8=Symbol.for(Gv),dg,pg,al=class ud extends(pg=ha,dg=F8,pg){constructor({value:t,cause:n}){super({name:Vv,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${Uv(n)}`,cause:n}),this[dg]=!0,this.value=t}static isInstance(t){return ha.hasMarker(t,Gv)}static wrap({value:t,cause:n}){return ud.isInstance(n)&&n.value===t?n:new ud({value:t,cause:n})}};class fg extends Error{constructor(t,n){super(t),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function ku(e){}function z8(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=ku,onError:n=ku,onRetry:r=ku,onComment:a}=e;let s="",o=!0,l,u="",d="";function p(_){const x=o?_.replace(/^\xEF\xBB\xBF/,""):_,[k,A]=M8(`${s}${x}`);for(const T of k)m(T);s=A,o=!1}function m(_){if(_===""){y();return}if(_.startsWith(":")){a&&a(_.slice(_.startsWith(": ")?2:1));return}const x=_.indexOf(":");if(x!==-1){const k=_.slice(0,x),A=_[x+1]===" "?2:1,T=_.slice(x+A);v(k,T,_);return}v(_,"",_)}function v(_,x,k){switch(_){case"event":d=x;break;case"data":u=`${u}${x}
`;break;case"id":l=x.includes("\0")?void 0:x;break;case"retry":/^\d+$/.test(x)?r(parseInt(x,10)):n(new fg(`Invalid \`retry\` value: "${x}"`,{type:"invalid-retry",value:x,line:k}));break;default:n(new fg(`Unknown field "${_.length>20?`${_.slice(0,20)}`:_}"`,{type:"unknown-field",field:_,value:x,line:k}));break}}function y(){u.length>0&&t({id:l,event:d||void 0,data:u.endsWith(`
`)?u.slice(0,-1):u}),l=void 0,u="",d=""}function g(_={}){s&&_.consume&&m(s),o=!0,l=void 0,u="",d="",s=""}return{feed:p,reset:g}}function M8(e){const t=[];let n="",r=0;for(;r<e.length;){const a=e.indexOf("\r",r),s=e.indexOf(`
`,r);let o=-1;if(a!==-1&&s!==-1?o=Math.min(a,s):a!==-1?a===e.length-1?o=-1:o=a:s!==-1&&(o=s),o===-1){n=e.slice(r);break}else{const l=e.slice(r,o);t.push(l),r=o+1,e[r-1]==="\r"&&e[r]===`
`&&r++}}return[t,n]}class Jv extends TransformStream{constructor({onError:t,onRetry:n,onComment:r}={}){let a;super({start(s){a=z8({onEvent:o=>{s.enqueue(o)},onError(o){t==="terminate"?s.error(o):typeof t=="function"&&t(o)},onRetry:n,onComment:r})},transform(s){a.feed(s)}})}}function pe(e,t,n){function r(l,u){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:u,constr:o,traits:new Set},enumerable:!1}),l._zod.traits.has(e))return;l._zod.traits.add(e),t(l,u);const d=o.prototype,p=Object.keys(d);for(let m=0;m<p.length;m++){const v=p[m];v in l||(l[v]=d[v].bind(l))}}const a=n?.Parent??Object;class s extends a{}Object.defineProperty(s,"name",{value:e});function o(l){var u;const d=n?.Parent?new s:this;r(d,l),(u=d._zod).deferred??(u.deferred=[]);for(const p of d._zod.deferred)p();return d}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>n?.Parent&&l instanceof n.Parent?!0:l?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class ki extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Kv extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Yv={};function ma(e){return Yv}function Xv(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,a])=>t.indexOf(+r)===-1).map(([r,a])=>a)}function dd(e,t){return typeof t=="bigint"?t.toString():t}function Ol(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function sp(e){return e==null}function lp(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function N8(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let a=(r.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(r)){const u=r.match(/\d?e-(\d?)/);u?.[1]&&(a=Number.parseInt(u[1]))}const s=n>a?n:a,o=Number.parseInt(e.toFixed(s).replace(".","")),l=Number.parseInt(t.toFixed(s).replace(".",""));return o%l/10**s}const hg=Symbol("evaluating");function mt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==hg)return r===void 0&&(r=hg,r=n()),r},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function Va(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function xa(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function mg(e){return JSON.stringify(e)}function $8(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Qv="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Co(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const P8=Ol(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Ei(e){if(Co(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Co(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function ey(e){return Ei(e)?{...e}:Array.isArray(e)?[...e]:e}const D8=new Set(["string","number","symbol"]);function Ai(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _a(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function Le(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function L8(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const B8={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function U8(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=xa(e._zod.def,{get shape(){const o={};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(o[l]=n.shape[l])}return Va(this,"shape",o),o},checks:[]});return _a(e,s)}function Z8(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=xa(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete o[l]}return Va(this,"shape",o),o},checks:[]});return _a(e,s)}function H8(e,t){if(!Ei(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const s=e._zod.def.shape;for(const o in t)if(Object.getOwnPropertyDescriptor(s,o)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const a=xa(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return Va(this,"shape",s),s}});return _a(e,a)}function W8(e,t){if(!Ei(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=xa(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return Va(this,"shape",r),r}});return _a(e,n)}function q8(e,t){const n=xa(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Va(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return _a(e,n)}function V8(e,t,n){const a=t._zod.def.checks;if(a&&a.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const o=xa(t._zod.def,{get shape(){const l=t._zod.def.shape,u={...l};if(n)for(const d in n){if(!(d in l))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(u[d]=e?new e({type:"optional",innerType:l[d]}):l[d])}else for(const d in l)u[d]=e?new e({type:"optional",innerType:l[d]}):l[d];return Va(this,"shape",u),u},checks:[]});return _a(t,o)}function G8(e,t,n){const r=xa(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=new e({type:"nonoptional",innerType:a[o]}))}else for(const o in a)s[o]=new e({type:"nonoptional",innerType:a[o]});return Va(this,"shape",s),s}});return _a(t,r)}function vi(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function yi(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Ps(e){return typeof e=="string"?e:e?.message}function ga(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const a=Ps(e.inst?._zod.def?.error?.(e))??Ps(t?.error?.(e))??Ps(n.customError?.(e))??Ps(n.localeError?.(e))??"Invalid input";r.message=a}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function cp(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function So(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const ty=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,dd,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},ny=pe("$ZodError",ty),ry=pe("$ZodError",ty,{Parent:Error});function J8(e,t=n=>n.message){const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}function K8(e,t=n=>n.message){const n={_errors:[]},r=a=>{for(const s of a.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(o=>r({issues:o}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(t(s));else{let o=n,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(t(s))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return r(e),n}const up=e=>(t,n,r,a)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new ki;if(o.issues.length){const l=new(a?.Err??e)(o.issues.map(u=>ga(u,s,ma())));throw Qv(l,a?.callee),l}return o.value},dp=e=>async(t,n,r,a)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new(a?.Err??e)(o.issues.map(u=>ga(u,s,ma())));throw Qv(l,a?.callee),l}return o.value},Fl=e=>(t,n,r)=>{const a=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},a);if(s instanceof Promise)throw new ki;return s.issues.length?{success:!1,error:new(e??ny)(s.issues.map(o=>ga(o,a,ma())))}:{success:!0,data:s.value}},Y8=Fl(ry),zl=e=>async(t,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},a);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(o=>ga(o,a,ma())))}:{success:!0,data:s.value}},X8=zl(ry),Q8=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return up(e)(t,n,a)},eO=e=>(t,n,r)=>up(e)(t,n,r),tO=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return dp(e)(t,n,a)},nO=e=>async(t,n,r)=>dp(e)(t,n,r),rO=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Fl(e)(t,n,a)},aO=e=>(t,n,r)=>Fl(e)(t,n,r),iO=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return zl(e)(t,n,a)},oO=e=>async(t,n,r)=>zl(e)(t,n,r),sO=/^[cC][^\s-]{8,}$/,lO=/^[0-9a-z]+$/,cO=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,uO=/^[0-9a-vA-V]{20}$/,dO=/^[A-Za-z0-9]{27}$/,pO=/^[a-zA-Z0-9_-]{21}$/,fO=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,hO=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,gg=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,mO=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,gO="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function vO(){return new RegExp(gO,"u")}const yO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,xO=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,_O=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,wO=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,ay=/^[A-Za-z0-9_-]*$/,kO=/^\+[1-9]\d{6,14}$/,iy="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",CO=new RegExp(`^${iy}$`);function oy(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function SO(e){return new RegExp(`^${oy(e)}$`)}function EO(e){const t=oy({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${iy}T(?:${r})$`)}const AO=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},TO=/^-?\d+$/,sy=/^-?\d+(?:\.\d+)?$/,jO=/^(?:true|false)$/i,IO=/^null$/i,RO=/^[^A-Z]*$/,OO=/^[^a-z]*$/,Dn=pe("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),ly={number:"number",bigint:"bigint",object:"date"},cy=pe("$ZodCheckLessThan",(e,t)=>{Dn.init(e,t);const n=ly[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,s=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),uy=pe("$ZodCheckGreaterThan",(e,t)=>{Dn.init(e,t);const n=ly[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,s=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),FO=pe("$ZodCheckMultipleOf",(e,t)=>{Dn.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):N8(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),zO=pe("$ZodCheckNumberFormat",(e,t)=>{Dn.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[a,s]=B8[t.format];e._zod.onattach.push(o=>{const l=o._zod.bag;l.format=t.format,l.minimum=a,l.maximum=s,n&&(l.pattern=TO)}),e._zod.check=o=>{const l=o.value;if(n){if(!Number.isInteger(l)){o.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?o.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):o.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}l<a&&o.issues.push({origin:"number",input:l,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),l>s&&o.issues.push({origin:"number",input:l,code:"too_big",maximum:s,inclusive:!0,inst:e,continue:!t.abort})}}),MO=pe("$ZodCheckMaxLength",(e,t)=>{var n;Dn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!sp(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const a=r.value;if(a.length<=t.maximum)return;const o=cp(a);r.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),NO=pe("$ZodCheckMinLength",(e,t)=>{var n;Dn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!sp(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const a=r.value;if(a.length>=t.minimum)return;const o=cp(a);r.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),$O=pe("$ZodCheckLengthEquals",(e,t)=>{var n;Dn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!sp(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=r=>{const a=r.value,s=a.length;if(s===t.length)return;const o=cp(a),l=s>t.length;r.issues.push({origin:o,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Ml=pe("$ZodCheckStringFormat",(e,t)=>{var n,r;Dn.init(e,t),e._zod.onattach.push(a=>{const s=a._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),PO=pe("$ZodCheckRegex",(e,t)=>{Ml.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),DO=pe("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=RO),Ml.init(e,t)}),LO=pe("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=OO),Ml.init(e,t)}),BO=pe("$ZodCheckIncludes",(e,t)=>{Dn.init(e,t);const n=Ai(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(a=>{const s=a._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),UO=pe("$ZodCheckStartsWith",(e,t)=>{Dn.init(e,t);const n=new RegExp(`^${Ai(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),ZO=pe("$ZodCheckEndsWith",(e,t)=>{Dn.init(e,t);const n=new RegExp(`.*${Ai(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),HO=pe("$ZodCheckOverwrite",(e,t)=>{Dn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class WO{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(o=>o),a=Math.min(...r.map(o=>o.length-o.trimStart().length)),s=r.map(o=>o.slice(a)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const t=Function,n=this?.args,a=[...(this?.content??[""]).map(s=>`  ${s}`)];return new t(...n,a.join(`
`))}}const qO={major:4,minor:3,patch:5},Bt=pe("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=qO;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const a of r)for(const s of a._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(o,l,u)=>{let d=vi(o),p;for(const m of l){if(m._zod.def.when){if(!m._zod.def.when(o))continue}else if(d)continue;const v=o.issues.length,y=m._zod.check(o);if(y instanceof Promise&&u?.async===!1)throw new ki;if(p||y instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await y,o.issues.length!==v&&(d||(d=vi(o,v)))});else{if(o.issues.length===v)continue;d||(d=vi(o,v))}}return p?p.then(()=>o):o},s=(o,l,u)=>{if(vi(o))return o.aborted=!0,o;const d=a(l,r,u);if(d instanceof Promise){if(u.async===!1)throw new ki;return d.then(p=>e._zod.parse(p,u))}return e._zod.parse(d,u)};e._zod.run=(o,l)=>{if(l.skipChecks)return e._zod.parse(o,l);if(l.direction==="backward"){const d=e._zod.parse({value:o.value,issues:[]},{...l,skipChecks:!0});return d instanceof Promise?d.then(p=>s(p,o,l)):s(d,o,l)}const u=e._zod.parse(o,l);if(u instanceof Promise){if(l.async===!1)throw new ki;return u.then(d=>a(d,r,l))}return a(u,r,l)}}mt(e,"~standard",()=>({validate:a=>{try{const s=Y8(e,a);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return X8(e,a).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}))}),pp=pe("$ZodString",(e,t)=>{Bt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??AO(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),qt=pe("$ZodStringFormat",(e,t)=>{Ml.init(e,t),pp.init(e,t)}),VO=pe("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=hO),qt.init(e,t)}),GO=pe("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=gg(r))}else t.pattern??(t.pattern=gg());qt.init(e,t)}),JO=pe("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=mO),qt.init(e,t)}),KO=pe("$ZodURL",(e,t)=>{qt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=a.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),YO=pe("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=vO()),qt.init(e,t)}),XO=pe("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=pO),qt.init(e,t)}),QO=pe("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=sO),qt.init(e,t)}),eF=pe("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=lO),qt.init(e,t)}),tF=pe("$ZodULID",(e,t)=>{t.pattern??(t.pattern=cO),qt.init(e,t)}),nF=pe("$ZodXID",(e,t)=>{t.pattern??(t.pattern=uO),qt.init(e,t)}),rF=pe("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=dO),qt.init(e,t)}),aF=pe("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=EO(t)),qt.init(e,t)}),iF=pe("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=CO),qt.init(e,t)}),oF=pe("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=SO(t)),qt.init(e,t)}),sF=pe("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=fO),qt.init(e,t)}),lF=pe("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=yO),qt.init(e,t),e._zod.bag.format="ipv4"}),cF=pe("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=bO),qt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),uF=pe("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=xO),qt.init(e,t)}),dF=pe("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=_O),qt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[a,s]=r;if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function dy(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const pF=pe("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=wO),qt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{dy(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function fF(e){if(!ay.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return dy(n)}const hF=pe("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=ay),qt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{fF(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),mF=pe("$ZodE164",(e,t)=>{t.pattern??(t.pattern=kO),qt.init(e,t)});function gF(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const vF=pe("$ZodJWT",(e,t)=>{qt.init(e,t),e._zod.check=n=>{gF(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),py=pe("$ZodNumber",(e,t)=>{Bt.init(e,t),e._zod.pattern=e._zod.bag.pattern??sy,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const s=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...s?{received:s}:{}}),n}}),yF=pe("$ZodNumberFormat",(e,t)=>{zO.init(e,t),py.init(e,t)}),bF=pe("$ZodBoolean",(e,t)=>{Bt.init(e,t),e._zod.pattern=jO,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const a=n.value;return typeof a=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),n}}),xF=pe("$ZodNull",(e,t)=>{Bt.init(e,t),e._zod.pattern=IO,e._zod.values=new Set([null]),e._zod.parse=(n,r)=>{const a=n.value;return a===null||n.issues.push({expected:"null",code:"invalid_type",input:a,inst:e}),n}}),_F=pe("$ZodUnknown",(e,t)=>{Bt.init(e,t),e._zod.parse=n=>n}),wF=pe("$ZodNever",(e,t)=>{Bt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function vg(e,t,n){e.issues.length&&t.issues.push(...yi(n,e.issues)),t.value[n]=e.value}const kF=pe("$ZodArray",(e,t)=>{Bt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const s=[];for(let o=0;o<a.length;o++){const l=a[o],u=t.element._zod.run({value:l,issues:[]},r);u instanceof Promise?s.push(u.then(d=>vg(d,n,o))):vg(u,n,o)}return s.length?Promise.all(s).then(()=>n):n}});function il(e,t,n,r,a){if(e.issues.length){if(a&&!(n in r))return;t.issues.push(...yi(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function fy(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=L8(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function hy(e,t,n,r,a,s){const o=[],l=a.keySet,u=a.catchall._zod,d=u.def.type,p=u.optout==="optional";for(const m in t){if(l.has(m))continue;if(d==="never"){o.push(m);continue}const v=u.run({value:t[m],issues:[]},r);v instanceof Promise?e.push(v.then(y=>il(y,n,m,t,p))):il(v,n,m,t,p)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const CF=pe("$ZodObject",(e,t)=>{if(Bt.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...l};return Object.defineProperty(t,"shape",{value:u}),u}})}const r=Ol(()=>fy(t));mt(e._zod,"propValues",()=>{const l=t.shape,u={};for(const d in l){const p=l[d]._zod;if(p.values){u[d]??(u[d]=new Set);for(const m of p.values)u[d].add(m)}}return u});const a=Co,s=t.catchall;let o;e._zod.parse=(l,u)=>{o??(o=r.value);const d=l.value;if(!a(d))return l.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),l;l.value={};const p=[],m=o.shape;for(const v of o.keys){const y=m[v],g=y._zod.optout==="optional",_=y._zod.run({value:d[v],issues:[]},u);_ instanceof Promise?p.push(_.then(x=>il(x,l,v,d,g))):il(_,l,v,d,g)}return s?hy(p,d,l,u,r.value,e):p.length?Promise.all(p).then(()=>l):l}}),SF=pe("$ZodObjectJIT",(e,t)=>{CF.init(e,t);const n=e._zod.parse,r=Ol(()=>fy(t)),a=v=>{const y=new WO(["shape","payload","ctx"]),g=r.value,_=T=>{const j=mg(T);return`shape[${j}]._zod.run({ value: input[${j}], issues: [] }, ctx)`};y.write("const input = payload.value;");const x=Object.create(null);let k=0;for(const T of g.keys)x[T]=`key_${k++}`;y.write("const newResult = {};");for(const T of g.keys){const j=x[T],F=mg(T),B=v[T]?._zod?.optout==="optional";y.write(`const ${j} = ${_(T)};`),B?y.write(`
        if (${j}.issues.length) {
          if (${F} in input) {
            payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${F}, ...iss.path] : [${F}]
            })));
          }
        }
        
        if (${j}.value === undefined) {
          if (${F} in input) {
            newResult[${F}] = undefined;
          }
        } else {
          newResult[${F}] = ${j}.value;
        }
        
      `):y.write(`
        if (${j}.issues.length) {
          payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${F}, ...iss.path] : [${F}]
          })));
        }
        
        if (${j}.value === undefined) {
          if (${F} in input) {
            newResult[${F}] = undefined;
          }
        } else {
          newResult[${F}] = ${j}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const A=y.compile();return(T,j)=>A(v,T,j)};let s;const o=Co,l=!Yv.jitless,d=l&&P8.value,p=t.catchall;let m;e._zod.parse=(v,y)=>{m??(m=r.value);const g=v.value;return o(g)?l&&d&&y?.async===!1&&y.jitless!==!0?(s||(s=a(t.shape)),v=s(v,y),p?hy([],g,v,y,m,e):v):n(v,y):(v.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),v)}});function yg(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const a=e.filter(s=>!vi(s));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(o=>ga(o,r,ma())))}),t)}const my=pe("$ZodUnion",(e,t)=>{Bt.init(e,t),mt(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),mt(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),mt(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),mt(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${a.map(s=>lp(s.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(a,s)=>{if(n)return r(a,s);let o=!1;const l=[];for(const u of t.options){const d=u._zod.run({value:a.value,issues:[]},s);if(d instanceof Promise)l.push(d),o=!0;else{if(d.issues.length===0)return d;l.push(d)}}return o?Promise.all(l).then(u=>yg(u,a,e,s)):yg(l,a,e,s)}}),EF=pe("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,my.init(e,t);const n=e._zod.parse;mt(e._zod,"propValues",()=>{const a={};for(const s of t.options){const o=s._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(const[l,u]of Object.entries(o)){a[l]||(a[l]=new Set);for(const d of u)a[l].add(d)}}return a});const r=Ol(()=>{const a=t.options,s=new Map;for(const o of a){const l=o._zod.propValues?.[t.discriminator];if(!l||l.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(const u of l){if(s.has(u))throw new Error(`Duplicate discriminator value "${String(u)}"`);s.set(u,o)}}return s});e._zod.parse=(a,s)=>{const o=a.value;if(!Co(o))return a.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),a;const l=r.value.get(o?.[t.discriminator]);return l?l._zod.run(a,s):t.unionFallback?n(a,s):(a.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:o,path:[t.discriminator],inst:e}),a)}}),AF=pe("$ZodIntersection",(e,t)=>{Bt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value,s=t.left._zod.run({value:a,issues:[]},r),o=t.right._zod.run({value:a,issues:[]},r);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([u,d])=>bg(n,u,d)):bg(n,s,o)}});function pd(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Ei(e)&&Ei(t)){const n=Object.keys(t),r=Object.keys(e).filter(s=>n.indexOf(s)!==-1),a={...e,...t};for(const s of r){const o=pd(e[s],t[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};a[s]=o.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=e[r],s=t[r],o=pd(a,s);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function bg(e,t,n){const r=new Map;let a;for(const l of t.issues)if(l.code==="unrecognized_keys"){a??(a=l);for(const u of l.keys)r.has(u)||r.set(u,{}),r.get(u).l=!0}else e.issues.push(l);for(const l of n.issues)if(l.code==="unrecognized_keys")for(const u of l.keys)r.has(u)||r.set(u,{}),r.get(u).r=!0;else e.issues.push(l);const s=[...r].filter(([,l])=>l.l&&l.r).map(([l])=>l);if(s.length&&a&&e.issues.push({...a,keys:s}),vi(e))return e;const o=pd(t.value,n.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return e.value=o.data,e}const TF=pe("$ZodRecord",(e,t)=>{Bt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Ei(a))return n.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),n;const s=[],o=t.keyType._zod.values;if(o){n.value={};const l=new Set;for(const d of o)if(typeof d=="string"||typeof d=="number"||typeof d=="symbol"){l.add(typeof d=="number"?d.toString():d);const p=t.valueType._zod.run({value:a[d],issues:[]},r);p instanceof Promise?s.push(p.then(m=>{m.issues.length&&n.issues.push(...yi(d,m.issues)),n.value[d]=m.value})):(p.issues.length&&n.issues.push(...yi(d,p.issues)),n.value[d]=p.value)}let u;for(const d in a)l.has(d)||(u=u??[],u.push(d));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:u})}else{n.value={};for(const l of Reflect.ownKeys(a)){if(l==="__proto__")continue;let u=t.keyType._zod.run({value:l,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof l=="string"&&sy.test(l)&&u.issues.length&&u.issues.some(m=>m.code==="invalid_type"&&m.expected==="number")){const m=t.keyType._zod.run({value:Number(l),issues:[]},r);if(m instanceof Promise)throw new Error("Async schemas not supported in object keys currently");m.issues.length===0&&(u=m)}if(u.issues.length){t.mode==="loose"?n.value[l]=a[l]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(m=>ga(m,r,ma())),input:l,path:[l],inst:e});continue}const p=t.valueType._zod.run({value:a[l],issues:[]},r);p instanceof Promise?s.push(p.then(m=>{m.issues.length&&n.issues.push(...yi(l,m.issues)),n.value[u.value]=m.value})):(p.issues.length&&n.issues.push(...yi(l,p.issues)),n.value[u.value]=p.value)}}return s.length?Promise.all(s).then(()=>n):n}}),jF=pe("$ZodEnum",(e,t)=>{Bt.init(e,t);const n=Xv(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(a=>D8.has(typeof a)).map(a=>typeof a=="string"?Ai(a):a.toString()).join("|")})$`),e._zod.parse=(a,s)=>{const o=a.value;return r.has(o)||a.issues.push({code:"invalid_value",values:n,input:o,inst:e}),a}}),IF=pe("$ZodLiteral",(e,t)=>{if(Bt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Ai(r):r?Ai(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,a)=>{const s=r.value;return n.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),r}}),RF=pe("$ZodTransform",(e,t)=>{Bt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Kv(e.constructor.name);const a=t.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(o=>(n.value=o,n));if(a instanceof Promise)throw new ki;return n.value=a,n}});function xg(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const gy=pe("$ZodOptional",(e,t)=>{Bt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",mt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),mt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${lp(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>xg(s,n.value)):xg(a,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),OF=pe("$ZodExactOptional",(e,t)=>{gy.init(e,t),mt(e._zod,"values",()=>t.innerType._zod.values),mt(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),FF=pe("$ZodNullable",(e,t)=>{Bt.init(e,t),mt(e._zod,"optin",()=>t.innerType._zod.optin),mt(e._zod,"optout",()=>t.innerType._zod.optout),mt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${lp(n.source)}|null)$`):void 0}),mt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),zF=pe("$ZodDefault",(e,t)=>{Bt.init(e,t),e._zod.optin="optional",mt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>_g(s,t)):_g(a,t)}});function _g(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const MF=pe("$ZodPrefault",(e,t)=>{Bt.init(e,t),e._zod.optin="optional",mt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),NF=pe("$ZodNonOptional",(e,t)=>{Bt.init(e,t),mt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>wg(s,e)):wg(a,e)}});function wg(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const $F=pe("$ZodCatch",(e,t)=>{Bt.init(e,t),mt(e._zod,"optin",()=>t.innerType._zod.optin),mt(e._zod,"optout",()=>t.innerType._zod.optout),mt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(o=>ga(o,r,ma()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(s=>ga(s,r,ma()))},input:n.value}),n.issues=[]),n)}}),PF=pe("$ZodPipe",(e,t)=>{Bt.init(e,t),mt(e._zod,"values",()=>t.in._zod.values),mt(e._zod,"optin",()=>t.in._zod.optin),mt(e._zod,"optout",()=>t.out._zod.optout),mt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=t.out._zod.run(n,r);return s instanceof Promise?s.then(o=>Ds(o,t.in,r)):Ds(s,t.in,r)}const a=t.in._zod.run(n,r);return a instanceof Promise?a.then(s=>Ds(s,t.out,r)):Ds(a,t.out,r)}});function Ds(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const DF=pe("$ZodReadonly",(e,t)=>{Bt.init(e,t),mt(e._zod,"propValues",()=>t.innerType._zod.propValues),mt(e._zod,"values",()=>t.innerType._zod.values),mt(e._zod,"optin",()=>t.innerType?._zod?.optin),mt(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(kg):kg(a)}});function kg(e){return e.value=Object.freeze(e.value),e}const LF=pe("$ZodLazy",(e,t)=>{Bt.init(e,t),mt(e._zod,"innerType",()=>t.getter()),mt(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),mt(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),mt(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),mt(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(n,r)=>e._zod.innerType._zod.run(n,r)}),BF=pe("$ZodCustom",(e,t)=>{Dn.init(e,t),Bt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then(s=>Cg(s,n,r,e));Cg(a,n,r,e)}});function Cg(e,t,n,r){if(!e){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),t.issues.push(So(a))}}var Sg;class UF{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const a={...r,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function ZF(){return new UF}(Sg=globalThis).__zod_globalRegistry??(Sg.__zod_globalRegistry=ZF());const co=globalThis.__zod_globalRegistry;function HF(e,t){return new e({type:"string",...Le(t)})}function WF(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Le(t)})}function Eg(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Le(t)})}function qF(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Le(t)})}function VF(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Le(t)})}function GF(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Le(t)})}function JF(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Le(t)})}function KF(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Le(t)})}function YF(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Le(t)})}function XF(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Le(t)})}function QF(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Le(t)})}function ez(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Le(t)})}function tz(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Le(t)})}function nz(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Le(t)})}function rz(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Le(t)})}function az(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Le(t)})}function iz(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Le(t)})}function oz(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Le(t)})}function sz(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Le(t)})}function vy(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Le(t)})}function lz(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Le(t)})}function cz(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Le(t)})}function uz(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Le(t)})}function dz(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Le(t)})}function pz(e,t){return new e({type:"string",format:"date",check:"string_format",...Le(t)})}function fz(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Le(t)})}function hz(e,t){return new e({type:"string",format:"duration",check:"string_format",...Le(t)})}function mz(e,t){return new e({type:"number",checks:[],...Le(t)})}function gz(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Le(t)})}function vz(e,t){return new e({type:"boolean",...Le(t)})}function yz(e,t){return new e({type:"null",...Le(t)})}function bz(e){return new e({type:"unknown"})}function xz(e,t){return new e({type:"never",...Le(t)})}function Ag(e,t){return new cy({check:"less_than",...Le(t),value:e,inclusive:!1})}function Cu(e,t){return new cy({check:"less_than",...Le(t),value:e,inclusive:!0})}function Tg(e,t){return new uy({check:"greater_than",...Le(t),value:e,inclusive:!1})}function Su(e,t){return new uy({check:"greater_than",...Le(t),value:e,inclusive:!0})}function jg(e,t){return new FO({check:"multiple_of",...Le(t),value:e})}function yy(e,t){return new MO({check:"max_length",...Le(t),maximum:e})}function ol(e,t){return new NO({check:"min_length",...Le(t),minimum:e})}function by(e,t){return new $O({check:"length_equals",...Le(t),length:e})}function _z(e,t){return new PO({check:"string_format",format:"regex",...Le(t),pattern:e})}function wz(e){return new DO({check:"string_format",format:"lowercase",...Le(e)})}function kz(e){return new LO({check:"string_format",format:"uppercase",...Le(e)})}function Cz(e,t){return new BO({check:"string_format",format:"includes",...Le(t),includes:e})}function Sz(e,t){return new UO({check:"string_format",format:"starts_with",...Le(t),prefix:e})}function Ez(e,t){return new ZO({check:"string_format",format:"ends_with",...Le(t),suffix:e})}function Mi(e){return new HO({check:"overwrite",tx:e})}function Az(e){return Mi(t=>t.normalize(e))}function Tz(){return Mi(e=>e.trim())}function jz(){return Mi(e=>e.toLowerCase())}function Iz(){return Mi(e=>e.toUpperCase())}function Rz(){return Mi(e=>$8(e))}function Oz(e,t,n){return new e({type:"array",element:t,...Le(n)})}function Fz(e,t,n){const r=Le(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}function zz(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Le(n)})}function Mz(e){const t=Nz(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(So(r,n.value,t._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),n.issues.push(So(a))}},e(n.value,n)));return t}function Nz(e,t){const n=new Dn({check:"custom",...Le(t)});return n._zod.check=e,n}function sl(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??co,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Nt(e,t,n={path:[],schemaPath:[]}){var r;const a=e._zod.def,s=t.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,o);const l=e._zod.toJSONSchema?.();if(l)o.schema=l;else{const p={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,o.schema,p);else{const v=o.schema,y=t.processors[a.type];if(!y)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);y(e,t,v,p)}const m=e._zod.parent;m&&(o.ref||(o.ref=m),Nt(m,t,p),t.seen.get(m).isParent=!0)}const u=t.metadataRegistry.get(e);return u&&Object.assign(o.schema,u),t.io==="input"&&En(e)&&(delete o.schema.examples,delete o.schema.default),t.io==="input"&&o.schema._prefault&&((r=o.schema).default??(r.default=o.schema._prefault)),delete o.schema._prefault,t.seen.get(e).schema}function ll(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const o of e.seen.entries()){const l=e.metadataRegistry.get(o[0])?.id;if(l){const u=r.get(l);if(u&&u!==o[0])throw new Error(`Duplicate schema id "${l}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(l,o[0])}}const a=o=>{const l=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const m=e.external.registry.get(o[0])?.id,v=e.external.uri??(g=>g);if(m)return{ref:v(m)};const y=o[1].defId??o[1].schema.id??`schema${e.counter++}`;return o[1].defId=y,{defId:y,ref:`${v("__shared")}#/${l}/${y}`}}if(o[1]===n)return{ref:"#"};const d=`#/${l}/`,p=o[1].schema.id??`__schema${e.counter++}`;return{defId:p,ref:d+p}},s=o=>{if(o[1].schema.$ref)return;const l=o[1],{ref:u,defId:d}=a(o);l.def={...l.schema},d&&(l.defId=d);const p=l.schema;for(const m in p)delete p[m];p.$ref=u};if(e.cycles==="throw")for(const o of e.seen.entries()){const l=o[1];if(l.cycle)throw new Error(`Cycle detected: #/${l.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const o of e.seen.entries()){const l=o[1];if(t===o[0]){s(o);continue}if(e.external){const d=e.external.registry.get(o[0])?.id;if(t!==o[0]&&d){s(o);continue}}if(e.metadataRegistry.get(o[0])?.id){s(o);continue}if(l.cycle){s(o);continue}if(l.count>1&&e.reused==="ref"){s(o);continue}}}function cl(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=o=>{const l=e.seen.get(o);if(l.ref===null)return;const u=l.def??l.schema,d={...u},p=l.ref;if(l.ref=null,p){r(p);const v=e.seen.get(p),y=v.schema;if(y.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(u.allOf=u.allOf??[],u.allOf.push(y)):Object.assign(u,y),Object.assign(u,d),o._zod.parent===p)for(const _ in u)_==="$ref"||_==="allOf"||_ in d||delete u[_];if(y.$ref)for(const _ in u)_==="$ref"||_==="allOf"||_ in v.def&&JSON.stringify(u[_])===JSON.stringify(v.def[_])&&delete u[_]}const m=o._zod.parent;if(m&&m!==p){r(m);const v=e.seen.get(m);if(v?.schema.$ref&&(u.$ref=v.schema.$ref,v.def))for(const y in u)y==="$ref"||y==="allOf"||y in v.def&&JSON.stringify(u[y])===JSON.stringify(v.def[y])&&delete u[y]}e.override({zodSchema:o,jsonSchema:u,path:l.path??[]})};for(const o of[...e.seen.entries()].reverse())r(o[0]);const a={};if(e.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const o=e.external.registry.get(t)?.id;if(!o)throw new Error("Schema is missing an `id` property");a.$id=e.external.uri(o)}Object.assign(a,n.def??n.schema);const s=e.external?.defs??{};for(const o of e.seen.entries()){const l=o[1];l.def&&l.defId&&(s[l.defId]=l.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?a.$defs=s:a.definitions=s);try{const o=JSON.parse(JSON.stringify(a));return Object.defineProperty(o,"~standard",{value:{...t["~standard"],jsonSchema:{input:ul(t,"input",e.processors),output:ul(t,"output",e.processors)}},enumerable:!1,writable:!1}),o}catch{throw new Error("Error converting schema to JSON.")}}function En(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return En(r.element,n);if(r.type==="set")return En(r.valueType,n);if(r.type==="lazy")return En(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return En(r.innerType,n);if(r.type==="intersection")return En(r.left,n)||En(r.right,n);if(r.type==="record"||r.type==="map")return En(r.keyType,n)||En(r.valueType,n);if(r.type==="pipe")return En(r.in,n)||En(r.out,n);if(r.type==="object"){for(const a in r.shape)if(En(r.shape[a],n))return!0;return!1}if(r.type==="union"){for(const a of r.options)if(En(a,n))return!0;return!1}if(r.type==="tuple"){for(const a of r.items)if(En(a,n))return!0;return!!(r.rest&&En(r.rest,n))}return!1}const $z=(e,t={})=>n=>{const r=sl({...n,processors:t});return Nt(e,r),ll(r,e),cl(r,e)},ul=(e,t,n={})=>r=>{const{libraryOptions:a,target:s}=r??{},o=sl({...a??{},target:s,io:t,processors:n});return Nt(e,o),ll(o,e),cl(o,e)},Pz={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},xy=(e,t,n,r)=>{const a=n;a.type="string";const{minimum:s,maximum:o,format:l,patterns:u,contentEncoding:d}=e._zod.bag;if(typeof s=="number"&&(a.minLength=s),typeof o=="number"&&(a.maxLength=o),l&&(a.format=Pz[l]??l,a.format===""&&delete a.format,l==="time"&&delete a.format),d&&(a.contentEncoding=d),u&&u.size>0){const p=[...u];p.length===1?a.pattern=p[0].source:p.length>1&&(a.allOf=[...p.map(m=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:m.source}))])}},_y=(e,t,n,r)=>{const a=n,{minimum:s,maximum:o,format:l,multipleOf:u,exclusiveMaximum:d,exclusiveMinimum:p}=e._zod.bag;typeof l=="string"&&l.includes("int")?a.type="integer":a.type="number",typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.minimum=p,a.exclusiveMinimum=!0):a.exclusiveMinimum=p),typeof s=="number"&&(a.minimum=s,typeof p=="number"&&t.target!=="draft-04"&&(p>=s?delete a.minimum:delete a.exclusiveMinimum)),typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.maximum=d,a.exclusiveMaximum=!0):a.exclusiveMaximum=d),typeof o=="number"&&(a.maximum=o,typeof d=="number"&&t.target!=="draft-04"&&(d<=o?delete a.maximum:delete a.exclusiveMaximum)),typeof u=="number"&&(a.multipleOf=u)},wy=(e,t,n,r)=>{n.type="boolean"},Dz=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")},Lz=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")},ky=(e,t,n,r)=>{t.target==="openapi-3.0"?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null"},Bz=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},Uz=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")},Cy=(e,t,n,r)=>{n.not={}},Zz=(e,t,n,r)=>{},Sy=(e,t,n,r)=>{},Hz=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},Ey=(e,t,n,r)=>{const a=e._zod.def,s=Xv(a.entries);s.every(o=>typeof o=="number")&&(n.type="number"),s.every(o=>typeof o=="string")&&(n.type="string"),n.enum=s},Ay=(e,t,n,r)=>{const a=e._zod.def,s=[];for(const o of a.values)if(o===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof o=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");s.push(Number(o))}else s.push(o);if(s.length!==0)if(s.length===1){const o=s[0];n.type=o===null?"null":typeof o,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[o]:n.const=o}else s.every(o=>typeof o=="number")&&(n.type="number"),s.every(o=>typeof o=="string")&&(n.type="string"),s.every(o=>typeof o=="boolean")&&(n.type="boolean"),s.every(o=>o===null)&&(n.type="null"),n.enum=s},Wz=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")},qz=(e,t,n,r)=>{const a=n,s=e._zod.pattern;if(!s)throw new Error("Pattern not found in template literal");a.type="string",a.pattern=s.source},Vz=(e,t,n,r)=>{const a=n,s={type:"string",format:"binary",contentEncoding:"binary"},{minimum:o,maximum:l,mime:u}=e._zod.bag;o!==void 0&&(s.minLength=o),l!==void 0&&(s.maxLength=l),u?u.length===1?(s.contentMediaType=u[0],Object.assign(a,s)):(Object.assign(a,s),a.anyOf=u.map(d=>({contentMediaType:d}))):Object.assign(a,s)},Gz=(e,t,n,r)=>{n.type="boolean"},Ty=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},Jz=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")},jy=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},Kz=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")},Yz=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")},Iy=(e,t,n,r)=>{const a=n,s=e._zod.def,{minimum:o,maximum:l}=e._zod.bag;typeof o=="number"&&(a.minItems=o),typeof l=="number"&&(a.maxItems=l),a.type="array",a.items=Nt(s.element,t,{...r,path:[...r.path,"items"]})},Ry=(e,t,n,r)=>{const a=n,s=e._zod.def;a.type="object",a.properties={};const o=s.shape;for(const d in o)a.properties[d]=Nt(o[d],t,{...r,path:[...r.path,"properties",d]});const l=new Set(Object.keys(o)),u=new Set([...l].filter(d=>{const p=s.shape[d]._zod;return t.io==="input"?p.optin===void 0:p.optout===void 0}));u.size>0&&(a.required=Array.from(u)),s.catchall?._zod.def.type==="never"?a.additionalProperties=!1:s.catchall?s.catchall&&(a.additionalProperties=Nt(s.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(a.additionalProperties=!1)},Oy=(e,t,n,r)=>{const a=e._zod.def,s=a.inclusive===!1,o=a.options.map((l,u)=>Nt(l,t,{...r,path:[...r.path,s?"oneOf":"anyOf",u]}));s?n.oneOf=o:n.anyOf=o},Fy=(e,t,n,r)=>{const a=e._zod.def,s=Nt(a.left,t,{...r,path:[...r.path,"allOf",0]}),o=Nt(a.right,t,{...r,path:[...r.path,"allOf",1]}),l=d=>"allOf"in d&&Object.keys(d).length===1,u=[...l(s)?s.allOf:[s],...l(o)?o.allOf:[o]];n.allOf=u},Xz=(e,t,n,r)=>{const a=n,s=e._zod.def;a.type="array";const o=t.target==="draft-2020-12"?"prefixItems":"items",l=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",u=s.items.map((v,y)=>Nt(v,t,{...r,path:[...r.path,o,y]})),d=s.rest?Nt(s.rest,t,{...r,path:[...r.path,l,...t.target==="openapi-3.0"?[s.items.length]:[]]}):null;t.target==="draft-2020-12"?(a.prefixItems=u,d&&(a.items=d)):t.target==="openapi-3.0"?(a.items={anyOf:u},d&&a.items.anyOf.push(d),a.minItems=u.length,d||(a.maxItems=u.length)):(a.items=u,d&&(a.additionalItems=d));const{minimum:p,maximum:m}=e._zod.bag;typeof p=="number"&&(a.minItems=p),typeof m=="number"&&(a.maxItems=m)},zy=(e,t,n,r)=>{const a=n,s=e._zod.def;a.type="object";const o=s.keyType,u=o._zod.bag?.patterns;if(s.mode==="loose"&&u&&u.size>0){const p=Nt(s.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});a.patternProperties={};for(const m of u)a.patternProperties[m.source]=p}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(a.propertyNames=Nt(s.keyType,t,{...r,path:[...r.path,"propertyNames"]})),a.additionalProperties=Nt(s.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const d=o._zod.values;if(d){const p=[...d].filter(m=>typeof m=="string"||typeof m=="number");p.length>0&&(a.required=p)}},My=(e,t,n,r)=>{const a=e._zod.def,s=Nt(a.innerType,t,r),o=t.seen.get(e);t.target==="openapi-3.0"?(o.ref=a.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},Ny=(e,t,n,r)=>{const a=e._zod.def;Nt(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType},$y=(e,t,n,r)=>{const a=e._zod.def;Nt(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType,n.default=JSON.parse(JSON.stringify(a.defaultValue))},Py=(e,t,n,r)=>{const a=e._zod.def;Nt(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},Dy=(e,t,n,r)=>{const a=e._zod.def;Nt(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType;let o;try{o=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=o},Ly=(e,t,n,r)=>{const a=e._zod.def,s=t.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;Nt(s,t,r);const o=t.seen.get(e);o.ref=s},By=(e,t,n,r)=>{const a=e._zod.def;Nt(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType,n.readOnly=!0},Qz=(e,t,n,r)=>{const a=e._zod.def;Nt(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType},fp=(e,t,n,r)=>{const a=e._zod.def;Nt(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType},Uy=(e,t,n,r)=>{const a=e._zod.innerType;Nt(a,t,r);const s=t.seen.get(e);s.ref=a},Ig={string:xy,number:_y,boolean:wy,bigint:Dz,symbol:Lz,null:ky,undefined:Bz,void:Uz,never:Cy,any:Zz,unknown:Sy,date:Hz,enum:Ey,literal:Ay,nan:Wz,template_literal:qz,file:Vz,success:Gz,custom:Ty,function:Jz,transform:jy,map:Kz,set:Yz,array:Iy,object:Ry,union:Oy,intersection:Fy,tuple:Xz,record:zy,nullable:My,nonoptional:Ny,default:$y,prefault:Py,catch:Dy,pipe:Ly,readonly:By,promise:Qz,optional:fp,lazy:Uy};function Zy(e,t){if("_idmap"in e){const r=e,a=sl({...t,processors:Ig}),s={};for(const u of r._idmap.entries()){const[d,p]=u;Nt(p,a)}const o={},l={registry:r,uri:t?.uri,defs:s};a.external=l;for(const u of r._idmap.entries()){const[d,p]=u;ll(a,p),o[d]=cl(a,p)}if(Object.keys(s).length>0){const u=a.target==="draft-2020-12"?"$defs":"definitions";o.__shared={[u]:s}}return{schemas:o}}const n=sl({...t,processors:Ig});return Nt(e,n),ll(n,e),cl(n,e)}const e9=pe("ZodISODateTime",(e,t)=>{aF.init(e,t),Xt.init(e,t)});function t9(e){return dz(e9,e)}const n9=pe("ZodISODate",(e,t)=>{iF.init(e,t),Xt.init(e,t)});function r9(e){return pz(n9,e)}const a9=pe("ZodISOTime",(e,t)=>{oF.init(e,t),Xt.init(e,t)});function i9(e){return fz(a9,e)}const o9=pe("ZodISODuration",(e,t)=>{sF.init(e,t),Xt.init(e,t)});function s9(e){return hz(o9,e)}const l9=(e,t)=>{ny.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>K8(e,n)},flatten:{value:n=>J8(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,dd,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,dd,2)}},isEmpty:{get(){return e.issues.length===0}}})},hr=pe("ZodError",l9,{Parent:Error}),c9=up(hr),u9=dp(hr),d9=Fl(hr),hp=zl(hr),p9=Q8(hr),f9=eO(hr),h9=tO(hr),m9=nO(hr),g9=rO(hr),v9=aO(hr),y9=iO(hr),b9=oO(hr),Ut=pe("ZodType",(e,t)=>(Bt.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:ul(e,"input"),output:ul(e,"output")}}),e.toJSONSchema=$z(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(xa(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>_a(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>c9(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>d9(e,n,r),e.parseAsync=async(n,r)=>u9(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>hp(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>p9(e,n,r),e.decode=(n,r)=>f9(e,n,r),e.encodeAsync=async(n,r)=>h9(e,n,r),e.decodeAsync=async(n,r)=>m9(e,n,r),e.safeEncode=(n,r)=>g9(e,n,r),e.safeDecode=(n,r)=>v9(e,n,r),e.safeEncodeAsync=async(n,r)=>y9(e,n,r),e.safeDecodeAsync=async(n,r)=>b9(e,n,r),e.refine=(n,r)=>e.check(uM(n,r)),e.superRefine=n=>e.check(dM(n)),e.overwrite=n=>e.check(Mi(n)),e.optional=()=>ln(e),e.exactOptional=()=>Y9(e),e.nullable=()=>Fg(e),e.nullish=()=>ln(Fg(e)),e.nonoptional=n=>rM(e,n),e.array=()=>Ln(e),e.or=n=>Et([e,n]),e.and=n=>W9(e,n),e.transform=n=>zg(e,J9(n)),e.default=n=>eM(e,n),e.prefault=n=>nM(e,n),e.catch=n=>iM(e,n),e.pipe=n=>zg(e,n),e.readonly=()=>lM(e),e.describe=n=>{const r=e.clone();return co.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return co.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return co.get(e);const r=e.clone();return co.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),Hy=pe("_ZodString",(e,t)=>{pp.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(r,a,s)=>xy(e,r,a);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(_z(...r)),e.includes=(...r)=>e.check(Cz(...r)),e.startsWith=(...r)=>e.check(Sz(...r)),e.endsWith=(...r)=>e.check(Ez(...r)),e.min=(...r)=>e.check(ol(...r)),e.max=(...r)=>e.check(yy(...r)),e.length=(...r)=>e.check(by(...r)),e.nonempty=(...r)=>e.check(ol(1,...r)),e.lowercase=r=>e.check(wz(r)),e.uppercase=r=>e.check(kz(r)),e.trim=()=>e.check(Tz()),e.normalize=(...r)=>e.check(Az(...r)),e.toLowerCase=()=>e.check(jz()),e.toUpperCase=()=>e.check(Iz()),e.slugify=()=>e.check(Rz())}),x9=pe("ZodString",(e,t)=>{pp.init(e,t),Hy.init(e,t),e.email=n=>e.check(WF(_9,n)),e.url=n=>e.check(KF(w9,n)),e.jwt=n=>e.check(uz(N9,n)),e.emoji=n=>e.check(YF(k9,n)),e.guid=n=>e.check(Eg(Rg,n)),e.uuid=n=>e.check(qF(Ls,n)),e.uuidv4=n=>e.check(VF(Ls,n)),e.uuidv6=n=>e.check(GF(Ls,n)),e.uuidv7=n=>e.check(JF(Ls,n)),e.nanoid=n=>e.check(XF(C9,n)),e.guid=n=>e.check(Eg(Rg,n)),e.cuid=n=>e.check(QF(S9,n)),e.cuid2=n=>e.check(ez(E9,n)),e.ulid=n=>e.check(tz(A9,n)),e.base64=n=>e.check(vy(Wy,n)),e.base64url=n=>e.check(lz(z9,n)),e.xid=n=>e.check(nz(T9,n)),e.ksuid=n=>e.check(rz(j9,n)),e.ipv4=n=>e.check(az(I9,n)),e.ipv6=n=>e.check(iz(R9,n)),e.cidrv4=n=>e.check(oz(O9,n)),e.cidrv6=n=>e.check(sz(F9,n)),e.e164=n=>e.check(cz(M9,n)),e.datetime=n=>e.check(t9(n)),e.date=n=>e.check(r9(n)),e.time=n=>e.check(i9(n)),e.duration=n=>e.check(s9(n))});function oe(e){return HF(x9,e)}const Xt=pe("ZodStringFormat",(e,t)=>{qt.init(e,t),Hy.init(e,t)}),_9=pe("ZodEmail",(e,t)=>{JO.init(e,t),Xt.init(e,t)}),Rg=pe("ZodGUID",(e,t)=>{VO.init(e,t),Xt.init(e,t)}),Ls=pe("ZodUUID",(e,t)=>{GO.init(e,t),Xt.init(e,t)}),w9=pe("ZodURL",(e,t)=>{KO.init(e,t),Xt.init(e,t)}),k9=pe("ZodEmoji",(e,t)=>{YO.init(e,t),Xt.init(e,t)}),C9=pe("ZodNanoID",(e,t)=>{XO.init(e,t),Xt.init(e,t)}),S9=pe("ZodCUID",(e,t)=>{QO.init(e,t),Xt.init(e,t)}),E9=pe("ZodCUID2",(e,t)=>{eF.init(e,t),Xt.init(e,t)}),A9=pe("ZodULID",(e,t)=>{tF.init(e,t),Xt.init(e,t)}),T9=pe("ZodXID",(e,t)=>{nF.init(e,t),Xt.init(e,t)}),j9=pe("ZodKSUID",(e,t)=>{rF.init(e,t),Xt.init(e,t)}),I9=pe("ZodIPv4",(e,t)=>{lF.init(e,t),Xt.init(e,t)}),R9=pe("ZodIPv6",(e,t)=>{cF.init(e,t),Xt.init(e,t)}),O9=pe("ZodCIDRv4",(e,t)=>{uF.init(e,t),Xt.init(e,t)}),F9=pe("ZodCIDRv6",(e,t)=>{dF.init(e,t),Xt.init(e,t)}),Wy=pe("ZodBase64",(e,t)=>{pF.init(e,t),Xt.init(e,t)});function qy(e){return vy(Wy,e)}const z9=pe("ZodBase64URL",(e,t)=>{hF.init(e,t),Xt.init(e,t)}),M9=pe("ZodE164",(e,t)=>{mF.init(e,t),Xt.init(e,t)}),N9=pe("ZodJWT",(e,t)=>{vF.init(e,t),Xt.init(e,t)}),Vy=pe("ZodNumber",(e,t)=>{py.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(r,a,s)=>_y(e,r,a),e.gt=(r,a)=>e.check(Tg(r,a)),e.gte=(r,a)=>e.check(Su(r,a)),e.min=(r,a)=>e.check(Su(r,a)),e.lt=(r,a)=>e.check(Ag(r,a)),e.lte=(r,a)=>e.check(Cu(r,a)),e.max=(r,a)=>e.check(Cu(r,a)),e.int=r=>e.check(Og(r)),e.safe=r=>e.check(Og(r)),e.positive=r=>e.check(Tg(0,r)),e.nonnegative=r=>e.check(Su(0,r)),e.negative=r=>e.check(Ag(0,r)),e.nonpositive=r=>e.check(Cu(0,r)),e.multipleOf=(r,a)=>e.check(jg(r,a)),e.step=(r,a)=>e.check(jg(r,a)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Ti(e){return mz(Vy,e)}const $9=pe("ZodNumberFormat",(e,t)=>{yF.init(e,t),Vy.init(e,t)});function Og(e){return gz($9,e)}const P9=pe("ZodBoolean",(e,t)=>{bF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>wy(e,n,r)});function st(e){return vz(P9,e)}const D9=pe("ZodNull",(e,t)=>{xF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>ky(e,n,r)});function Gy(e){return yz(D9,e)}const L9=pe("ZodUnknown",(e,t)=>{_F.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Sy()});function _t(){return bz(L9)}const B9=pe("ZodNever",(e,t)=>{wF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Cy(e,n,r)});function Nn(e){return xz(B9,e)}const U9=pe("ZodArray",(e,t)=>{kF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Iy(e,n,r,a),e.element=t.element,e.min=(n,r)=>e.check(ol(n,r)),e.nonempty=n=>e.check(ol(1,n)),e.max=(n,r)=>e.check(yy(n,r)),e.length=(n,r)=>e.check(by(n,r)),e.unwrap=()=>e.element});function Ln(e,t){return Oz(U9,e,t)}const mp=pe("ZodObject",(e,t)=>{SF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Ry(e,n,r,a),mt(e,"shape",()=>t.shape),e.keyof=()=>Mo(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:_t()}),e.loose=()=>e.clone({...e._zod.def,catchall:_t()}),e.strict=()=>e.clone({...e._zod.def,catchall:Nn()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>H8(e,n),e.safeExtend=n=>W8(e,n),e.merge=n=>q8(e,n),e.pick=n=>U8(e,n),e.omit=n=>Z8(e,n),e.partial=(...n)=>V8(Yy,e,n[0]),e.required=(...n)=>G8(Xy,e,n[0])});function $e(e,t){const n={type:"object",shape:e??{},...Le(t)};return new mp(n)}function Qe(e,t){return new mp({type:"object",shape:e,catchall:Nn(),...Le(t)})}function bi(e,t){return new mp({type:"object",shape:e,catchall:_t(),...Le(t)})}const Jy=pe("ZodUnion",(e,t)=>{my.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Oy(e,n,r,a),e.options=t.options});function Et(e,t){return new Jy({type:"union",options:e,...Le(t)})}const Z9=pe("ZodDiscriminatedUnion",(e,t)=>{Jy.init(e,t),EF.init(e,t)});function Ky(e,t,n){return new Z9({type:"union",options:t,discriminator:e,...Le(n)})}const H9=pe("ZodIntersection",(e,t)=>{AF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Fy(e,n,r,a)});function W9(e,t){return new H9({type:"intersection",left:e,right:t})}const q9=pe("ZodRecord",(e,t)=>{TF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>zy(e,n,r,a),e.keyType=t.keyType,e.valueType=t.valueType});function ji(e,t,n){return new q9({type:"record",keyType:e,valueType:t,...Le(n)})}const fd=pe("ZodEnum",(e,t)=>{jF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(r,a,s)=>Ey(e,r,a),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,a)=>{const s={};for(const o of r)if(n.has(o))s[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new fd({...t,checks:[],...Le(a),entries:s})},e.exclude=(r,a)=>{const s={...t.entries};for(const o of r)if(n.has(o))delete s[o];else throw new Error(`Key ${o} not found in enum`);return new fd({...t,checks:[],...Le(a),entries:s})}});function Mo(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new fd({type:"enum",entries:n,...Le(t)})}const V9=pe("ZodLiteral",(e,t)=>{IF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Ay(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function xe(e,t){return new V9({type:"literal",values:Array.isArray(e)?e:[e],...Le(t)})}const G9=pe("ZodTransform",(e,t)=>{RF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>jy(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Kv(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(So(s,n.value,t));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),n.issues.push(So(o))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then(s=>(n.value=s,n)):(n.value=a,n)}});function J9(e){return new G9({type:"transform",transform:e})}const Yy=pe("ZodOptional",(e,t)=>{gy.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>fp(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function ln(e){return new Yy({type:"optional",innerType:e})}const K9=pe("ZodExactOptional",(e,t)=>{OF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>fp(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function Y9(e){return new K9({type:"optional",innerType:e})}const X9=pe("ZodNullable",(e,t)=>{FF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>My(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function Fg(e){return new X9({type:"nullable",innerType:e})}const Q9=pe("ZodDefault",(e,t)=>{zF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>$y(e,n,r,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function eM(e,t){return new Q9({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():ey(t)}})}const tM=pe("ZodPrefault",(e,t)=>{MF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Py(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function nM(e,t){return new tM({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():ey(t)}})}const Xy=pe("ZodNonOptional",(e,t)=>{NF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Ny(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function rM(e,t){return new Xy({type:"nonoptional",innerType:e,...Le(t)})}const aM=pe("ZodCatch",(e,t)=>{$F.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Dy(e,n,r,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function iM(e,t){return new aM({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const oM=pe("ZodPipe",(e,t)=>{PF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Ly(e,n,r,a),e.in=t.in,e.out=t.out});function zg(e,t){return new oM({type:"pipe",in:e,out:t})}const sM=pe("ZodReadonly",(e,t)=>{DF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>By(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function lM(e){return new sM({type:"readonly",innerType:e})}const cM=pe("ZodLazy",(e,t)=>{LF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Uy(e,n,r,a),e.unwrap=()=>e._zod.def.getter()});function Qy(e){return new cM({type:"lazy",getter:e})}const gp=pe("ZodCustom",(e,t)=>{BF.init(e,t),Ut.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Ty(e,n)});function Nl(e,t){return Fz(gp,e??(()=>!0),t)}function uM(e,t={}){return zz(gp,e,t)}function dM(e){return Mz(e)}function va(e,t={}){const n=new gp({type:"custom",check:"custom",fn:r=>r instanceof e,abort:!0,...Le(t)});return n._zod.bag.Class=e,n._zod.check=r=>{r.value instanceof e||r.issues.push({code:"invalid_type",expected:e.name,input:r.value,inst:n,path:[...n._zod.def.path??[]]})},n}var Eo;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of s)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},e.find=(a,s)=>{for(const o of a)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(Eo||(Eo={}));var Mg;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Mg||(Mg={}));Eo.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);Eo.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class dl extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(s){return s.message},r={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,u=0;for(;u<o.path.length;){const d=o.path[u];u===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return a(this),r}static assert(t){if(!(t instanceof dl))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Eo.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n=Object.create(null),r=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];n[s]=n[s]||[],n[s].push(t(a))}else r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}dl.create=e=>new dl(e);var Ng;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Ng||(Ng={}));var je;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(je||(je={}));var No=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const a=()=>{const s=n.length,o=new Array(t);for(let l=0;l<t;l++)o[l]=n[Math.random()*s|0];return o.join("")};if(e==null)return a;if(n.includes(r))throw new R8({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return()=>`${e}${r}${a()}`},pM=No();function $g(e=globalThis){var t,n,r;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(r=(n=e.process)==null?void 0:n.versions)!=null&&r.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function Ma(e){if(e==null)return{};const t={};if(e instanceof Headers)e.forEach((n,r)=>{t[r.toLowerCase()]=n});else{Array.isArray(e)||(e=Object.entries(e));for(const[n,r]of e)r!=null&&(t[n.toLowerCase()]=r)}return t}function Pg(e,...t){const n=new Headers(Ma(e)),r=n.get("user-agent")||"";return n.set("user-agent",[r,...t].filter(Boolean).join(" ")),Object.fromEntries(n.entries())}var fM=/"__proto__"\s*:/,hM=/"constructor"\s*:/;function Dg(e){const t=JSON.parse(e);return t===null||typeof t!="object"||fM.test(e)===!1&&hM.test(e)===!1?t:mM(t)}function mM(e){let t=[e];for(;t.length;){const n=t;t=[];for(const r of n){if(Object.prototype.hasOwnProperty.call(r,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const a in r){const s=r[a];s&&typeof s=="object"&&t.push(s)}}}return e}function gM(e){const{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return Dg(e)}try{return Dg(e)}finally{Error.stackTraceLimit=t}}var pl=Symbol.for("vercel.ai.validator");function vM(e){return{[pl]:!0,validate:e}}function yM(e){return typeof e=="object"&&e!==null&&pl in e&&e[pl]===!0&&"validate"in e}function bM(e){let t;return()=>(t==null&&(t=e()),t)}function xM(e){return yM(e)?e:typeof e=="function"?e():_M(e)}function _M(e){return vM(async t=>{const n=await e["~standard"].validate(t);return n.issues==null?{success:!0,value:n.value}:{success:!1,error:new al({value:t,cause:n.issues})}})}async function Lg({value:e,schema:t}){const n=await vp({value:e,schema:t});if(!n.success)throw al.wrap({value:e,cause:n.error});return n.value}async function vp({value:e,schema:t}){const n=xM(t);try{if(n.validate==null)return{success:!0,value:e,rawValue:e};const r=await n.validate(e);return r.success?{success:!0,value:r.value,rawValue:e}:{success:!1,error:al.wrap({value:e,cause:r.error}),rawValue:e}}catch(r){return{success:!1,error:al.wrap({value:e,cause:r}),rawValue:e}}}async function fl({text:e,schema:t}){try{const n=gM(e);return t==null?{success:!0,value:n,rawValue:n}:await vp({value:n,schema:t})}catch(n){return{success:!1,error:ug.isInstance(n)?n:new ug({text:e,cause:n}),rawValue:void 0}}}function wM({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new Jv).pipeThrough(new TransformStream({async transform({data:n},r){n!=="[DONE]"&&r.enqueue(await fl({text:n,schema:t}))}}))}async function di(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}function Ws(e){if(e.type==="object"){e.additionalProperties=!1;const t=e.properties;if(t!=null)for(const n in t)t[n]=Ws(t[n])}return e.type==="array"&&e.items!=null&&(Array.isArray(e.items)?e.items=e.items.map(t=>Ws(t)):e.items=Ws(e.items)),e}var kM=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},CM=Symbol("Let zodToJsonSchema decide on which parser to use"),Bg={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},SM=e=>typeof e=="string"?{...Bg,name:e}:{...Bg,...e};function Kn(){return{}}function EM(e,t){var n,r,a;const s={type:"array"};return(n=e.type)!=null&&n._def&&((a=(r=e.type)==null?void 0:r._def)==null?void 0:a.typeName)!==je.ZodAny&&(s.items=jt(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(s.minItems=e.minLength.value),e.maxLength&&(s.maxItems=e.maxLength.value),e.exactLength&&(s.minItems=e.exactLength.value,s.maxItems=e.exactLength.value),s}function AM(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function TM(){return{type:"boolean"}}function eb(e,t){return jt(e.type._def,t)}var jM=(e,t)=>jt(e.innerType._def,t);function tb(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((a,s)=>tb(e,t,a))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return IM(e)}}var IM=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value;break}return t};function RM(e,t){return{...jt(e.innerType._def,t),default:e.defaultValue()}}function OM(e,t){return t.effectStrategy==="input"?jt(e.schema._def,t):Kn()}function FM(e){return{type:"string",enum:Array.from(e.values)}}var zM=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function MM(e,t){const n=[jt(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),jt(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(a=>!!a),r=[];return n.forEach(a=>{if(zM(a))r.push(...a.allOf);else{let s=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:o,...l}=a;s=l}r.push(s)}}),r.length?{allOf:r}:void 0}function NM(e){const t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}var Eu=void 0,xr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Eu===void 0&&(Eu=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Eu),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function nb(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":_r(n,"email",r.message,t);break;case"format:idn-email":_r(n,"idn-email",r.message,t);break;case"pattern:zod":Cn(n,xr.email,r.message,t);break}break;case"url":_r(n,"uri",r.message,t);break;case"uuid":_r(n,"uuid",r.message,t);break;case"regex":Cn(n,r.regex,r.message,t);break;case"cuid":Cn(n,xr.cuid,r.message,t);break;case"cuid2":Cn(n,xr.cuid2,r.message,t);break;case"startsWith":Cn(n,RegExp(`^${Au(r.value,t)}`),r.message,t);break;case"endsWith":Cn(n,RegExp(`${Au(r.value,t)}$`),r.message,t);break;case"datetime":_r(n,"date-time",r.message,t);break;case"date":_r(n,"date",r.message,t);break;case"time":_r(n,"time",r.message,t);break;case"duration":_r(n,"duration",r.message,t);break;case"length":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"includes":{Cn(n,RegExp(Au(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&_r(n,"ipv4",r.message,t),r.version!=="v4"&&_r(n,"ipv6",r.message,t);break}case"base64url":Cn(n,xr.base64url,r.message,t);break;case"jwt":Cn(n,xr.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&Cn(n,xr.ipv4Cidr,r.message,t),r.version!=="v4"&&Cn(n,xr.ipv6Cidr,r.message,t);break}case"emoji":Cn(n,xr.emoji(),r.message,t);break;case"ulid":{Cn(n,xr.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{_r(n,"binary",r.message,t);break}case"contentEncoding:base64":{n.contentEncoding="base64";break}case"pattern:zod":{Cn(n,xr.base64,r.message,t);break}}break}case"nanoid":Cn(n,xr.nanoid,r.message,t)}return n}function Au(e,t){return t.patternStrategy==="escape"?PM(e):e}var $M=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function PM(e){let t="";for(let n=0;n<e.length;n++)$M.has(e[n])||(t+="\\"),t+=e[n];return t}function _r(e,t,n,r){var a;e.format||(a=e.anyOf)!=null&&a.some(s=>s.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):e.format=t}function Cn(e,t,n,r){var a;e.pattern||(a=e.allOf)!=null&&a.some(s=>s.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:Ug(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=Ug(t,r)}function Ug(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},a=r.i?e.source.toLowerCase():e.source;let s="",o=!1,l=!1,u=!1;for(let d=0;d<a.length;d++){if(o){s+=a[d],o=!1;continue}if(r.i){if(l){if(a[d].match(/[a-z]/)){u?(s+=a[d],s+=`${a[d-2]}-${a[d]}`.toUpperCase(),u=!1):a[d+1]==="-"&&((n=a[d+2])!=null&&n.match(/[a-z]/))?(s+=a[d],u=!0):s+=`${a[d]}${a[d].toUpperCase()}`;continue}}else if(a[d].match(/[a-z]/)){s+=`[${a[d]}${a[d].toUpperCase()}]`;continue}}if(r.m){if(a[d]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(a[d]==="$"){s+=`($|(?=[\r
]))`;continue}}if(r.s&&a[d]==="."){s+=l?`${a[d]}\r
`:`[${a[d]}\r
]`;continue}s+=a[d],a[d]==="\\"?o=!0:l&&a[d]==="]"?l=!1:!l&&a[d]==="["&&(l=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function rb(e,t){var n,r,a,s,o,l;const u={type:"object",additionalProperties:(n=jt(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?n:t.allowedAdditionalProperties};if(((r=e.keyType)==null?void 0:r._def.typeName)===je.ZodString&&((a=e.keyType._def.checks)!=null&&a.length)){const{type:d,...p}=nb(e.keyType._def,t);return{...u,propertyNames:p}}else{if(((s=e.keyType)==null?void 0:s._def.typeName)===je.ZodEnum)return{...u,propertyNames:{enum:e.keyType._def.values}};if(((o=e.keyType)==null?void 0:o._def.typeName)===je.ZodBranded&&e.keyType._def.type._def.typeName===je.ZodString&&((l=e.keyType._def.type._def.checks)!=null&&l.length)){const{type:d,...p}=eb(e.keyType._def,t);return{...u,propertyNames:p}}}return u}function DM(e,t){if(t.mapStrategy==="record")return rb(e,t);const n=jt(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Kn(),r=jt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Kn();return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function LM(e){const t=e.values,r=Object.keys(e.values).filter(s=>typeof t[t[s]]!="number").map(s=>t[s]),a=Array.from(new Set(r.map(s=>typeof s)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:r}}function BM(){return{not:Kn()}}function UM(){return{type:"null"}}var hd={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function ZM(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in hd&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((a,s)=>{const o=hd[s._def.typeName];return o&&!a.includes(o)?[...a,o]:a},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((a,s)=>{const o=typeof s._def.value;switch(o){case"string":case"number":case"boolean":return[...a,o];case"bigint":return[...a,"integer"];case"object":if(s._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(r.length===n.length){const a=r.filter((s,o,l)=>l.indexOf(s)===o);return{type:a.length>1?a:a[0],enum:n.reduce((s,o)=>s.includes(o._def.value)?s:[...s,o._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,a)=>[...r,...a._def.values.filter(s=>!r.includes(s))],[])};return HM(e,t)}var HM=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,a)=>jt(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${a}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function WM(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[hd[e.innerType._def.typeName],"null"]};const n=jt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function qM(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function VM(e,t){const n={type:"object",properties:{}},r=[],a=e.shape();for(const o in a){let l=a[o];if(l===void 0||l._def===void 0)continue;const u=JM(l),d=jt(l._def,{...t,currentPath:[...t.currentPath,"properties",o],propertyPath:[...t.currentPath,"properties",o]});d!==void 0&&(n.properties[o]=d,u||r.push(o))}r.length&&(n.required=r);const s=GM(e,t);return s!==void 0&&(n.additionalProperties=s),n}function GM(e,t){if(e.catchall._def.typeName!=="ZodNever")return jt(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function JM(e){try{return e.isOptional()}catch{return!0}}var KM=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return jt(e.innerType._def,t);const r=jt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:Kn()},r]}:Kn()},YM=(e,t)=>{if(t.pipeStrategy==="input")return jt(e.in._def,t);if(t.pipeStrategy==="output")return jt(e.out._def,t);const n=jt(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=jt(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(a=>a!==void 0)}};function XM(e,t){return jt(e.type._def,t)}function QM(e,t){const r={type:"array",uniqueItems:!0,items:jt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(r.minItems=e.minSize.value),e.maxSize&&(r.maxItems=e.maxSize.value),r}function eN(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>jt(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:jt(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>jt(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function tN(){return{not:Kn()}}function nN(){return Kn()}var rN=(e,t)=>jt(e.innerType._def,t),aN=(e,t,n)=>{switch(t){case je.ZodString:return nb(e,n);case je.ZodNumber:return qM(e);case je.ZodObject:return VM(e,n);case je.ZodBigInt:return AM(e);case je.ZodBoolean:return TM();case je.ZodDate:return tb(e,n);case je.ZodUndefined:return tN();case je.ZodNull:return UM();case je.ZodArray:return EM(e,n);case je.ZodUnion:case je.ZodDiscriminatedUnion:return ZM(e,n);case je.ZodIntersection:return MM(e,n);case je.ZodTuple:return eN(e,n);case je.ZodRecord:return rb(e,n);case je.ZodLiteral:return NM(e);case je.ZodEnum:return FM(e);case je.ZodNativeEnum:return LM(e);case je.ZodNullable:return WM(e,n);case je.ZodOptional:return KM(e,n);case je.ZodMap:return DM(e,n);case je.ZodSet:return QM(e,n);case je.ZodLazy:return()=>e.getter()._def;case je.ZodPromise:return XM(e,n);case je.ZodNaN:case je.ZodNever:return BM();case je.ZodEffects:return OM(e,n);case je.ZodAny:return Kn();case je.ZodUnknown:return nN();case je.ZodDefault:return RM(e,n);case je.ZodBranded:return eb(e,n);case je.ZodReadonly:return rN(e,n);case je.ZodCatch:return jM(e,n);case je.ZodPipeline:return YM(e,n);case je.ZodFunction:case je.ZodVoid:case je.ZodSymbol:return;default:return(r=>{})()}};function jt(e,t,n=!1){var r;const a=t.seen.get(e);if(t.override){const u=(r=t.override)==null?void 0:r.call(t,e,t,a,n);if(u!==CM)return u}if(a&&!n){const u=iN(a,t);if(u!==void 0)return u}const s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);const o=aN(e,e.typeName,t),l=typeof o=="function"?jt(o(),t):o;if(l&&oN(e,t,l),t.postProcess){const u=t.postProcess(l,e,t);return s.jsonSchema=l,u}return s.jsonSchema=l,l}var iN=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:kM(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Kn()):t.$refStrategy==="seen"?Kn():void 0}},oN=(e,t,n)=>(e.description&&(n.description=e.description),n),sN=e=>{const t=SM(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,a])=>[a._def,{def:a._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}},lN=(e,t)=>{var n;const r=sN(t);let a=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((d,[p,m])=>{var v;return{...d,[p]:(v=jt(m._def,{...r,currentPath:[...r.basePath,r.definitionPath,p]},!0))!=null?v:Kn()}},{}):void 0;const s=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,o=(n=jt(e._def,s===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,s]},!1))!=null?n:Kn(),l=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;l!==void 0&&(o.title=l);const u=s===void 0?a?{...o,[r.definitionPath]:a}:o:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:{...a,[s]:o}};return u.$schema="http://json-schema.org/draft-07/schema#",u},cN=lN;function uN(e,t){var n;const r=(n=void 0)!=null?n:!1;return yp(()=>cN(e,{$refStrategy:r?"root":"none"}),{validate:async a=>{const s=await e.safeParseAsync(a);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}}})}function dN(e,t){var n;const r=(n=void 0)!=null?n:!1;return yp(()=>Ws(Zy(e,{target:"draft-7",io:"input",reused:r?"ref":"inline"})),{validate:async a=>{const s=await hp(e,a);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}}})}function pN(e){return"_zod"in e}function ab(e,t){return pN(e)?dN(e):uN(e)}var md=Symbol.for("vercel.ai.schema");function yp(e,{validate:t}={}){return{[md]:!0,_type:void 0,[pl]:!0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}function fN(e){return typeof e=="object"&&e!==null&&md in e&&e[md]===!0&&"jsonSchema"in e&&"validate"in e}function hN(e){return e==null?yp({properties:{},additionalProperties:!1}):fN(e)?e:typeof e=="function"?e():ab(e)}var mN=Object.defineProperty,gN=(e,t)=>{for(var n in t)mN(e,n,{get:t[n],enumerable:!0})},ib="AI_NoObjectGeneratedError",ob=`vercel.ai.error.${ib}`,vN=Symbol.for(ob),sb,Zg=class extends ha{constructor({message:t="No object generated.",cause:n,text:r,response:a,usage:s,finishReason:o}){super({name:ib,message:t,cause:n}),this[sb]=!0,this.text=r,this.response=a,this.usage=s,this.finishReason=o}static isInstance(t){return ha.hasMarker(t,ob)}};sb=vN;var Hg="5.0.118",lb=Et([oe(),va(Uint8Array),va(ArrayBuffer),Nl(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]),Ao=Qy(()=>Et([Gy(),oe(),Ti(),st(),ji(oe(),Ao),Ln(Ao)])),an=ji(oe(),ji(oe(),Ao)),cb=$e({type:xe("text"),text:oe(),providerOptions:an.optional()}),yN=$e({type:xe("image"),image:Et([lb,va(URL)]),mediaType:oe().optional(),providerOptions:an.optional()}),ub=$e({type:xe("file"),data:Et([lb,va(URL)]),filename:oe().optional(),mediaType:oe(),providerOptions:an.optional()}),bN=$e({type:xe("reasoning"),text:oe(),providerOptions:an.optional()}),xN=$e({type:xe("tool-call"),toolCallId:oe(),toolName:oe(),input:_t(),providerOptions:an.optional(),providerExecuted:st().optional()}),_N=Ky("type",[$e({type:xe("text"),value:oe()}),$e({type:xe("json"),value:Ao}),$e({type:xe("error-text"),value:oe()}),$e({type:xe("error-json"),value:Ao}),$e({type:xe("content"),value:Ln(Et([$e({type:xe("text"),text:oe()}),$e({type:xe("media"),data:oe(),mediaType:oe()})]))})]),db=$e({type:xe("tool-result"),toolCallId:oe(),toolName:oe(),output:_N,providerOptions:an.optional()}),wN=$e({role:xe("system"),content:oe(),providerOptions:an.optional()}),kN=$e({role:xe("user"),content:Et([oe(),Ln(Et([cb,yN,ub]))]),providerOptions:an.optional()}),CN=$e({role:xe("assistant"),content:Et([oe(),Ln(Et([cb,ub,bN,xN,db]))]),providerOptions:an.optional()}),SN=$e({role:xe("tool"),content:Ln(db),providerOptions:an.optional()});Et([wN,kN,CN,SN]);No({prefix:"aitxt",size:24});(class extends TransformStream{constructor(){super({transform(e,t){t.enqueue(`data: ${JSON.stringify(e)}

`)},flush(e){e.enqueue(`data: [DONE]

`)}})}});var EN=bM(()=>ab(Et([Qe({type:xe("text-start"),id:oe(),providerMetadata:an.optional()}),Qe({type:xe("text-delta"),id:oe(),delta:oe(),providerMetadata:an.optional()}),Qe({type:xe("text-end"),id:oe(),providerMetadata:an.optional()}),Qe({type:xe("error"),errorText:oe()}),Qe({type:xe("tool-input-start"),toolCallId:oe(),toolName:oe(),providerExecuted:st().optional(),dynamic:st().optional()}),Qe({type:xe("tool-input-delta"),toolCallId:oe(),inputTextDelta:oe()}),Qe({type:xe("tool-input-available"),toolCallId:oe(),toolName:oe(),input:_t(),providerExecuted:st().optional(),providerMetadata:an.optional(),dynamic:st().optional()}),Qe({type:xe("tool-input-error"),toolCallId:oe(),toolName:oe(),input:_t(),providerExecuted:st().optional(),providerMetadata:an.optional(),dynamic:st().optional(),errorText:oe()}),Qe({type:xe("tool-output-available"),toolCallId:oe(),output:_t(),providerExecuted:st().optional(),dynamic:st().optional(),preliminary:st().optional()}),Qe({type:xe("tool-output-error"),toolCallId:oe(),errorText:oe(),providerExecuted:st().optional(),dynamic:st().optional()}),Qe({type:xe("reasoning-start"),id:oe(),providerMetadata:an.optional()}),Qe({type:xe("reasoning-delta"),id:oe(),delta:oe(),providerMetadata:an.optional()}),Qe({type:xe("reasoning-end"),id:oe(),providerMetadata:an.optional()}),Qe({type:xe("source-url"),sourceId:oe(),url:oe(),title:oe().optional(),providerMetadata:an.optional()}),Qe({type:xe("source-document"),sourceId:oe(),mediaType:oe(),title:oe(),filename:oe().optional(),providerMetadata:an.optional()}),Qe({type:xe("file"),url:oe(),mediaType:oe(),providerMetadata:an.optional()}),Qe({type:Nl(e=>typeof e=="string"&&e.startsWith("data-"),{message:'Type must start with "data-"'}),id:oe().optional(),data:_t(),transient:st().optional()}),Qe({type:xe("start-step")}),Qe({type:xe("finish-step")}),Qe({type:xe("start"),messageId:oe().optional(),messageMetadata:_t().optional()}),Qe({type:xe("finish"),finishReason:Mo(["stop","length","content-filter","tool-calls","error","other","unknown"]).optional(),messageMetadata:_t().optional()}),Qe({type:xe("abort")}),Qe({type:xe("message-metadata"),messageMetadata:_t()})])));function AN(e){return e.type.startsWith("data-")}function pb(e,t){if(e===void 0&&t===void 0)return;if(e===void 0)return t;if(t===void 0)return e;const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const a=t[r];if(a===void 0)continue;const s=r in e?e[r]:void 0,o=a!==null&&typeof a=="object"&&!Array.isArray(a)&&!(a instanceof Date)&&!(a instanceof RegExp),l=s!=null&&typeof s=="object"&&!Array.isArray(s)&&!(s instanceof Date)&&!(s instanceof RegExp);o&&l?n[r]=pb(s,a):n[r]=a}return n}function TN(e){const t=["ROOT"];let n=-1,r=null;function a(u,d,p){switch(u){case'"':{n=d,t.pop(),t.push(p),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{n=d,r=d,t.pop(),t.push(p),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(p),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=d,t.pop(),t.push(p),t.push("INSIDE_NUMBER");break}case"{":{n=d,t.pop(),t.push(p),t.push("INSIDE_OBJECT_START");break}case"[":{n=d,t.pop(),t.push(p),t.push("INSIDE_ARRAY_START");break}}}function s(u,d){switch(u){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=d,t.pop();break}}}function o(u,d){switch(u){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=d,t.pop();break}}}for(let u=0;u<e.length;u++){const d=e[u];switch(t[t.length-1]){case"ROOT":a(d,u,"FINISH");break;case"INSIDE_OBJECT_START":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{n=u,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(d){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{a(d,u,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{s(d,u);break}case"INSIDE_STRING":{switch(d){case'"':{t.pop(),n=u;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=u}break}case"INSIDE_ARRAY_START":{switch(d){case"]":{n=u,t.pop();break}default:{n=u,a(d,u,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(d){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=u,t.pop();break}default:{n=u;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{a(d,u,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),n=u;break}case"INSIDE_NUMBER":{switch(d){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=u;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(d,u),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&s(d,u);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&s(d,u);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(d,u);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const m=e.substring(r,u+1);!"false".startsWith(m)&&!"true".startsWith(m)&&!"null".startsWith(m)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?s(d,u):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(d,u)):n=u;break}}}let l=e.slice(0,n+1);for(let u=t.length-1;u>=0;u--)switch(t[u]){case"INSIDE_STRING":{l+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{l+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{l+="]";break}case"INSIDE_LITERAL":{const p=e.substring(r,e.length);"true".startsWith(p)?l+="true".slice(p.length):"false".startsWith(p)?l+="false".slice(p.length):"null".startsWith(p)&&(l+="null".slice(p.length))}}return l}async function fb(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=await fl({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await fl({text:TN(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}function qs(e){return e.type.startsWith("tool-")}function jN(e){return e.type==="dynamic-tool"}function Wg(e){return qs(e)||jN(e)}function qg(e){return e.type.split("-").slice(1).join("-")}function IN({lastMessage:e,messageId:t}){return{message:e?.role==="assistant"?e:{id:t,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function RN({stream:e,messageMetadataSchema:t,dataPartSchemas:n,runUpdateMessageJob:r,onError:a,onToolCall:s,onData:o}){return e.pipeThrough(new TransformStream({async transform(l,u){await r(async({state:d,write:p})=>{var m,v,y,g;function _(j){const O=d.message.parts.filter(qs).find(B=>B.toolCallId===j);if(O==null)throw new Error("tool-output-error must be preceded by a tool-input-available");return O}function x(j){const O=d.message.parts.filter(B=>B.type==="dynamic-tool").find(B=>B.toolCallId===j);if(O==null)throw new Error("tool-output-error must be preceded by a tool-input-available");return O}function k(j){var F;const O=d.message.parts.find(V=>qs(V)&&V.toolCallId===j.toolCallId),B=j,L=O;O!=null?(O.state=j.state,L.input=B.input,L.output=B.output,L.errorText=B.errorText,L.rawInput=B.rawInput,L.preliminary=B.preliminary,L.providerExecuted=(F=B.providerExecuted)!=null?F:O.providerExecuted,B.providerMetadata!=null&&O.state==="input-available"&&(O.callProviderMetadata=B.providerMetadata)):d.message.parts.push({type:`tool-${j.toolName}`,toolCallId:j.toolCallId,state:j.state,input:B.input,output:B.output,rawInput:B.rawInput,errorText:B.errorText,providerExecuted:B.providerExecuted,preliminary:B.preliminary,...B.providerMetadata!=null?{callProviderMetadata:B.providerMetadata}:{}})}function A(j){var F,O;const B=d.message.parts.find(q=>q.type==="dynamic-tool"&&q.toolCallId===j.toolCallId),L=j,V=B;B!=null?(B.state=j.state,V.toolName=j.toolName,V.input=L.input,V.output=L.output,V.errorText=L.errorText,V.rawInput=(F=L.rawInput)!=null?F:V.rawInput,V.preliminary=L.preliminary,V.providerExecuted=(O=L.providerExecuted)!=null?O:B.providerExecuted,L.providerMetadata!=null&&B.state==="input-available"&&(B.callProviderMetadata=L.providerMetadata)):d.message.parts.push({type:"dynamic-tool",toolName:j.toolName,toolCallId:j.toolCallId,state:j.state,input:L.input,output:L.output,errorText:L.errorText,preliminary:L.preliminary,providerExecuted:L.providerExecuted,...L.providerMetadata!=null?{callProviderMetadata:L.providerMetadata}:{}})}async function T(j){if(j!=null){const F=d.message.metadata!=null?pb(d.message.metadata,j):j;t!=null&&await Lg({value:F,schema:t}),d.message.metadata=F}}switch(l.type){case"text-start":{const j={type:"text",text:"",providerMetadata:l.providerMetadata,state:"streaming"};d.activeTextParts[l.id]=j,d.message.parts.push(j),p();break}case"text-delta":{const j=d.activeTextParts[l.id];j.text+=l.delta,j.providerMetadata=(m=l.providerMetadata)!=null?m:j.providerMetadata,p();break}case"text-end":{const j=d.activeTextParts[l.id];j.state="done",j.providerMetadata=(v=l.providerMetadata)!=null?v:j.providerMetadata,delete d.activeTextParts[l.id],p();break}case"reasoning-start":{const j={type:"reasoning",text:"",providerMetadata:l.providerMetadata,state:"streaming"};d.activeReasoningParts[l.id]=j,d.message.parts.push(j),p();break}case"reasoning-delta":{const j=d.activeReasoningParts[l.id];j.text+=l.delta,j.providerMetadata=(y=l.providerMetadata)!=null?y:j.providerMetadata,p();break}case"reasoning-end":{const j=d.activeReasoningParts[l.id];j.providerMetadata=(g=l.providerMetadata)!=null?g:j.providerMetadata,j.state="done",delete d.activeReasoningParts[l.id],p();break}case"file":{d.message.parts.push({type:"file",mediaType:l.mediaType,url:l.url}),p();break}case"source-url":{d.message.parts.push({type:"source-url",sourceId:l.sourceId,url:l.url,title:l.title,providerMetadata:l.providerMetadata}),p();break}case"source-document":{d.message.parts.push({type:"source-document",sourceId:l.sourceId,mediaType:l.mediaType,title:l.title,filename:l.filename,providerMetadata:l.providerMetadata}),p();break}case"tool-input-start":{const j=d.message.parts.filter(qs);d.partialToolCalls[l.toolCallId]={text:"",toolName:l.toolName,index:j.length,dynamic:l.dynamic},l.dynamic?A({toolCallId:l.toolCallId,toolName:l.toolName,state:"input-streaming",input:void 0,providerExecuted:l.providerExecuted}):k({toolCallId:l.toolCallId,toolName:l.toolName,state:"input-streaming",input:void 0,providerExecuted:l.providerExecuted}),p();break}case"tool-input-delta":{const j=d.partialToolCalls[l.toolCallId];j.text+=l.inputTextDelta;const{value:F}=await fb(j.text);j.dynamic?A({toolCallId:l.toolCallId,toolName:j.toolName,state:"input-streaming",input:F}):k({toolCallId:l.toolCallId,toolName:j.toolName,state:"input-streaming",input:F}),p();break}case"tool-input-available":{l.dynamic?A({toolCallId:l.toolCallId,toolName:l.toolName,state:"input-available",input:l.input,providerExecuted:l.providerExecuted,providerMetadata:l.providerMetadata}):k({toolCallId:l.toolCallId,toolName:l.toolName,state:"input-available",input:l.input,providerExecuted:l.providerExecuted,providerMetadata:l.providerMetadata}),p(),s&&!l.providerExecuted&&await s({toolCall:l});break}case"tool-input-error":{l.dynamic?A({toolCallId:l.toolCallId,toolName:l.toolName,state:"output-error",input:l.input,errorText:l.errorText,providerExecuted:l.providerExecuted,providerMetadata:l.providerMetadata}):k({toolCallId:l.toolCallId,toolName:l.toolName,state:"output-error",input:void 0,rawInput:l.input,errorText:l.errorText,providerExecuted:l.providerExecuted,providerMetadata:l.providerMetadata}),p();break}case"tool-output-available":{if(l.dynamic){const j=x(l.toolCallId);A({toolCallId:l.toolCallId,toolName:j.toolName,state:"output-available",input:j.input,output:l.output,preliminary:l.preliminary})}else{const j=_(l.toolCallId);k({toolCallId:l.toolCallId,toolName:qg(j),state:"output-available",input:j.input,output:l.output,providerExecuted:l.providerExecuted,preliminary:l.preliminary})}p();break}case"tool-output-error":{if(l.dynamic){const j=x(l.toolCallId);A({toolCallId:l.toolCallId,toolName:j.toolName,state:"output-error",input:j.input,errorText:l.errorText,providerExecuted:l.providerExecuted})}else{const j=_(l.toolCallId);k({toolCallId:l.toolCallId,toolName:qg(j),state:"output-error",input:j.input,rawInput:j.rawInput,errorText:l.errorText,providerExecuted:l.providerExecuted})}p();break}case"start-step":{d.message.parts.push({type:"step-start"});break}case"finish-step":{d.activeTextParts={},d.activeReasoningParts={};break}case"start":{l.messageId!=null&&(d.message.id=l.messageId),await T(l.messageMetadata),(l.messageId!=null||l.messageMetadata!=null)&&p();break}case"finish":{l.finishReason!=null&&(d.finishReason=l.finishReason),await T(l.messageMetadata),l.messageMetadata!=null&&p();break}case"message-metadata":{await T(l.messageMetadata),l.messageMetadata!=null&&p();break}case"error":{a?.(new Error(l.errorText));break}default:if(AN(l)){n?.[l.type]!=null&&await Lg({value:l.data,schema:n[l.type]});const j=l;if(j.transient){o?.(j);break}const F=j.id!=null?d.message.parts.find(O=>j.type===O.type&&j.id===O.id):void 0;F!=null?F.data=j.data:d.message.parts.push(j),o?.(j),p()}}u.enqueue(l)})}}))}async function ON({stream:e,onError:t}){const n=e.getReader();try{for(;;){const{done:r}=await n.read();if(r)break}}catch(r){t?.(r)}finally{n.releaseLock()}}No({prefix:"aitxt",size:24});No({prefix:"aiobj",size:24});var FN=class{constructor(){this.queue=[],this.isProcessing=!1}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(e){return new Promise((t,n)=>{this.queue.push(async()=>{try{await e(),t()}catch(r){n(r)}}),this.processQueue()})}};No({prefix:"aiobj",size:24});var zN={};gN(zN,{object:()=>NN,text:()=>MN});var MN=()=>({type:"text",responseFormat:{type:"text"},async parsePartial({text:e}){return{partial:e}},async parseOutput({text:e}){return e}}),NN=({schema:e})=>{const t=hN(e);return{type:"object",responseFormat:{type:"json",schema:t.jsonSchema},async parsePartial({text:n}){const r=await fb(n);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:r.value};default:{const a=r.state;throw new Error(`Unsupported parse state: ${a}`)}}},async parseOutput({text:n},r){const a=await fl({text:n});if(!a.success)throw new Zg({message:"No object generated: could not parse the response.",cause:a.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});const s=await vp({value:a.value,schema:t});if(!s.success)throw new Zg({message:"No object generated: response did not match schema.",cause:s.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});return s.value}}};async function $N(e){if(e==null)return[];if(!globalThis.FileList||!(e instanceof globalThis.FileList))throw new Error("FileList is not supported in the current environment");return Promise.all(Array.from(e).map(async t=>{const{name:n,type:r}=t,a=await new Promise((s,o)=>{const l=new FileReader;l.onload=u=>{var d;s((d=u.target)==null?void 0:d.result)},l.onerror=u=>o(u),l.readAsDataURL(t)});return{type:"file",mediaType:r,filename:n,url:a}}))}var PN=class{constructor({api:t="/api/chat",credentials:n,headers:r,body:a,fetch:s,prepareSendMessagesRequest:o,prepareReconnectToStreamRequest:l}){this.api=t,this.credentials=n,this.headers=r,this.body=a,this.fetch=s,this.prepareSendMessagesRequest=o,this.prepareReconnectToStreamRequest=l}async sendMessages({abortSignal:t,...n}){var r,a,s,o,l;const u=await di(this.body),d=await di(this.headers),p=await di(this.credentials),m={...Ma(d),...Ma(n.headers)},v=await((r=this.prepareSendMessagesRequest)==null?void 0:r.call(this,{api:this.api,id:n.chatId,messages:n.messages,body:{...u,...n.body},headers:m,credentials:p,requestMetadata:n.metadata,trigger:n.trigger,messageId:n.messageId})),y=(a=v?.api)!=null?a:this.api,g=v?.headers!==void 0?Ma(v.headers):m,_=v?.body!==void 0?v.body:{...u,...n.body,id:n.chatId,messages:n.messages,trigger:n.trigger,messageId:n.messageId},x=(s=v?.credentials)!=null?s:p,A=await((o=this.fetch)!=null?o:globalThis.fetch)(y,{method:"POST",headers:Pg({"Content-Type":"application/json",...g},`ai-sdk/${Hg}`,$g()),body:JSON.stringify(_),credentials:x,signal:t});if(!A.ok)throw new Error((l=await A.text())!=null?l:"Failed to fetch the chat response.");if(!A.body)throw new Error("The response body is empty.");return this.processResponseStream(A.body)}async reconnectToStream(t){var n,r,a,s,o;const l=await di(this.body),u=await di(this.headers),d=await di(this.credentials),p={...Ma(u),...Ma(t.headers)},m=await((n=this.prepareReconnectToStreamRequest)==null?void 0:n.call(this,{api:this.api,id:t.chatId,body:{...l,...t.body},headers:p,credentials:d,requestMetadata:t.metadata})),v=(r=m?.api)!=null?r:`${this.api}/${t.chatId}/stream`,y=m?.headers!==void 0?Ma(m.headers):p,g=(a=m?.credentials)!=null?a:d,x=await((s=this.fetch)!=null?s:globalThis.fetch)(v,{method:"GET",headers:Pg(y,`ai-sdk/${Hg}`,$g()),credentials:g});if(x.status===204)return null;if(!x.ok)throw new Error((o=await x.text())!=null?o:"Failed to fetch the chat response.");if(!x.body)throw new Error("The response body is empty.");return this.processResponseStream(x.body)}},DN=class extends PN{constructor(t={}){super(t)}processResponseStream(t){return wM({stream:t,schema:EN}).pipeThrough(new TransformStream({async transform(n,r){if(!n.success)throw n.error;r.enqueue(n.value)}}))}},LN=class{constructor({generateId:e=pM,id:t=e(),transport:n=new DN,messageMetadataSchema:r,dataPartSchemas:a,state:s,onError:o,onToolCall:l,onFinish:u,onData:d,sendAutomaticallyWhen:p}){this.activeResponse=void 0,this.jobExecutor=new FN,this.sendMessage=async(m,v)=>{var y,g,_,x;if(m==null){await this.makeRequest({trigger:"submit-message",messageId:(y=this.lastMessage)==null?void 0:y.id,...v});return}let k;if("text"in m||"files"in m?k={parts:[...Array.isArray(m.files)?m.files:await $N(m.files),..."text"in m&&m.text!=null?[{type:"text",text:m.text}]:[]]}:k=m,m.messageId!=null){const A=this.state.messages.findIndex(T=>T.id===m.messageId);if(A===-1)throw new Error(`message with id ${m.messageId} not found`);if(this.state.messages[A].role!=="user")throw new Error(`message with id ${m.messageId} is not a user message`);this.state.messages=this.state.messages.slice(0,A+1),this.state.replaceMessage(A,{...k,id:m.messageId,role:(g=k.role)!=null?g:"user",metadata:m.metadata})}else this.state.pushMessage({...k,id:(_=k.id)!=null?_:this.generateId(),role:(x=k.role)!=null?x:"user",metadata:m.metadata});await this.makeRequest({trigger:"submit-message",messageId:m.messageId,...v})},this.regenerate=async({messageId:m,...v}={})=>{const y=m==null?this.state.messages.length-1:this.state.messages.findIndex(g=>g.id===m);if(y===-1)throw new Error(`message ${m} not found`);this.state.messages=this.state.messages.slice(0,this.messages[y].role==="assistant"?y:y+1),await this.makeRequest({trigger:"regenerate-message",messageId:m,...v})},this.resumeStream=async(m={})=>{await this.makeRequest({trigger:"resume-stream",...m})},this.clearError=()=>{this.status==="error"&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolOutput=async({state:m="output-available",tool:v,toolCallId:y,output:g,errorText:_})=>this.jobExecutor.run(async()=>{var x,k;const A=this.state.messages,T=A[A.length-1];this.state.replaceMessage(A.length-1,{...T,parts:T.parts.map(j=>Wg(j)&&j.toolCallId===y?{...j,state:m,output:g,errorText:_}:j)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(j=>Wg(j)&&j.toolCallId===y?{...j,state:m,output:g,errorText:_}:j)),this.status!=="streaming"&&this.status!=="submitted"&&((x=this.sendAutomaticallyWhen)!=null&&x.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:(k=this.lastMessage)==null?void 0:k.id})}),this.addToolResult=this.addToolOutput,this.stop=async()=>{var m;this.status!=="streaming"&&this.status!=="submitted"||(m=this.activeResponse)!=null&&m.abortController&&this.activeResponse.abortController.abort()},this.id=t,this.transport=n,this.generateId=e,this.messageMetadataSchema=r,this.dataPartSchemas=a,this.state=s,this.onError=o,this.onToolCall=l,this.onFinish=u,this.onData=d,this.sendAutomaticallyWhen=p}get status(){return this.state.status}setStatus({status:e,error:t}){this.status!==e&&(this.state.status=e,this.state.error=t)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(e){this.state.messages=e}async makeRequest({trigger:e,metadata:t,headers:n,body:r,messageId:a}){var s,o,l,u;this.setStatus({status:"submitted",error:void 0});const d=this.lastMessage;let p=!1,m=!1,v=!1;try{const y={state:IN({lastMessage:this.state.snapshot(d),messageId:this.generateId()}),abortController:new AbortController};y.abortController.signal.addEventListener("abort",()=>{p=!0}),this.activeResponse=y;let g;if(e==="resume-stream"){const x=await this.transport.reconnectToStream({chatId:this.id,metadata:t,headers:n,body:r});if(x==null){this.setStatus({status:"ready"});return}g=x}else g=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:y.abortController.signal,metadata:t,headers:n,body:r,trigger:e,messageId:a});const _=x=>this.jobExecutor.run(()=>x({state:y.state,write:()=>{var k;this.setStatus({status:"streaming"}),y.state.message.id===((k=this.lastMessage)==null?void 0:k.id)?this.state.replaceMessage(this.state.messages.length-1,y.state.message):this.state.pushMessage(y.state.message)}}));await ON({stream:RN({stream:g,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob:_,onError:x=>{throw x}}),onError:x=>{throw x}}),this.setStatus({status:"ready"})}catch(y){if(p||y.name==="AbortError")return p=!0,this.setStatus({status:"ready"}),null;v=!0,y instanceof TypeError&&(y.message.toLowerCase().includes("fetch")||y.message.toLowerCase().includes("network"))&&(m=!0),this.onError&&y instanceof Error&&this.onError(y),this.setStatus({status:"error",error:y})}finally{try{(o=this.onFinish)==null||o.call(this,{message:this.activeResponse.state.message,messages:this.state.messages,isAbort:p,isDisconnect:m,isError:v,finishReason:(s=this.activeResponse)==null?void 0:s.state.finishReason})}catch(y){console.error(y)}this.activeResponse=void 0}(l=this.sendAutomaticallyWhen)!=null&&l.call(this,{messages:this.state.messages})&&!v&&await this.makeRequest({trigger:"submit-message",messageId:(u=this.lastMessage)==null?void 0:u.id,metadata:t,headers:n,body:r})}};function BN(e,t){if(typeof e!="function")throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof e}\`.`);let n,r=0;return function(...s){clearTimeout(n);const o=Date.now(),l=o-r,u=t-l;u<=0?(r=o,e.apply(this,s)):n=setTimeout(()=>{r=Date.now(),e.apply(this,s)},u)}}var UN=BN;const ZN=Wa(UN);var hb=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Dt=(e,t,n)=>(hb(e,t,"read from private field"),n?n.call(e):t.get(e)),jr=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ua=(e,t,n,r)=>(hb(e,t,"write to private field"),t.set(e,n),n);function HN(e,t){return t!=null?ZN(e,t):e}var lr,Vs,Gs,uo,po,fo,hi,gd,vd,WN=class{constructor(e=[]){jr(this,lr,void 0),jr(this,Vs,"ready"),jr(this,Gs,void 0),jr(this,uo,new Set),jr(this,po,new Set),jr(this,fo,new Set),this.pushMessage=t=>{ua(this,lr,Dt(this,lr).concat(t)),Dt(this,hi).call(this)},this.popMessage=()=>{ua(this,lr,Dt(this,lr).slice(0,-1)),Dt(this,hi).call(this)},this.replaceMessage=(t,n)=>{ua(this,lr,[...Dt(this,lr).slice(0,t),this.snapshot(n),...Dt(this,lr).slice(t+1)]),Dt(this,hi).call(this)},this.snapshot=t=>structuredClone(t),this["~registerMessagesCallback"]=(t,n)=>{const r=n?HN(t,n):t;return Dt(this,uo).add(r),()=>{Dt(this,uo).delete(r)}},this["~registerStatusCallback"]=t=>(Dt(this,po).add(t),()=>{Dt(this,po).delete(t)}),this["~registerErrorCallback"]=t=>(Dt(this,fo).add(t),()=>{Dt(this,fo).delete(t)}),jr(this,hi,()=>{Dt(this,uo).forEach(t=>t())}),jr(this,gd,()=>{Dt(this,po).forEach(t=>t())}),jr(this,vd,()=>{Dt(this,fo).forEach(t=>t())}),ua(this,lr,e)}get status(){return Dt(this,Vs)}set status(e){ua(this,Vs,e),Dt(this,gd).call(this)}get error(){return Dt(this,Gs)}set error(e){ua(this,Gs,e),Dt(this,vd).call(this)}get messages(){return Dt(this,lr)}set messages(e){ua(this,lr,[...e]),Dt(this,hi).call(this)}};lr=new WeakMap;Vs=new WeakMap;Gs=new WeakMap;uo=new WeakMap;po=new WeakMap;fo=new WeakMap;hi=new WeakMap;gd=new WeakMap;vd=new WeakMap;var mi,Vg=class extends LN{constructor({messages:t,...n}){const r=new WN(t);super({...n,state:r}),jr(this,mi,void 0),this["~registerMessagesCallback"]=(a,s)=>Dt(this,mi)["~registerMessagesCallback"](a,s),this["~registerStatusCallback"]=a=>Dt(this,mi)["~registerStatusCallback"](a),this["~registerErrorCallback"]=a=>Dt(this,mi)["~registerErrorCallback"](a),ua(this,mi,r)}};mi=new WeakMap;function qN({experimental_throttle:e,resume:t=!1,...n}={}){const r=U.useRef("chat"in n?n.chat:new Vg(n));("chat"in n&&n.chat!==r.current||"id"in n&&r.current.id!==n.id)&&(r.current="chat"in n?n.chat:new Vg(n));const s=U.useCallback(p=>r.current["~registerMessagesCallback"](p,e),[e,r.current.id]),o=U.useSyncExternalStore(s,()=>r.current.messages,()=>r.current.messages),l=U.useSyncExternalStore(r.current["~registerStatusCallback"],()=>r.current.status,()=>r.current.status),u=U.useSyncExternalStore(r.current["~registerErrorCallback"],()=>r.current.error,()=>r.current.error),d=U.useCallback(p=>{typeof p=="function"&&(p=p(r.current.messages)),r.current.messages=p},[r]);return U.useEffect(()=>{t&&r.current.resumeStream()},[t,r]),{id:r.current.id,messages:o,setMessages:d,sendMessage:r.current.sendMessage,regenerate:r.current.regenerate,clearError:r.current.clearError,stop:r.current.stop,error:u,resumeStream:r.current.resumeStream,status:l,addToolResult:r.current.addToolOutput,addToolOutput:r.current.addToolOutput}}var mb="vercel.ai.error",VN=Symbol.for(mb),gb,GN=class vb extends Error{constructor({name:t,message:n,cause:r}){super(n),this[gb]=!0,this.name=t,this.cause=r}static isInstance(t){return vb.hasMarker(t,mb)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};gb=VN;var ya=GN;function yb(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var bb="AI_InvalidArgumentError",xb=`vercel.ai.error.${bb}`,JN=Symbol.for(xb),_b,KN=class extends ya{constructor({message:e,cause:t,argument:n}){super({name:bb,message:e,cause:t}),this[_b]=!0,this.argument=n}static isInstance(e){return ya.hasMarker(e,xb)}};_b=JN;var wb="AI_JSONParseError",kb=`vercel.ai.error.${wb}`,YN=Symbol.for(kb),Cb,Gg=class extends ya{constructor({text:e,cause:t}){super({name:wb,message:`JSON parsing failed: Text: ${e}.
Error message: ${yb(t)}`,cause:t}),this[Cb]=!0,this.text=e}static isInstance(e){return ya.hasMarker(e,kb)}};Cb=YN;var Sb="AI_TypeValidationError",Eb=`vercel.ai.error.${Sb}`,XN=Symbol.for(Eb),Ab,QN=class yd extends ya{constructor({value:t,cause:n}){super({name:Sb,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${yb(n)}`,cause:n}),this[Ab]=!0,this.value=t}static isInstance(t){return ya.hasMarker(t,Eb)}static wrap({value:t,cause:n}){return yd.isInstance(n)&&n.value===t?n:new yd({value:t,cause:n})}};Ab=XN;var bd=QN;function Jg(e=globalThis){var t,n,r;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(r=(n=e.process)==null?void 0:n.versions)!=null&&r.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function e$(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>n!=null))}function Kg(e,...t){const n=e$(e??{}),r=new Headers(n),a=r.get("user-agent")||"";return r.set("user-agent",[a,...t].filter(Boolean).join(" ")),Object.fromEntries(r)}var $o=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const a=()=>{const s=n.length,o=new Array(t);for(let l=0;l<t;l++)o[l]=n[Math.random()*s|0];return o.join("")};if(e==null)return a;if(n.includes(r))throw new KN({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return()=>`${e}${r}${a()}`};$o();var t$=/"__proto__"\s*:/,n$=/"constructor"\s*:/;function r$(e){const t=JSON.parse(e);return t===null||typeof t!="object"||t$.test(e)===!1&&n$.test(e)===!1?t:a$(t)}function a$(e){let t=[e];for(;t.length;){const n=t;t=[];for(const r of n){if(Object.prototype.hasOwnProperty.call(r,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const a in r){const s=r[a];s&&typeof s=="object"&&t.push(s)}}}return e}function i$(e){const{stackTraceLimit:t}=Error;Error.stackTraceLimit=0;try{return r$(e)}finally{Error.stackTraceLimit=t}}var hl=Symbol.for("vercel.ai.validator");function o$(e){return{[hl]:!0,validate:e}}function s$(e){return typeof e=="object"&&e!==null&&hl in e&&e[hl]===!0&&"validate"in e}function l$(e){return s$(e)?e:c$(e)}function c$(e){return o$(async t=>{const n=await e["~standard"].validate(t);return n.issues==null?{success:!0,value:n.value}:{success:!1,error:new bd({value:t,cause:n.issues})}})}async function Tb({value:e,schema:t}){const n=l$(t);try{if(n.validate==null)return{success:!0,value:e,rawValue:e};const r=await n.validate(e);return r.success?{success:!0,value:r.value,rawValue:e}:{success:!1,error:bd.wrap({value:e,cause:r.error}),rawValue:e}}catch(r){return{success:!1,error:bd.wrap({value:e,cause:r}),rawValue:e}}}async function ml({text:e,schema:t}){try{const n=i$(e);return t==null?{success:!0,value:n,rawValue:n}:await Tb({value:n,schema:t})}catch(n){return{success:!1,error:Gg.isInstance(n)?n:new Gg({text:e,cause:n}),rawValue:void 0}}}function u$({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new Jv).pipeThrough(new TransformStream({async transform({data:n},r){n!=="[DONE]"&&r.enqueue(await ml({text:n,schema:t}))}}))}async function pi(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var d$=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},p$=Symbol("Let zodToJsonSchema decide on which parser to use"),Yg={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},f$=e=>typeof e=="string"?{...Yg,name:e}:{...Yg,...e};function Yn(){return{}}function h$(e,t){var n,r,a;const s={type:"array"};return(n=e.type)!=null&&n._def&&((a=(r=e.type)==null?void 0:r._def)==null?void 0:a.typeName)!==je.ZodAny&&(s.items=It(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(s.minItems=e.minLength.value),e.maxLength&&(s.maxItems=e.maxLength.value),e.exactLength&&(s.minItems=e.exactLength.value,s.maxItems=e.exactLength.value),s}function m$(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function g$(){return{type:"boolean"}}function jb(e,t){return It(e.type._def,t)}var v$=(e,t)=>It(e.innerType._def,t);function Ib(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((a,s)=>Ib(e,t,a))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return y$(e)}}var y$=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value;break}return t};function b$(e,t){return{...It(e.innerType._def,t),default:e.defaultValue()}}function x$(e,t){return t.effectStrategy==="input"?It(e.schema._def,t):Yn()}function _$(e){return{type:"string",enum:Array.from(e.values)}}var w$=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function k$(e,t){const n=[It(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),It(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(a=>!!a),r=[];return n.forEach(a=>{if(w$(a))r.push(...a.allOf);else{let s=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:o,...l}=a;s=l}r.push(s)}}),r.length?{allOf:r}:void 0}function C$(e){const t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}var Tu=void 0,wr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Tu===void 0&&(Tu=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Tu),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Rb(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":kr(n,"email",r.message,t);break;case"format:idn-email":kr(n,"idn-email",r.message,t);break;case"pattern:zod":Sn(n,wr.email,r.message,t);break}break;case"url":kr(n,"uri",r.message,t);break;case"uuid":kr(n,"uuid",r.message,t);break;case"regex":Sn(n,r.regex,r.message,t);break;case"cuid":Sn(n,wr.cuid,r.message,t);break;case"cuid2":Sn(n,wr.cuid2,r.message,t);break;case"startsWith":Sn(n,RegExp(`^${ju(r.value,t)}`),r.message,t);break;case"endsWith":Sn(n,RegExp(`${ju(r.value,t)}$`),r.message,t);break;case"datetime":kr(n,"date-time",r.message,t);break;case"date":kr(n,"date",r.message,t);break;case"time":kr(n,"time",r.message,t);break;case"duration":kr(n,"duration",r.message,t);break;case"length":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"includes":{Sn(n,RegExp(ju(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&kr(n,"ipv4",r.message,t),r.version!=="v4"&&kr(n,"ipv6",r.message,t);break}case"base64url":Sn(n,wr.base64url,r.message,t);break;case"jwt":Sn(n,wr.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&Sn(n,wr.ipv4Cidr,r.message,t),r.version!=="v4"&&Sn(n,wr.ipv6Cidr,r.message,t);break}case"emoji":Sn(n,wr.emoji(),r.message,t);break;case"ulid":{Sn(n,wr.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{kr(n,"binary",r.message,t);break}case"contentEncoding:base64":{n.contentEncoding="base64";break}case"pattern:zod":{Sn(n,wr.base64,r.message,t);break}}break}case"nanoid":Sn(n,wr.nanoid,r.message,t)}return n}function ju(e,t){return t.patternStrategy==="escape"?E$(e):e}var S$=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function E$(e){let t="";for(let n=0;n<e.length;n++)S$.has(e[n])||(t+="\\"),t+=e[n];return t}function kr(e,t,n,r){var a;e.format||(a=e.anyOf)!=null&&a.some(s=>s.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):e.format=t}function Sn(e,t,n,r){var a;e.pattern||(a=e.allOf)!=null&&a.some(s=>s.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:Xg(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=Xg(t,r)}function Xg(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},a=r.i?e.source.toLowerCase():e.source;let s="",o=!1,l=!1,u=!1;for(let d=0;d<a.length;d++){if(o){s+=a[d],o=!1;continue}if(r.i){if(l){if(a[d].match(/[a-z]/)){u?(s+=a[d],s+=`${a[d-2]}-${a[d]}`.toUpperCase(),u=!1):a[d+1]==="-"&&((n=a[d+2])!=null&&n.match(/[a-z]/))?(s+=a[d],u=!0):s+=`${a[d]}${a[d].toUpperCase()}`;continue}}else if(a[d].match(/[a-z]/)){s+=`[${a[d]}${a[d].toUpperCase()}]`;continue}}if(r.m){if(a[d]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(a[d]==="$"){s+=`($|(?=[\r
]))`;continue}}if(r.s&&a[d]==="."){s+=l?`${a[d]}\r
`:`[${a[d]}\r
]`;continue}s+=a[d],a[d]==="\\"?o=!0:l&&a[d]==="]"?l=!1:!l&&a[d]==="["&&(l=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function Ob(e,t){var n,r,a,s,o,l;const u={type:"object",additionalProperties:(n=It(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?n:t.allowedAdditionalProperties};if(((r=e.keyType)==null?void 0:r._def.typeName)===je.ZodString&&((a=e.keyType._def.checks)!=null&&a.length)){const{type:d,...p}=Rb(e.keyType._def,t);return{...u,propertyNames:p}}else{if(((s=e.keyType)==null?void 0:s._def.typeName)===je.ZodEnum)return{...u,propertyNames:{enum:e.keyType._def.values}};if(((o=e.keyType)==null?void 0:o._def.typeName)===je.ZodBranded&&e.keyType._def.type._def.typeName===je.ZodString&&((l=e.keyType._def.type._def.checks)!=null&&l.length)){const{type:d,...p}=jb(e.keyType._def,t);return{...u,propertyNames:p}}}return u}function A$(e,t){if(t.mapStrategy==="record")return Ob(e,t);const n=It(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Yn(),r=It(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Yn();return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function T$(e){const t=e.values,r=Object.keys(e.values).filter(s=>typeof t[t[s]]!="number").map(s=>t[s]),a=Array.from(new Set(r.map(s=>typeof s)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:r}}function j$(){return{not:Yn()}}function I$(){return{type:"null"}}var xd={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function R$(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in xd&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((a,s)=>{const o=xd[s._def.typeName];return o&&!a.includes(o)?[...a,o]:a},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((a,s)=>{const o=typeof s._def.value;switch(o){case"string":case"number":case"boolean":return[...a,o];case"bigint":return[...a,"integer"];case"object":if(s._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(r.length===n.length){const a=r.filter((s,o,l)=>l.indexOf(s)===o);return{type:a.length>1?a:a[0],enum:n.reduce((s,o)=>s.includes(o._def.value)?s:[...s,o._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,a)=>[...r,...a._def.values.filter(s=>!r.includes(s))],[])};return O$(e,t)}var O$=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,a)=>It(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${a}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function F$(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[xd[e.innerType._def.typeName],"null"]};const n=It(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function z$(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function M$(e,t){const n={type:"object",properties:{}},r=[],a=e.shape();for(const o in a){let l=a[o];if(l===void 0||l._def===void 0)continue;const u=$$(l),d=It(l._def,{...t,currentPath:[...t.currentPath,"properties",o],propertyPath:[...t.currentPath,"properties",o]});d!==void 0&&(n.properties[o]=d,u||r.push(o))}r.length&&(n.required=r);const s=N$(e,t);return s!==void 0&&(n.additionalProperties=s),n}function N$(e,t){if(e.catchall._def.typeName!=="ZodNever")return It(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function $$(e){try{return e.isOptional()}catch{return!0}}var P$=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return It(e.innerType._def,t);const r=It(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:Yn()},r]}:Yn()},D$=(e,t)=>{if(t.pipeStrategy==="input")return It(e.in._def,t);if(t.pipeStrategy==="output")return It(e.out._def,t);const n=It(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=It(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(a=>a!==void 0)}};function L$(e,t){return It(e.type._def,t)}function B$(e,t){const r={type:"array",uniqueItems:!0,items:It(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(r.minItems=e.minSize.value),e.maxSize&&(r.maxItems=e.maxSize.value),r}function U$(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>It(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:It(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>It(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function Z$(){return{not:Yn()}}function H$(){return Yn()}var W$=(e,t)=>It(e.innerType._def,t),q$=(e,t,n)=>{switch(t){case je.ZodString:return Rb(e,n);case je.ZodNumber:return z$(e);case je.ZodObject:return M$(e,n);case je.ZodBigInt:return m$(e);case je.ZodBoolean:return g$();case je.ZodDate:return Ib(e,n);case je.ZodUndefined:return Z$();case je.ZodNull:return I$();case je.ZodArray:return h$(e,n);case je.ZodUnion:case je.ZodDiscriminatedUnion:return R$(e,n);case je.ZodIntersection:return k$(e,n);case je.ZodTuple:return U$(e,n);case je.ZodRecord:return Ob(e,n);case je.ZodLiteral:return C$(e);case je.ZodEnum:return _$(e);case je.ZodNativeEnum:return T$(e);case je.ZodNullable:return F$(e,n);case je.ZodOptional:return P$(e,n);case je.ZodMap:return A$(e,n);case je.ZodSet:return B$(e,n);case je.ZodLazy:return()=>e.getter()._def;case je.ZodPromise:return L$(e,n);case je.ZodNaN:case je.ZodNever:return j$();case je.ZodEffects:return x$(e,n);case je.ZodAny:return Yn();case je.ZodUnknown:return H$();case je.ZodDefault:return b$(e,n);case je.ZodBranded:return jb(e,n);case je.ZodReadonly:return W$(e,n);case je.ZodCatch:return v$(e,n);case je.ZodPipeline:return D$(e,n);case je.ZodFunction:case je.ZodVoid:case je.ZodSymbol:return;default:return(r=>{})()}};function It(e,t,n=!1){var r;const a=t.seen.get(e);if(t.override){const u=(r=t.override)==null?void 0:r.call(t,e,t,a,n);if(u!==p$)return u}if(a&&!n){const u=V$(a,t);if(u!==void 0)return u}const s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);const o=q$(e,e.typeName,t),l=typeof o=="function"?It(o(),t):o;if(l&&G$(e,t,l),t.postProcess){const u=t.postProcess(l,e,t);return s.jsonSchema=l,u}return s.jsonSchema=l,l}var V$=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:d$(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Yn()):t.$refStrategy==="seen"?Yn():void 0}},G$=(e,t,n)=>(e.description&&(n.description=e.description),n),J$=e=>{const t=f$(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,a])=>[a._def,{def:a._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}},K$=(e,t)=>{var n;const r=J$(t);let a=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((d,[p,m])=>{var v;return{...d,[p]:(v=It(m._def,{...r,currentPath:[...r.basePath,r.definitionPath,p]},!0))!=null?v:Yn()}},{}):void 0;const s=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,o=(n=It(e._def,s===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,s]},!1))!=null?n:Yn(),l=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;l!==void 0&&(o.title=l);const u=s===void 0?a?{...o,[r.definitionPath]:a}:o:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:{...a,[s]:o}};return u.$schema="http://json-schema.org/draft-07/schema#",u},Y$=K$;function X$(e,t){var n;const r=(n=void 0)!=null?n:!1;return bp(Y$(e,{$refStrategy:r?"root":"none"}),{validate:async a=>{const s=await e.safeParseAsync(a);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}}})}function Q$(e,t){var n;const r=(n=void 0)!=null?n:!1,a=Zy(e,{target:"draft-7",io:"output",reused:r?"ref":"inline"});return bp(a,{validate:async s=>{const o=await hp(e,s);return o.success?{success:!0,value:o.data}:{success:!1,error:o.error}}})}function eP(e){return"_zod"in e}function tP(e,t){return eP(e)?Q$(e):X$(e)}var _d=Symbol.for("vercel.ai.schema");function bp(e,{validate:t}={}){return{[_d]:!0,_type:void 0,[hl]:!0,jsonSchema:e,validate:t}}function nP(e){return typeof e=="object"&&e!==null&&_d in e&&e[_d]===!0&&"jsonSchema"in e&&"validate"in e}function rP(e){return e==null?bp({properties:{},additionalProperties:!1}):nP(e)?e:tP(e)}var aP=Object.defineProperty,iP=(e,t)=>{for(var n in t)aP(e,n,{get:t[n],enumerable:!0})},Fb="AI_NoObjectGeneratedError",zb=`vercel.ai.error.${Fb}`,oP=Symbol.for(zb),Mb,Qg=class extends ya{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:a,finishReason:s}){super({name:Fb,message:e,cause:t}),this[Mb]=!0,this.text=n,this.response=r,this.usage=a,this.finishReason=s}static isInstance(e){return ya.hasMarker(e,zb)}};Mb=oP;var e0="5.0.52",Nb=Et([oe(),va(Uint8Array),va(ArrayBuffer),Nl(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]),To=Qy(()=>Et([Gy(),oe(),Ti(),st(),ji(oe(),To),Ln(To)])),wt=ji(oe(),ji(oe(),To)),$b=$e({type:xe("text"),text:oe(),providerOptions:wt.optional()}),sP=$e({type:xe("image"),image:Et([Nb,va(URL)]),mediaType:oe().optional(),providerOptions:wt.optional()}),Pb=$e({type:xe("file"),data:Et([Nb,va(URL)]),filename:oe().optional(),mediaType:oe(),providerOptions:wt.optional()}),lP=$e({type:xe("reasoning"),text:oe(),providerOptions:wt.optional()}),cP=$e({type:xe("tool-call"),toolCallId:oe(),toolName:oe(),input:_t(),providerOptions:wt.optional(),providerExecuted:st().optional()}),uP=Ky("type",[$e({type:xe("text"),value:oe()}),$e({type:xe("json"),value:To}),$e({type:xe("error-text"),value:oe()}),$e({type:xe("error-json"),value:To}),$e({type:xe("content"),value:Ln(Et([$e({type:xe("text"),text:oe()}),$e({type:xe("media"),data:oe(),mediaType:oe()})]))})]),Db=$e({type:xe("tool-result"),toolCallId:oe(),toolName:oe(),output:uP,providerOptions:wt.optional()}),dP=$e({role:xe("system"),content:oe(),providerOptions:wt.optional()}),pP=$e({role:xe("user"),content:Et([oe(),Ln(Et([$b,sP,Pb]))]),providerOptions:wt.optional()}),fP=$e({role:xe("assistant"),content:Et([oe(),Ln(Et([$b,Pb,lP,cP,Db]))]),providerOptions:wt.optional()}),hP=$e({role:xe("tool"),content:Ln(Db),providerOptions:wt.optional()});Et([dP,pP,fP,hP]);$o({prefix:"aitxt",size:24});(class extends TransformStream{constructor(){super({transform(e,t){t.enqueue(`data: ${JSON.stringify(e)}

`)},flush(e){e.enqueue(`data: [DONE]

`)}})}});var mP=Et([Qe({type:xe("text-start"),id:oe(),providerMetadata:wt.optional()}),Qe({type:xe("text-delta"),id:oe(),delta:oe(),providerMetadata:wt.optional()}),Qe({type:xe("text-end"),id:oe(),providerMetadata:wt.optional()}),Qe({type:xe("error"),errorText:oe()}),Qe({type:xe("tool-input-start"),toolCallId:oe(),toolName:oe(),providerExecuted:st().optional(),dynamic:st().optional()}),Qe({type:xe("tool-input-delta"),toolCallId:oe(),inputTextDelta:oe()}),Qe({type:xe("tool-input-available"),toolCallId:oe(),toolName:oe(),input:_t(),providerExecuted:st().optional(),providerMetadata:wt.optional(),dynamic:st().optional()}),Qe({type:xe("tool-input-error"),toolCallId:oe(),toolName:oe(),input:_t(),providerExecuted:st().optional(),providerMetadata:wt.optional(),dynamic:st().optional(),errorText:oe()}),Qe({type:xe("tool-output-available"),toolCallId:oe(),output:_t(),providerExecuted:st().optional(),dynamic:st().optional(),preliminary:st().optional()}),Qe({type:xe("tool-output-error"),toolCallId:oe(),errorText:oe(),providerExecuted:st().optional(),dynamic:st().optional()}),Qe({type:xe("reasoning-start"),id:oe(),providerMetadata:wt.optional()}),Qe({type:xe("reasoning-delta"),id:oe(),delta:oe(),providerMetadata:wt.optional()}),Qe({type:xe("reasoning-end"),id:oe(),providerMetadata:wt.optional()}),Qe({type:xe("source-url"),sourceId:oe(),url:oe(),title:oe().optional(),providerMetadata:wt.optional()}),Qe({type:xe("source-document"),sourceId:oe(),mediaType:oe(),title:oe(),filename:oe().optional(),providerMetadata:wt.optional()}),Qe({type:xe("file"),url:oe(),mediaType:oe(),providerMetadata:wt.optional()}),Qe({type:Nl(e=>typeof e=="string"&&e.startsWith("data-"),{message:'Type must start with "data-"'}),id:oe().optional(),data:_t(),transient:st().optional()}),Qe({type:xe("start-step")}),Qe({type:xe("finish-step")}),Qe({type:xe("start"),messageId:oe().optional(),messageMetadata:_t().optional()}),Qe({type:xe("finish"),messageMetadata:_t().optional()}),Qe({type:xe("abort")}),Qe({type:xe("message-metadata"),messageMetadata:_t()})]);function gP(e){const t=["ROOT"];let n=-1,r=null;function a(u,d,p){switch(u){case'"':{n=d,t.pop(),t.push(p),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{n=d,r=d,t.pop(),t.push(p),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(p),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=d,t.pop(),t.push(p),t.push("INSIDE_NUMBER");break}case"{":{n=d,t.pop(),t.push(p),t.push("INSIDE_OBJECT_START");break}case"[":{n=d,t.pop(),t.push(p),t.push("INSIDE_ARRAY_START");break}}}function s(u,d){switch(u){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=d,t.pop();break}}}function o(u,d){switch(u){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=d,t.pop();break}}}for(let u=0;u<e.length;u++){const d=e[u];switch(t[t.length-1]){case"ROOT":a(d,u,"FINISH");break;case"INSIDE_OBJECT_START":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{n=u,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(d){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{a(d,u,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{s(d,u);break}case"INSIDE_STRING":{switch(d){case'"':{t.pop(),n=u;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=u}break}case"INSIDE_ARRAY_START":{switch(d){case"]":{n=u,t.pop();break}default:{n=u,a(d,u,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(d){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=u,t.pop();break}default:{n=u;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{a(d,u,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),n=u;break}case"INSIDE_NUMBER":{switch(d){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=u;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(d,u),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&s(d,u);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&s(d,u);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(d,u);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const m=e.substring(r,u+1);!"false".startsWith(m)&&!"true".startsWith(m)&&!"null".startsWith(m)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?s(d,u):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(d,u)):n=u;break}}}let l=e.slice(0,n+1);for(let u=t.length-1;u>=0;u--)switch(t[u]){case"INSIDE_STRING":{l+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{l+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{l+="]";break}case"INSIDE_LITERAL":{const p=e.substring(r,e.length);"true".startsWith(p)?l+="true".slice(p.length):"false".startsWith(p)?l+="false".slice(p.length):"null".startsWith(p)&&(l+="null".slice(p.length))}}return l}async function vP(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=await ml({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await ml({text:gP(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}$o({prefix:"aitxt",size:24});$o({prefix:"aiobj",size:24});$o({prefix:"aiobj",size:24});var yP={};iP(yP,{object:()=>xP,text:()=>bP});var bP=()=>({type:"text",responseFormat:{type:"text"},async parsePartial({text:e}){return{partial:e}},async parseOutput({text:e}){return e}}),xP=({schema:e})=>{const t=rP(e);return{type:"object",responseFormat:{type:"json",schema:t.jsonSchema},async parsePartial({text:n}){const r=await vP(n);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:r.value};default:{const a=r.state;throw new Error(`Unsupported parse state: ${a}`)}}},async parseOutput({text:n},r){const a=await ml({text:n});if(!a.success)throw new Qg({message:"No object generated: could not parse the response.",cause:a.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});const s=await Tb({value:a.value,schema:t});if(!s.success)throw new Qg({message:"No object generated: response did not match schema.",cause:s.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});return s.value}}},_P=bi({name:oe(),version:oe()}),xp=bi({_meta:ln($e({}).loose())}),jo=xp,wP=$e({method:oe(),params:ln(xp)}),kP=bi({experimental:ln($e({}).loose()),logging:ln($e({}).loose()),prompts:ln(bi({listChanged:ln(st())})),resources:ln(bi({subscribe:ln(st()),listChanged:ln(st())})),tools:ln(bi({listChanged:ln(st())}))});jo.extend({protocolVersion:oe(),capabilities:kP,serverInfo:_P,instructions:ln(oe())});var CP=jo.extend({nextCursor:ln(oe())}),SP=$e({name:oe(),description:ln(oe()),inputSchema:$e({type:xe("object"),properties:ln($e({}).loose())}).loose()}).loose();CP.extend({tools:Ln(SP)});var EP=$e({type:xe("text"),text:oe()}).loose(),AP=$e({type:xe("image"),data:qy(),mimeType:oe()}).loose(),Lb=$e({uri:oe(),mimeType:ln(oe())}).loose(),TP=Lb.extend({text:oe()}),jP=Lb.extend({blob:qy()}),IP=$e({type:xe("resource"),resource:Et([TP,jP])}).loose();jo.extend({content:Ln(Et([EP,AP,IP])),isError:st().default(!1).optional()}).or(jo.extend({toolResult:_t()}));var $l="2.0",RP=$e({jsonrpc:xe($l),id:Et([oe(),Ti().int()])}).merge(wP).strict(),OP=$e({jsonrpc:xe($l),id:Et([oe(),Ti().int()]),result:jo}).strict(),FP=$e({jsonrpc:xe($l),id:Et([oe(),Ti().int()]),error:$e({code:Ti().int(),message:oe(),data:ln(_t())})}).strict(),zP=$e({jsonrpc:xe($l)}).merge($e({method:oe(),params:ln(xp)})).strict();Et([RP,zP,OP,FP]);var MP=class{constructor({api:e="/api/chat",credentials:t,headers:n,body:r,fetch:a,prepareSendMessagesRequest:s,prepareReconnectToStreamRequest:o}){this.api=e,this.credentials=t,this.headers=n,this.body=r,this.fetch=a,this.prepareSendMessagesRequest=s,this.prepareReconnectToStreamRequest=o}async sendMessages({abortSignal:e,...t}){var n,r,a,s,o;const l=await pi(this.body),u=await pi(this.headers),d=await pi(this.credentials),p=await((n=this.prepareSendMessagesRequest)==null?void 0:n.call(this,{api:this.api,id:t.chatId,messages:t.messages,body:{...l,...t.body},headers:{...u,...t.headers},credentials:d,requestMetadata:t.metadata,trigger:t.trigger,messageId:t.messageId})),m=(r=p?.api)!=null?r:this.api,v=p?.headers!==void 0?p.headers:{...u,...t.headers},y=p?.body!==void 0?p.body:{...l,...t.body,id:t.chatId,messages:t.messages,trigger:t.trigger,messageId:t.messageId},g=(a=p?.credentials)!=null?a:d,x=await((s=this.fetch)!=null?s:globalThis.fetch)(m,{method:"POST",headers:Kg({"Content-Type":"application/json",...v},`ai-sdk/${e0}`,Jg()),body:JSON.stringify(y),credentials:g,signal:e});if(!x.ok)throw new Error((o=await x.text())!=null?o:"Failed to fetch the chat response.");if(!x.body)throw new Error("The response body is empty.");return this.processResponseStream(x.body)}async reconnectToStream(e){var t,n,r,a,s;const o=await pi(this.body),l=await pi(this.headers),u=await pi(this.credentials),d=await((t=this.prepareReconnectToStreamRequest)==null?void 0:t.call(this,{api:this.api,id:e.chatId,body:{...o,...e.body},headers:{...l,...e.headers},credentials:u,requestMetadata:e.metadata})),p=(n=d?.api)!=null?n:`${this.api}/${e.chatId}/stream`,m=d?.headers!==void 0?d.headers:{...l,...e.headers},v=(r=d?.credentials)!=null?r:u,g=await((a=this.fetch)!=null?a:globalThis.fetch)(p,{method:"GET",headers:Kg(m,`ai-sdk/${e0}`,Jg()),credentials:v});if(g.status===204)return null;if(!g.ok)throw new Error((s=await g.text())!=null?s:"Failed to fetch the chat response.");if(!g.body)throw new Error("The response body is empty.");return this.processResponseStream(g.body)}},NP=class extends MP{constructor(e={}){super(e)}processResponseStream(e){return u$({stream:e,schema:mP}).pipeThrough(new TransformStream({async transform(t,n){if(!t.success)throw t.error;n.enqueue(t.value)}}))}},$P=$e({type:xe("text"),text:oe(),state:Mo(["streaming","done"]).optional(),providerMetadata:wt.optional()}),PP=$e({type:xe("reasoning"),text:oe(),state:Mo(["streaming","done"]).optional(),providerMetadata:wt.optional()}),DP=$e({type:xe("source-url"),sourceId:oe(),url:oe(),title:oe().optional(),providerMetadata:wt.optional()}),LP=$e({type:xe("source-document"),sourceId:oe(),mediaType:oe(),title:oe(),filename:oe().optional(),providerMetadata:wt.optional()}),BP=$e({type:xe("file"),mediaType:oe(),filename:oe().optional(),url:oe(),providerMetadata:wt.optional()}),UP=$e({type:xe("step-start")}),ZP=$e({type:oe().startsWith("data-"),id:oe().optional(),data:_t()}),HP=[$e({type:xe("dynamic-tool"),toolName:oe(),toolCallId:oe(),state:xe("input-streaming"),input:_t().optional(),output:Nn().optional(),errorText:Nn().optional()}),$e({type:xe("dynamic-tool"),toolName:oe(),toolCallId:oe(),state:xe("input-available"),input:_t(),output:Nn().optional(),errorText:Nn().optional(),callProviderMetadata:wt.optional()}),$e({type:xe("dynamic-tool"),toolName:oe(),toolCallId:oe(),state:xe("output-available"),input:_t(),output:_t(),errorText:Nn().optional(),callProviderMetadata:wt.optional(),preliminary:st().optional()}),$e({type:xe("dynamic-tool"),toolName:oe(),toolCallId:oe(),state:xe("output-error"),input:_t(),output:Nn().optional(),errorText:oe(),callProviderMetadata:wt.optional()})],WP=[$e({type:oe().startsWith("tool-"),toolCallId:oe(),state:xe("input-streaming"),providerExecuted:st().optional(),input:_t().optional(),output:Nn().optional(),errorText:Nn().optional()}),$e({type:oe().startsWith("tool-"),toolCallId:oe(),state:xe("input-available"),providerExecuted:st().optional(),input:_t(),output:Nn().optional(),errorText:Nn().optional(),callProviderMetadata:wt.optional()}),$e({type:oe().startsWith("tool-"),toolCallId:oe(),state:xe("output-available"),providerExecuted:st().optional(),input:_t(),output:_t(),errorText:Nn().optional(),callProviderMetadata:wt.optional(),preliminary:st().optional()}),$e({type:oe().startsWith("tool-"),toolCallId:oe(),state:xe("output-error"),providerExecuted:st().optional(),input:_t(),output:Nn().optional(),errorText:oe(),callProviderMetadata:wt.optional()})];$e({id:oe(),role:Mo(["system","user","assistant"]),metadata:_t().optional(),parts:Ln(Et([$P,PP,DP,LP,BP,UP,ZP,...HP,...WP]))});let Gr=null;const _p="strapi-ai-token",Bb=60*1e3,qP=e=>{const t=Date.parse(e);return Number.isFinite(t)?t:null},VP=(e,t=Bb,n=Date.now())=>{const r=qP(e);return r===null||r<=n?"expired":r-t<=n?"stale":"valid"},t0=(e,t=Bb,n=Date.now())=>VP(e,t,n)==="valid",GP=()=>{Gr=null,sessionStorage.removeItem(_p)},JP=()=>{try{const e=sessionStorage.getItem(_p);return e?JSON.parse(e):null}catch{return null}},KP=e=>{sessionStorage.setItem(_p,JSON.stringify(e))},gl=async()=>{if(Gr&&t0(Gr.expiresAt))return Gr;const e=JP();if(e&&t0(e.expiresAt))return Gr=e,Gr;try{const{get:t}=eE(),{data:n}=await t("/admin/ai-token"),r=n?.token||n?.data?.token,a=n?.expiresAt||n?.data?.expiresAt;return r&&a?(Gr={token:r,expiresAt:a},KP(Gr),Gr):null}catch{return null}},YP=async()=>{try{if(await gl())return;await gl()}catch{}},Ub=async e=>{try{return await e.json()}catch{try{return{error:await e.text()}}catch{return}}},XP=(e,t,n)=>({Authorization:`Bearer ${e}`,"X-Strapi-Version":t?.strapiVersion||"latest","X-Strapi-User":t?.userId||"unknown","X-Strapi-Project-Id":t?.projectId||"unknown",...n}),QP=(e,t)=>{if(e===401||e===403)return!0;const n=(t?.error||"").toString().toLowerCase();return n.includes("expired")||n.includes("invalid token")},Zb=async(e,t={})=>{const n=await gl();if(!n?.token)throw new Error("Could not authorize with AI Server. Please contact your administrator.");const r=async o=>{const l=XP(o,t.ctx,t.headers);return fetch(e,{...t,headers:l})};let a=await r(n.token),s;try{s=await Ub(a.clone())}catch{}if(QP(a.status,s)){GP();const o=await gl();o?.token&&o.token!==n.token&&(a=await r(o.token))}return a},eD=e=>async(t,n={})=>Zb(t,{...n,ctx:e}),tD="Too many requests",nD="License limit",rD="AI credit limit exceeded",aD="Chat too long",Pl=e=>()=>{const t=Xr("useAIFetch",p=>p.strapiVersion),n=Xr("useAIFetch",p=>p.projectId),r=Xr("useAIFetch-user",p=>p.userId),a=tE(void 0,{refetchOnMountOrArgChange:!0}),[s,o]=U.useState(!1),[l,u]=U.useState(null);return{isPending:s,error:l,fetch:async(p={})=>{o(!0),u(null);try{const m=`${D1}${e}`,v=!!p.body&&!p.formData,y=await Zb(m,{method:"POST",headers:v?{"Content-Type":"application/json",...p.headers||{}}:p.headers,body:p.formData?p.formData:v?JSON.stringify(p.body||{}):void 0,ctx:{strapiVersion:t,projectId:n,userId:r}});a.refetch();const g=await Ub(y);if(!y.ok)throw new Error(`Error: ${y.statusText}`);return g}catch(m){return u(m instanceof Error?m.message:`Failed to fetch data from ${e}`),null}finally{o(!1)}}}},iD=Pl("/schemas/chat/generate-title"),oD=Pl("/schemas/chat/attachment"),sD=Pl("/schemas/chat/feedback"),lD=Pl("/media/upload"),cD=e=>{const t=Xr("useAIChat",s=>s.strapiVersion),n=Xr("useAIFetch",s=>s.projectId),r=Xr("useAIChat-user",s=>s.userId),a=eD({strapiVersion:t,projectId:n,userId:r});return qN({...e,transport:new NP({api:s6,fetch:a})})},uD=({chatId:e,messages:t})=>{const[n,r]=U.useState(void 0),{fetch:a,error:s,isPending:o}=iD(),l=U.useCallback(async()=>{const d=t.at(0);if(!d||n||o||s)return;const p=d.parts.map(v=>v.type==="text"?v.text:"").join(`
`),m=await a({body:{chatId:e,message:p}});m?.data&&r(m.data.title)},[t,n,o,s,a,e]),u=U.useCallback(()=>{r(void 0)},[]);return{title:n,isGenerating:o,error:s,generateTitle:l,resetTitle:u}},dD=1,pD=()=>{if(typeof window>"u")return{uid:null,type:null};const e=window.location.pathname;if(e.includes("/content-types/")){const t=e.split("/content-types/")[1];if(t)return{uid:t,type:"contentType"}}if(e.includes("/component-categories/")){const t=e.split("/component-categories/")[1].split("/");if(t.length>=2)return{uid:t[1],type:"component"}}return{uid:null,type:null}},fD=()=>{const[e,t]=U.useState([]),{components:n,contentTypes:r}=Xn();return U.useEffect(()=>{const o=()=>{const{uid:d,type:p}=pD();if(!d||!p)return;const m={uid:d,type:p,timestamp:Date.now()};t(v=>{const y=v.filter(g=>g.uid!==m.uid);return[m,...y].slice(0,dD)})};o(),window.addEventListener("popstate",o);const u=(()=>{let d=window.location.pathname;const p=setInterval(()=>{const m=window.location.pathname;m!==d&&(d=m,o())},300);return()=>clearInterval(p)})();return()=>{window.removeEventListener("popstate",o),u()}},[]),{lastSeenSchemas:U.useMemo(()=>e.filter(o=>o.type==="contentType"?Object.keys(r).some(l=>l===o.uid):o.type==="component"?Object.keys(n).some(l=>l===o.uid):!1),[e,n,r]),clearHistory:()=>{t([])}}},n0=e=>e.reduce((t,n)=>{const{name:r,...a}=n;return{...t,[r]:a}},{}),r0=e=>e.modelType==="component"?{category:e.category,kind:"component",action:"create",modelType:"component",description:e.info.description,name:e.info.displayName,uid:e.uid,attributes:n0(e.attributes),sources:e.sources}:{kind:e.kind,modelType:e.modelType,description:e.info.description,action:"create",name:e.info.pluralName,uid:e.uid,attributes:n0(e.attributes),sources:e.sources,options:{draftAndPublish:e.options?.draftAndPublish,localized:!1}},Hb=U.createContext(null),Wb=()=>{const e=U.useContext(Hb);if(!e)throw new Error("useStepModal must be used within a StepModal");return e},La=({open:e,onOpenChange:t,title:n,children:r,onComplete:a,onCancel:s})=>{const[o,l]=U.useState(0),[u,d]=U.useState(!1),[p,m]=U.useState(null),v=U.Children.toArray(r).filter(B=>U.isValidElement(B)).map(B=>B.props),y=v.length,g=o===0,_=o===y-1;U.useEffect(()=>{e||(l(0),d(!1),m(null))},[e]);const x=()=>{l(0),d(!1),m(null)},k=()=>{s?.(),x(),t(!1)},A=()=>{l(B=>Math.max(0,B-1)),m(null)},T=async()=>{const B=v[o];if(B.onNext){d(!0),m(null);try{return _?(a?.(),x(),t(!1)):(await B.onNext(),l(L=>L+1)),!0}catch(L){return m(L instanceof Error?L:new Error(String(L))),!1}finally{d(!1)}}else return _?(a?.(),x(),t(!1)):l(L=>L+1),!0},j=B=>{B.preventDefault(),!u&&!v[o]?.disableNext&&T()},F={currentStep:o,goToStep:l,nextStep:T,prevStep:A,isFirstStep:g,isLastStep:_,totalSteps:y,isLoading:u,error:p,setError:m},O=v[o];return f.jsx(Hb.Provider,{value:F,children:e&&f.jsx(pn.Root,{open:!0,onOpenChange:k,children:f.jsxs(pn.Content,{children:[f.jsx(pn.Header,{children:f.jsx(Fe,{variant:"omega",fontWeight:"bold",children:O?.title||n})}),f.jsxs("form",{onSubmit:j,children:[f.jsxs(pn.Body,{children:[U.Children.toArray(r)[o],p&&f.jsx(ze,{marginTop:4,padding:3,background:"danger100",color:"danger600",borderRadius:"4px",children:f.jsx(Fe,{variant:"pi",children:p.message})})]}),f.jsxs(pn.Footer,{children:[g?f.jsx(ht,{variant:"tertiary",onClick:k,type:"button",children:O?.cancelLabel||"Cancel"}):f.jsx(ht,{variant:"tertiary",onClick:A,type:"button",children:O?.backLabel||"Back"}),f.jsx(ht,{variant:"default",type:"submit",disabled:u||O?.disableNext,loading:u,children:O?.nextLabel||(_?"Complete":"Next")})]})]})]})})})},hD=({children:e})=>f.jsx(f.Fragment,{children:e});La.Step=hD;const vl=(e=16)=>crypto.randomUUID().slice(0,e);function Po(){const{setAttachments:e,attachments:t,id:n}=mr(),{toggleNotification:r}=Ri(),{fetch:a}=lD(),s=U.useCallback(p=>{p&&e(m=>[...m,...p])},[e]),o=U.useCallback(p=>{e(m=>m.map(v=>v.id===p.id?{...v,...p}:v))},[e]),l=U.useCallback(p=>{e(m=>m.filter(v=>v.id!==p.id))},[e]),u=U.useCallback(async(p,m)=>{const v=t?.length||0,y=Array.from(p).length;let g=p;if(v+y>cu){r({type:"danger",title:"File limit reached: ",message:`You can only upload up to ${cu} files`});const _=cu-v;g=p.slice(0,_)}for(const _ of g)_.size>o6&&(r({type:"danger",title:"File too large: ",message:"One of the files is too large (15MB limit)"}),g=g.filter(x=>x!==_));for(const _ of g){const x={id:vl(),type:"file",status:"loading",filename:_.name,mediaType:_.type,url:""};e(A=>[...A,x]);const k=new FormData;k.append("file",_),k.append("fileInfo",JSON.stringify({name:_.name,chatId:n})),a({formData:k}).then(A=>{const T=A?.data;if(!A||A.error){r({type:"danger",title:"Failed to upload file: ",message:A?.error||"Unknown error",timeout:5e3}),l(x);return}o({id:x.id,url:T?.url||"",status:"ready"})}).catch(()=>l(x))}m&&r({title:"Files attached",message:m})},[t,e,r,n,a,l,o]),d=U.useCallback(p=>{t&&e(t.filter((m,v)=>v!==p))},[e,t]);return{attachments:t,attachFiles:u,addAttachments:s,removeAttachment:l,removeAttachmentByIndex:d}}var qb={exports:{}};(function(e,t){var n={};/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(r){e.exports=r()})(function(){return function r(a,s,o){function l(p,m){if(!s[p]){if(!a[p]){var v=typeof Is=="function"&&Is;if(!m&&v)return v(p,!0);if(u)return u(p,!0);var y=new Error("Cannot find module '"+p+"'");throw y.code="MODULE_NOT_FOUND",y}var g=s[p]={exports:{}};a[p][0].call(g.exports,function(_){var x=a[p][1][_];return l(x||_)},g,g.exports,r,a,s,o)}return s[p].exports}for(var u=typeof Is=="function"&&Is,d=0;d<o.length;d++)l(o[d]);return l}({1:[function(r,a,s){var o=r("./utils"),l=r("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(d){for(var p,m,v,y,g,_,x,k=[],A=0,T=d.length,j=T,F=o.getTypeOf(d)!=="string";A<d.length;)j=T-A,v=F?(p=d[A++],m=A<T?d[A++]:0,A<T?d[A++]:0):(p=d.charCodeAt(A++),m=A<T?d.charCodeAt(A++):0,A<T?d.charCodeAt(A++):0),y=p>>2,g=(3&p)<<4|m>>4,_=1<j?(15&m)<<2|v>>6:64,x=2<j?63&v:64,k.push(u.charAt(y)+u.charAt(g)+u.charAt(_)+u.charAt(x));return k.join("")},s.decode=function(d){var p,m,v,y,g,_,x=0,k=0,A="data:";if(d.substr(0,A.length)===A)throw new Error("Invalid base64 input, it looks like a data url.");var T,j=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===u.charAt(64)&&j--,d.charAt(d.length-2)===u.charAt(64)&&j--,j%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=l.uint8array?new Uint8Array(0|j):new Array(0|j);x<d.length;)p=u.indexOf(d.charAt(x++))<<2|(y=u.indexOf(d.charAt(x++)))>>4,m=(15&y)<<4|(g=u.indexOf(d.charAt(x++)))>>2,v=(3&g)<<6|(_=u.indexOf(d.charAt(x++))),T[k++]=p,g!==64&&(T[k++]=m),_!==64&&(T[k++]=v);return T}},{"./support":30,"./utils":32}],2:[function(r,a,s){var o=r("./external"),l=r("./stream/DataWorker"),u=r("./stream/Crc32Probe"),d=r("./stream/DataLengthProbe");function p(m,v,y,g,_){this.compressedSize=m,this.uncompressedSize=v,this.crc32=y,this.compression=g,this.compressedContent=_}p.prototype={getContentWorker:function(){var m=new l(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),v=this;return m.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new l(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(m,v,y){return m.pipe(new u).pipe(new d("uncompressedSize")).pipe(v.compressWorker(y)).pipe(new d("compressedSize")).withStreamInfo("compression",v)},a.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,a,s){var o=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,a,s){var o=r("./utils"),l=function(){for(var u,d=[],p=0;p<256;p++){u=p;for(var m=0;m<8;m++)u=1&u?3988292384^u>>>1:u>>>1;d[p]=u}return d}();a.exports=function(u,d){return u!==void 0&&u.length?o.getTypeOf(u)!=="string"?function(p,m,v,y){var g=l,_=y+v;p^=-1;for(var x=y;x<_;x++)p=p>>>8^g[255&(p^m[x])];return-1^p}(0|d,u,u.length,0):function(p,m,v,y){var g=l,_=y+v;p^=-1;for(var x=y;x<_;x++)p=p>>>8^g[255&(p^m.charCodeAt(x))];return-1^p}(0|d,u,u.length,0):0}},{"./utils":32}],5:[function(r,a,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,a,s){var o=null;o=typeof Promise<"u"?Promise:r("lie"),a.exports={Promise:o}},{lie:37}],7:[function(r,a,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=r("pako"),u=r("./utils"),d=r("./stream/GenericWorker"),p=o?"uint8array":"array";function m(v,y){d.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=y,this.meta={}}s.magic="\b\0",u.inherits(m,d),m.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(p,v.data),!1)},m.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(y){v.push({data:y,meta:v.meta})}},s.compressWorker=function(v){return new m("Deflate",v)},s.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,a,s){function o(g,_){var x,k="";for(x=0;x<_;x++)k+=String.fromCharCode(255&g),g>>>=8;return k}function l(g,_,x,k,A,T){var j,F,O=g.file,B=g.compression,L=T!==p.utf8encode,V=u.transformTo("string",T(O.name)),q=u.transformTo("string",p.utf8encode(O.name)),D=O.comment,X=u.transformTo("string",T(D)),M=u.transformTo("string",p.utf8encode(D)),Y=q.length!==O.name.length,w=M.length!==D.length,P="",_e="",se="",ue=O.dir,z=O.date,Se={crc32:0,compressedSize:0,uncompressedSize:0};_&&!x||(Se.crc32=g.crc32,Se.compressedSize=g.compressedSize,Se.uncompressedSize=g.uncompressedSize);var ae=0;_&&(ae|=8),L||!Y&&!w||(ae|=2048);var R=0,Ie=0;ue&&(R|=16),A==="UNIX"?(Ie=798,R|=function(ne,Ge){var Je=ne;return ne||(Je=Ge?16893:33204),(65535&Je)<<16}(O.unixPermissions,ue)):(Ie=20,R|=function(ne){return 63&(ne||0)}(O.dosPermissions)),j=z.getUTCHours(),j<<=6,j|=z.getUTCMinutes(),j<<=5,j|=z.getUTCSeconds()/2,F=z.getUTCFullYear()-1980,F<<=4,F|=z.getUTCMonth()+1,F<<=5,F|=z.getUTCDate(),Y&&(_e=o(1,1)+o(m(V),4)+q,P+="up"+o(_e.length,2)+_e),w&&(se=o(1,1)+o(m(X),4)+M,P+="uc"+o(se.length,2)+se);var le="";return le+=`
\0`,le+=o(ae,2),le+=B.magic,le+=o(j,2),le+=o(F,2),le+=o(Se.crc32,4),le+=o(Se.compressedSize,4),le+=o(Se.uncompressedSize,4),le+=o(V.length,2),le+=o(P.length,2),{fileRecord:v.LOCAL_FILE_HEADER+le+V+P,dirRecord:v.CENTRAL_FILE_HEADER+o(Ie,2)+le+o(X.length,2)+"\0\0\0\0"+o(R,4)+o(k,4)+V+P+X}}var u=r("../utils"),d=r("../stream/GenericWorker"),p=r("../utf8"),m=r("../crc32"),v=r("../signature");function y(g,_,x,k){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=x,this.encodeFileName=k,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(y,d),y.prototype.push=function(g){var _=g.meta.percent||0,x=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,d.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:x?(_+100*(x-k-1))/x:100}}))},y.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var _=this.streamFiles&&!g.file.dir;if(_){var x=l(g,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(g){this.accumulate=!1;var _=this.streamFiles&&!g.file.dir,x=l(g,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),_)this.push({data:function(k){return v.DATA_DESCRIPTOR+o(k.crc32,4)+o(k.compressedSize,4)+o(k.uncompressedSize,4)}(g),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var g=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var x=this.bytesWritten-g,k=function(A,T,j,F,O){var B=u.transformTo("string",O(F));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(A,2)+o(A,2)+o(T,4)+o(j,4)+o(B.length,2)+B}(this.dirRecords.length,x,g,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(g){this._sources.push(g);var _=this;return g.on("data",function(x){_.processChunk(x)}),g.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),g.on("error",function(x){_.error(x)}),this},y.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(g){var _=this._sources;if(!d.prototype.error.call(this,g))return!1;for(var x=0;x<_.length;x++)try{_[x].error(g)}catch{}return!0},y.prototype.lock=function(){d.prototype.lock.call(this);for(var g=this._sources,_=0;_<g.length;_++)g[_].lock()},a.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,a,s){var o=r("../compressions"),l=r("./ZipFileWorker");s.generateWorker=function(u,d,p){var m=new l(d.streamFiles,p,d.platform,d.encodeFileName),v=0;try{u.forEach(function(y,g){v++;var _=function(T,j){var F=T||j,O=o[F];if(!O)throw new Error(F+" is not a valid compression method !");return O}(g.options.compression,d.compression),x=g.options.compressionOptions||d.compressionOptions||{},k=g.dir,A=g.date;g._compressWorker(_,x).withStreamInfo("file",{name:y,dir:k,date:A,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(m)}),m.entriesCount=v}catch(y){m.error(y)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,a,s){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new o;for(var u in this)typeof this[u]!="function"&&(l[u]=this[u]);return l}}(o.prototype=r("./object")).loadAsync=r("./load"),o.support=r("./support"),o.defaults=r("./defaults"),o.version="3.10.1",o.loadAsync=function(l,u){return new o().loadAsync(l,u)},o.external=r("./external"),a.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,a,s){var o=r("./utils"),l=r("./external"),u=r("./utf8"),d=r("./zipEntries"),p=r("./stream/Crc32Probe"),m=r("./nodejsUtils");function v(y){return new l.Promise(function(g,_){var x=y.decompressed.getContentWorker().pipe(new p);x.on("error",function(k){_(k)}).on("end",function(){x.streamInfo.crc32!==y.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}a.exports=function(y,g){var _=this;return g=o.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),m.isNode&&m.isStream(y)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",y,!0,g.optimizedBinaryString,g.base64).then(function(x){var k=new d(g);return k.load(x),k}).then(function(x){var k=[l.Promise.resolve(x)],A=x.files;if(g.checkCRC32)for(var T=0;T<A.length;T++)k.push(v(A[T]));return l.Promise.all(k)}).then(function(x){for(var k=x.shift(),A=k.files,T=0;T<A.length;T++){var j=A[T],F=j.fileNameStr,O=o.resolve(j.fileNameStr);_.file(O,j.decompressed,{binary:!0,optimizedBinaryString:!0,date:j.date,dir:j.dir,comment:j.fileCommentStr.length?j.fileCommentStr:null,unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions,createFolders:g.createFolders}),j.dir||(_.file(O).unsafeOriginalName=F)}return k.zipComment.length&&(_.comment=k.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,a,s){var o=r("../utils"),l=r("../stream/GenericWorker");function u(d,p){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(p)}o.inherits(u,l),u.prototype._bindStream=function(d){var p=this;(this._stream=d).pause(),d.on("data",function(m){p.push({data:m,meta:{percent:0}})}).on("error",function(m){p.isPaused?this.generatedError=m:p.error(m)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},u.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,a,s){var o=r("readable-stream").Readable;function l(u,d,p){o.call(this,d),this._helper=u;var m=this;u.on("data",function(v,y){m.push(v)||m._helper.pause(),p&&p(y)}).on("error",function(v){m.emit("error",v)}).on("end",function(){m.push(null)})}r("../utils").inherits(l,o),l.prototype._read=function(){this._helper.resume()},a.exports=l},{"../utils":32,"readable-stream":16}],14:[function(r,a,s){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,l);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,l)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var l=new Buffer(o);return l.fill(0),l},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(r,a,s){function o(O,B,L){var V,q=u.getTypeOf(B),D=u.extend(L||{},m);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(O=A(O)),D.createFolders&&(V=k(O))&&T.call(this,V,!0);var X=q==="string"&&D.binary===!1&&D.base64===!1;L&&L.binary!==void 0||(D.binary=!X),(B instanceof v&&B.uncompressedSize===0||D.dir||!B||B.length===0)&&(D.base64=!1,D.binary=!0,B="",D.compression="STORE",q="string");var M=null;M=B instanceof v||B instanceof d?B:_.isNode&&_.isStream(B)?new x(O,B):u.prepareContent(O,B,D.binary,D.optimizedBinaryString,D.base64);var Y=new y(O,M,D);this.files[O]=Y}var l=r("./utf8"),u=r("./utils"),d=r("./stream/GenericWorker"),p=r("./stream/StreamHelper"),m=r("./defaults"),v=r("./compressedObject"),y=r("./zipObject"),g=r("./generate"),_=r("./nodejsUtils"),x=r("./nodejs/NodejsStreamInputAdapter"),k=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var B=O.lastIndexOf("/");return 0<B?O.substring(0,B):""},A=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},T=function(O,B){return B=B!==void 0?B:m.createFolders,O=A(O),this.files[O]||o.call(this,O,null,{dir:!0,createFolders:B}),this.files[O]};function j(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var F={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var B,L,V;for(B in this.files)V=this.files[B],(L=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&O(L,V)},filter:function(O){var B=[];return this.forEach(function(L,V){O(L,V)&&B.push(V)}),B},file:function(O,B,L){if(arguments.length!==1)return O=this.root+O,o.call(this,O,B,L),this;if(j(O)){var V=O;return this.filter(function(D,X){return!X.dir&&V.test(D)})}var q=this.files[this.root+O];return q&&!q.dir?q:null},folder:function(O){if(!O)return this;if(j(O))return this.filter(function(q,D){return D.dir&&O.test(q)});var B=this.root+O,L=T.call(this,B),V=this.clone();return V.root=L.name,V},remove:function(O){O=this.root+O;var B=this.files[O];if(B||(O.slice(-1)!=="/"&&(O+="/"),B=this.files[O]),B&&!B.dir)delete this.files[O];else for(var L=this.filter(function(q,D){return D.name.slice(0,O.length)===O}),V=0;V<L.length;V++)delete this.files[L[V].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var B,L={};try{if((L=u.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");u.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var V=L.comment||this.comment||"";B=g.generateWorker(this,L,V)}catch(q){(B=new d("error")).error(q)}return new p(B,L.type||"string",L.mimeType)},generateAsync:function(O,B){return this.generateInternalStream(O).accumulate(B)},generateNodeStream:function(O,B){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(B)}};a.exports=F},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,a,s){a.exports=r("stream")},{stream:void 0}],17:[function(r,a,s){var o=r("./DataReader");function l(u){o.call(this,u);for(var d=0;d<this.data.length;d++)u[d]=255&u[d]}r("../utils").inherits(l,o),l.prototype.byteAt=function(u){return this.data[this.zero+u]},l.prototype.lastIndexOfSignature=function(u){for(var d=u.charCodeAt(0),p=u.charCodeAt(1),m=u.charCodeAt(2),v=u.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===d&&this.data[y+1]===p&&this.data[y+2]===m&&this.data[y+3]===v)return y-this.zero;return-1},l.prototype.readAndCheckSignature=function(u){var d=u.charCodeAt(0),p=u.charCodeAt(1),m=u.charCodeAt(2),v=u.charCodeAt(3),y=this.readData(4);return d===y[0]&&p===y[1]&&m===y[2]&&v===y[3]},l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},a.exports=l},{"../utils":32,"./DataReader":18}],18:[function(r,a,s){var o=r("../utils");function l(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var d,p=0;for(this.checkOffset(u),d=this.index+u-1;d>=this.index;d--)p=(p<<8)+this.byteAt(d);return this.index+=u,p},readString:function(u){return o.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},a.exports=l},{"../utils":32}],19:[function(r,a,s){var o=r("./Uint8ArrayReader");function l(u){o.call(this,u)}r("../utils").inherits(l,o),l.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},a.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,a,s){var o=r("./DataReader");function l(u){o.call(this,u)}r("../utils").inherits(l,o),l.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},l.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},l.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},l.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},a.exports=l},{"../utils":32,"./DataReader":18}],21:[function(r,a,s){var o=r("./ArrayReader");function l(u){o.call(this,u)}r("../utils").inherits(l,o),l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},a.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(r,a,s){var o=r("../utils"),l=r("../support"),u=r("./ArrayReader"),d=r("./StringReader"),p=r("./NodeBufferReader"),m=r("./Uint8ArrayReader");a.exports=function(v){var y=o.getTypeOf(v);return o.checkSupport(y),y!=="string"||l.uint8array?y==="nodebuffer"?new p(v):l.uint8array?new m(o.transformTo("uint8array",v)):new u(o.transformTo("array",v)):new d(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,a,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,a,s){var o=r("./GenericWorker"),l=r("../utils");function u(d){o.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(u,o),u.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},a.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(r,a,s){var o=r("./GenericWorker"),l=r("../crc32");function u(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(u,o),u.prototype.processChunk=function(d){this.streamInfo.crc32=l(d.data,this.streamInfo.crc32||0),this.push(d)},a.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,a,s){var o=r("../utils"),l=r("./GenericWorker");function u(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}o.inherits(u,l),u.prototype.processChunk=function(d){if(d){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+d.data.length}l.prototype.processChunk.call(this,d)},a.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(r,a,s){var o=r("../utils"),l=r("./GenericWorker");function u(d){l.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(m){p.dataIsReady=!0,p.data=m,p.max=m&&m.length||0,p.type=o.getTypeOf(m),p.isPaused||p._tickAndRepeat()},function(m){p.error(m)})}o.inherits(u,l),u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,p);break;case"uint8array":d=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":d=this.data.slice(this.index,p)}return this.index=p,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(r,a,s){function o(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,u){return this._listeners[l].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,u){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,u)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var u=this;return l.on("data",function(d){u.processChunk(d)}),l.on("end",function(){u.end()}),l.on("error",function(d){u.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,u){return this.extraStreamInfo[l]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},a.exports=o},{}],29:[function(r,a,s){var o=r("../utils"),l=r("./ConvertWorker"),u=r("./GenericWorker"),d=r("../base64"),p=r("../support"),m=r("../external"),v=null;if(p.nodestream)try{v=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(_,x){return new m.Promise(function(k,A){var T=[],j=_._internalType,F=_._outputType,O=_._mimeType;_.on("data",function(B,L){T.push(B),x&&x(L)}).on("error",function(B){T=[],A(B)}).on("end",function(){try{var B=function(L,V,q){switch(L){case"blob":return o.newBlob(o.transformTo("arraybuffer",V),q);case"base64":return d.encode(V);default:return o.transformTo(L,V)}}(F,function(L,V){var q,D=0,X=null,M=0;for(q=0;q<V.length;q++)M+=V[q].length;switch(L){case"string":return V.join("");case"array":return Array.prototype.concat.apply([],V);case"uint8array":for(X=new Uint8Array(M),q=0;q<V.length;q++)X.set(V[q],D),D+=V[q].length;return X;case"nodebuffer":return Buffer.concat(V);default:throw new Error("concat : unsupported type '"+L+"'")}}(j,T),O);k(B)}catch(L){A(L)}T=[]}).resume()})}function g(_,x,k){var A=x;switch(x){case"blob":case"arraybuffer":A="uint8array";break;case"base64":A="string"}try{this._internalType=A,this._outputType=x,this._mimeType=k,o.checkSupport(A),this._worker=_.pipe(new l(A)),_.lock()}catch(T){this._worker=new u("error"),this._worker.error(T)}}g.prototype={accumulate:function(_){return y(this,_)},on:function(_,x){var k=this;return _==="data"?this._worker.on(_,function(A){x.call(k,A.data,A.meta)}):this._worker.on(_,function(){o.delay(x,arguments,k)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},_)}},a.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,a,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var o=new ArrayBuffer(0);try{s.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(o),s.blob=l.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,a,s){for(var o=r("./utils"),l=r("./support"),u=r("./nodejsUtils"),d=r("./stream/GenericWorker"),p=new Array(256),m=0;m<256;m++)p[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;p[254]=p[254]=1;function v(){d.call(this,"utf-8 decode"),this.leftOver=null}function y(){d.call(this,"utf-8 encode")}s.utf8encode=function(g){return l.nodebuffer?u.newBufferFrom(g,"utf-8"):function(_){var x,k,A,T,j,F=_.length,O=0;for(T=0;T<F;T++)(64512&(k=_.charCodeAt(T)))==55296&&T+1<F&&(64512&(A=_.charCodeAt(T+1)))==56320&&(k=65536+(k-55296<<10)+(A-56320),T++),O+=k<128?1:k<2048?2:k<65536?3:4;for(x=l.uint8array?new Uint8Array(O):new Array(O),T=j=0;j<O;T++)(64512&(k=_.charCodeAt(T)))==55296&&T+1<F&&(64512&(A=_.charCodeAt(T+1)))==56320&&(k=65536+(k-55296<<10)+(A-56320),T++),k<128?x[j++]=k:(k<2048?x[j++]=192|k>>>6:(k<65536?x[j++]=224|k>>>12:(x[j++]=240|k>>>18,x[j++]=128|k>>>12&63),x[j++]=128|k>>>6&63),x[j++]=128|63&k);return x}(g)},s.utf8decode=function(g){return l.nodebuffer?o.transformTo("nodebuffer",g).toString("utf-8"):function(_){var x,k,A,T,j=_.length,F=new Array(2*j);for(x=k=0;x<j;)if((A=_[x++])<128)F[k++]=A;else if(4<(T=p[A]))F[k++]=65533,x+=T-1;else{for(A&=T===2?31:T===3?15:7;1<T&&x<j;)A=A<<6|63&_[x++],T--;1<T?F[k++]=65533:A<65536?F[k++]=A:(A-=65536,F[k++]=55296|A>>10&1023,F[k++]=56320|1023&A)}return F.length!==k&&(F.subarray?F=F.subarray(0,k):F.length=k),o.applyFromCharCode(F)}(g=o.transformTo(l.uint8array?"uint8array":"array",g))},o.inherits(v,d),v.prototype.processChunk=function(g){var _=o.transformTo(l.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var x=_;(_=new Uint8Array(x.length+this.leftOver.length)).set(this.leftOver,0),_.set(x,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var k=function(T,j){var F;for((j=j||T.length)>T.length&&(j=T.length),F=j-1;0<=F&&(192&T[F])==128;)F--;return F<0||F===0?j:F+p[T[F]]>j?F:j}(_),A=_;k!==_.length&&(l.uint8array?(A=_.subarray(0,k),this.leftOver=_.subarray(k,_.length)):(A=_.slice(0,k),this.leftOver=_.slice(k,_.length))),this.push({data:s.utf8decode(A),meta:g.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=v,o.inherits(y,d),y.prototype.processChunk=function(g){this.push({data:s.utf8encode(g.data),meta:g.meta})},s.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,a,s){var o=r("./support"),l=r("./base64"),u=r("./nodejsUtils"),d=r("./external");function p(x){return x}function m(x,k){for(var A=0;A<x.length;++A)k[A]=255&x.charCodeAt(A);return k}r("setimmediate"),s.newBlob=function(x,k){s.checkSupport("blob");try{return new Blob([x],{type:k})}catch{try{var A=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return A.append(x),A.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(x,k,A){var T=[],j=0,F=x.length;if(F<=A)return String.fromCharCode.apply(null,x);for(;j<F;)k==="array"||k==="nodebuffer"?T.push(String.fromCharCode.apply(null,x.slice(j,Math.min(j+A,F)))):T.push(String.fromCharCode.apply(null,x.subarray(j,Math.min(j+A,F)))),j+=A;return T.join("")},stringifyByChar:function(x){for(var k="",A=0;A<x.length;A++)k+=String.fromCharCode(x[A]);return k},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function y(x){var k=65536,A=s.getTypeOf(x),T=!0;if(A==="uint8array"?T=v.applyCanBeUsed.uint8array:A==="nodebuffer"&&(T=v.applyCanBeUsed.nodebuffer),T)for(;1<k;)try{return v.stringifyByChunk(x,A,k)}catch{k=Math.floor(k/2)}return v.stringifyByChar(x)}function g(x,k){for(var A=0;A<x.length;A++)k[A]=x[A];return k}s.applyFromCharCode=y;var _={};_.string={string:p,array:function(x){return m(x,new Array(x.length))},arraybuffer:function(x){return _.string.uint8array(x).buffer},uint8array:function(x){return m(x,new Uint8Array(x.length))},nodebuffer:function(x){return m(x,u.allocBuffer(x.length))}},_.array={string:y,array:p,arraybuffer:function(x){return new Uint8Array(x).buffer},uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return u.newBufferFrom(x)}},_.arraybuffer={string:function(x){return y(new Uint8Array(x))},array:function(x){return g(new Uint8Array(x),new Array(x.byteLength))},arraybuffer:p,uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return u.newBufferFrom(new Uint8Array(x))}},_.uint8array={string:y,array:function(x){return g(x,new Array(x.length))},arraybuffer:function(x){return x.buffer},uint8array:p,nodebuffer:function(x){return u.newBufferFrom(x)}},_.nodebuffer={string:y,array:function(x){return g(x,new Array(x.length))},arraybuffer:function(x){return _.nodebuffer.uint8array(x).buffer},uint8array:function(x){return g(x,new Uint8Array(x.length))},nodebuffer:p},s.transformTo=function(x,k){if(k=k||"",!x)return k;s.checkSupport(x);var A=s.getTypeOf(k);return _[A][x](k)},s.resolve=function(x){for(var k=x.split("/"),A=[],T=0;T<k.length;T++){var j=k[T];j==="."||j===""&&T!==0&&T!==k.length-1||(j===".."?A.pop():A.push(j))}return A.join("/")},s.getTypeOf=function(x){return typeof x=="string"?"string":Object.prototype.toString.call(x)==="[object Array]"?"array":o.nodebuffer&&u.isBuffer(x)?"nodebuffer":o.uint8array&&x instanceof Uint8Array?"uint8array":o.arraybuffer&&x instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(x){if(!o[x.toLowerCase()])throw new Error(x+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(x){var k,A,T="";for(A=0;A<(x||"").length;A++)T+="\\x"+((k=x.charCodeAt(A))<16?"0":"")+k.toString(16).toUpperCase();return T},s.delay=function(x,k,A){setImmediate(function(){x.apply(A||null,k||[])})},s.inherits=function(x,k){function A(){}A.prototype=k.prototype,x.prototype=new A},s.extend=function(){var x,k,A={};for(x=0;x<arguments.length;x++)for(k in arguments[x])Object.prototype.hasOwnProperty.call(arguments[x],k)&&A[k]===void 0&&(A[k]=arguments[x][k]);return A},s.prepareContent=function(x,k,A,T,j){return d.Promise.resolve(k).then(function(F){return o.blob&&(F instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(F))!==-1)&&typeof FileReader<"u"?new d.Promise(function(O,B){var L=new FileReader;L.onload=function(V){O(V.target.result)},L.onerror=function(V){B(V.target.error)},L.readAsArrayBuffer(F)}):F}).then(function(F){var O=s.getTypeOf(F);return O?(O==="arraybuffer"?F=s.transformTo("uint8array",F):O==="string"&&(j?F=l.decode(F):A&&T!==!0&&(F=function(B){return m(B,o.uint8array?new Uint8Array(B.length):new Array(B.length))}(F))),F):d.Promise.reject(new Error("Can't read the data of '"+x+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,a,s){var o=r("./reader/readerFor"),l=r("./utils"),u=r("./signature"),d=r("./zipEntry"),p=r("./support");function m(v){this.files=[],this.loadOptions=v}m.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(y)+", expected "+l.pretty(v)+")")}},isSignature:function(v,y){var g=this.reader.index;this.reader.setIndex(v);var _=this.reader.readString(4)===y;return this.reader.setIndex(g),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),y=p.uint8array?"uint8array":"array",g=l.transformTo(y,v);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,y,g,_=this.zip64EndOfCentralSize-44;0<_;)v=this.reader.readInt(2),y=this.reader.readInt(4),g=this.reader.readData(y),this.zip64ExtensibleData[v]={id:v,length:y,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,y;for(v=0;v<this.files.length;v++)y=this.files[v],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(v=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var y=v;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var _=y-g;if(0<_)this.isSignature(y,u.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(v){this.reader=o(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,a,s){var o=r("./reader/readerFor"),l=r("./utils"),u=r("./compressedObject"),d=r("./crc32"),p=r("./utf8"),m=r("./compressions"),v=r("./support");function y(g,_){this.options=g,this.loadOptions=_}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var _,x;if(g.skip(22),this.fileNameLength=g.readInt(2),x=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(x),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(k){for(var A in m)if(Object.prototype.hasOwnProperty.call(m,A)&&m[A].magic===k)return m[A];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,_,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var _=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(_),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=o(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var _,x,k,A=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<A;)_=g.readInt(2),x=g.readInt(2),k=g.readData(x),this.extraFields[_]={id:_,length:x,value:k};g.setIndex(A)},handleUTF8:function(){var g=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var x=l.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(x)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var A=l.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(A)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var _=o(g.value);return _.readInt(1)!==1||d(this.fileName)!==_.readInt(4)?null:p.utf8decode(_.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var _=o(g.value);return _.readInt(1)!==1||d(this.fileComment)!==_.readInt(4)?null:p.utf8decode(_.readData(g.length-5))}return null}},a.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,a,s){function o(_,x,k){this.name=_,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=x,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}}var l=r("./stream/StreamHelper"),u=r("./stream/DataWorker"),d=r("./utf8"),p=r("./compressedObject"),m=r("./stream/GenericWorker");o.prototype={internalStream:function(_){var x=null,k="string";try{if(!_)throw new Error("No output type specified.");var A=(k=_.toLowerCase())==="string"||k==="text";k!=="binarystring"&&k!=="text"||(k="string"),x=this._decompressWorker();var T=!this._dataBinary;T&&!A&&(x=x.pipe(new d.Utf8EncodeWorker)),!T&&A&&(x=x.pipe(new d.Utf8DecodeWorker))}catch(j){(x=new m("error")).error(j)}return new l(x,k,"")},async:function(_,x){return this.internalStream(_).accumulate(x)},nodeStream:function(_,x){return this.internalStream(_||"nodebuffer").toNodejsStream(x)},_compressWorker:function(_,x){if(this._data instanceof p&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new d.Utf8EncodeWorker)),p.createWorkerFrom(k,_,x)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof m?this._data:new u(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<v.length;g++)o.prototype[v[g]]=y;a.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,a,s){(function(o){var l,u,d=o.MutationObserver||o.WebKitMutationObserver;if(d){var p=0,m=new d(_),v=o.document.createTextNode("");m.observe(v,{characterData:!0}),l=function(){v.data=p=++p%2}}else if(o.setImmediate||o.MessageChannel===void 0)l="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var x=o.document.createElement("script");x.onreadystatechange=function(){_(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},o.document.documentElement.appendChild(x)}:function(){setTimeout(_,0)};else{var y=new o.MessageChannel;y.port1.onmessage=_,l=function(){y.port2.postMessage(0)}}var g=[];function _(){var x,k;u=!0;for(var A=g.length;A;){for(k=g,g=[],x=-1;++x<A;)k[x]();A=g.length}u=!1}a.exports=function(x){g.push(x)!==1||u||l()}}).call(this,typeof Vn<"u"?Vn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,a,s){var o=r("immediate");function l(){}var u={},d=["REJECTED"],p=["FULFILLED"],m=["PENDING"];function v(A){if(typeof A!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,A!==l&&x(this,A)}function y(A,T,j){this.promise=A,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof j=="function"&&(this.onRejected=j,this.callRejected=this.otherCallRejected)}function g(A,T,j){o(function(){var F;try{F=T(j)}catch(O){return u.reject(A,O)}F===A?u.reject(A,new TypeError("Cannot resolve promise with itself")):u.resolve(A,F)})}function _(A){var T=A&&A.then;if(A&&(typeof A=="object"||typeof A=="function")&&typeof T=="function")return function(){T.apply(A,arguments)}}function x(A,T){var j=!1;function F(L){j||(j=!0,u.reject(A,L))}function O(L){j||(j=!0,u.resolve(A,L))}var B=k(function(){T(O,F)});B.status==="error"&&F(B.value)}function k(A,T){var j={};try{j.value=A(T),j.status="success"}catch(F){j.status="error",j.value=F}return j}(a.exports=v).prototype.finally=function(A){if(typeof A!="function")return this;var T=this.constructor;return this.then(function(j){return T.resolve(A()).then(function(){return j})},function(j){return T.resolve(A()).then(function(){throw j})})},v.prototype.catch=function(A){return this.then(null,A)},v.prototype.then=function(A,T){if(typeof A!="function"&&this.state===p||typeof T!="function"&&this.state===d)return this;var j=new this.constructor(l);return this.state!==m?g(j,this.state===p?A:T,this.outcome):this.queue.push(new y(j,A,T)),j},y.prototype.callFulfilled=function(A){u.resolve(this.promise,A)},y.prototype.otherCallFulfilled=function(A){g(this.promise,this.onFulfilled,A)},y.prototype.callRejected=function(A){u.reject(this.promise,A)},y.prototype.otherCallRejected=function(A){g(this.promise,this.onRejected,A)},u.resolve=function(A,T){var j=k(_,T);if(j.status==="error")return u.reject(A,j.value);var F=j.value;if(F)x(A,F);else{A.state=p,A.outcome=T;for(var O=-1,B=A.queue.length;++O<B;)A.queue[O].callFulfilled(T)}return A},u.reject=function(A,T){A.state=d,A.outcome=T;for(var j=-1,F=A.queue.length;++j<F;)A.queue[j].callRejected(T);return A},v.resolve=function(A){return A instanceof this?A:u.resolve(new this(l),A)},v.reject=function(A){var T=new this(l);return u.reject(T,A)},v.all=function(A){var T=this;if(Object.prototype.toString.call(A)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=A.length,F=!1;if(!j)return this.resolve([]);for(var O=new Array(j),B=0,L=-1,V=new this(l);++L<j;)q(A[L],L);return V;function q(D,X){T.resolve(D).then(function(M){O[X]=M,++B!==j||F||(F=!0,u.resolve(V,O))},function(M){F||(F=!0,u.reject(V,M))})}},v.race=function(A){var T=this;if(Object.prototype.toString.call(A)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=A.length,F=!1;if(!j)return this.resolve([]);for(var O=-1,B=new this(l);++O<j;)L=A[O],T.resolve(L).then(function(V){F||(F=!0,u.resolve(B,V))},function(V){F||(F=!0,u.reject(B,V))});var L;return B}},{immediate:36}],38:[function(r,a,s){var o={};(0,r("./lib/utils/common").assign)(o,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),a.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,a,s){var o=r("./zlib/deflate"),l=r("./utils/common"),u=r("./utils/strings"),d=r("./zlib/messages"),p=r("./zlib/zstream"),m=Object.prototype.toString,v=0,y=-1,g=0,_=8;function x(A){if(!(this instanceof x))return new x(A);this.options=l.assign({level:y,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},A||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var j=o.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(j!==v)throw new Error(d[j]);if(T.header&&o.deflateSetHeader(this.strm,T.header),T.dictionary){var F;if(F=typeof T.dictionary=="string"?u.string2buf(T.dictionary):m.call(T.dictionary)==="[object ArrayBuffer]"?new Uint8Array(T.dictionary):T.dictionary,(j=o.deflateSetDictionary(this.strm,F))!==v)throw new Error(d[j]);this._dict_set=!0}}function k(A,T){var j=new x(T);if(j.push(A,!0),j.err)throw j.msg||d[j.err];return j.result}x.prototype.push=function(A,T){var j,F,O=this.strm,B=this.options.chunkSize;if(this.ended)return!1;F=T===~~T?T:T===!0?4:0,typeof A=="string"?O.input=u.string2buf(A):m.call(A)==="[object ArrayBuffer]"?O.input=new Uint8Array(A):O.input=A,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new l.Buf8(B),O.next_out=0,O.avail_out=B),(j=o.deflate(O,F))!==1&&j!==v)return this.onEnd(j),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||F!==4&&F!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(l.shrinkBuf(O.output,O.next_out))):this.onData(l.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&j!==1);return F===4?(j=o.deflateEnd(this.strm),this.onEnd(j),this.ended=!0,j===v):F!==2||(this.onEnd(v),!(O.avail_out=0))},x.prototype.onData=function(A){this.chunks.push(A)},x.prototype.onEnd=function(A){A===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},s.Deflate=x,s.deflate=k,s.deflateRaw=function(A,T){return(T=T||{}).raw=!0,k(A,T)},s.gzip=function(A,T){return(T=T||{}).gzip=!0,k(A,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,a,s){var o=r("./zlib/inflate"),l=r("./utils/common"),u=r("./utils/strings"),d=r("./zlib/constants"),p=r("./zlib/messages"),m=r("./zlib/zstream"),v=r("./zlib/gzheader"),y=Object.prototype.toString;function g(x){if(!(this instanceof g))return new g(x);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},x||{});var k=this.options;k.raw&&0<=k.windowBits&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(0<=k.windowBits&&k.windowBits<16)||x&&x.windowBits||(k.windowBits+=32),15<k.windowBits&&k.windowBits<48&&!(15&k.windowBits)&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var A=o.inflateInit2(this.strm,k.windowBits);if(A!==d.Z_OK)throw new Error(p[A]);this.header=new v,o.inflateGetHeader(this.strm,this.header)}function _(x,k){var A=new g(k);if(A.push(x,!0),A.err)throw A.msg||p[A.err];return A.result}g.prototype.push=function(x,k){var A,T,j,F,O,B,L=this.strm,V=this.options.chunkSize,q=this.options.dictionary,D=!1;if(this.ended)return!1;T=k===~~k?k:k===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof x=="string"?L.input=u.binstring2buf(x):y.call(x)==="[object ArrayBuffer]"?L.input=new Uint8Array(x):L.input=x,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new l.Buf8(V),L.next_out=0,L.avail_out=V),(A=o.inflate(L,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&q&&(B=typeof q=="string"?u.string2buf(q):y.call(q)==="[object ArrayBuffer]"?new Uint8Array(q):q,A=o.inflateSetDictionary(this.strm,B)),A===d.Z_BUF_ERROR&&D===!0&&(A=d.Z_OK,D=!1),A!==d.Z_STREAM_END&&A!==d.Z_OK)return this.onEnd(A),!(this.ended=!0);L.next_out&&(L.avail_out!==0&&A!==d.Z_STREAM_END&&(L.avail_in!==0||T!==d.Z_FINISH&&T!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(j=u.utf8border(L.output,L.next_out),F=L.next_out-j,O=u.buf2string(L.output,j),L.next_out=F,L.avail_out=V-F,F&&l.arraySet(L.output,L.output,j,F,0),this.onData(O)):this.onData(l.shrinkBuf(L.output,L.next_out)))),L.avail_in===0&&L.avail_out===0&&(D=!0)}while((0<L.avail_in||L.avail_out===0)&&A!==d.Z_STREAM_END);return A===d.Z_STREAM_END&&(T=d.Z_FINISH),T===d.Z_FINISH?(A=o.inflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===d.Z_OK):T!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(L.avail_out=0))},g.prototype.onData=function(x){this.chunks.push(x)},g.prototype.onEnd=function(x){x===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},s.Inflate=g,s.inflate=_,s.inflateRaw=function(x,k){return(k=k||{}).raw=!0,_(x,k)},s.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,a,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(d){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var m=p.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var v in m)m.hasOwnProperty(v)&&(d[v]=m[v])}}return d},s.shrinkBuf=function(d,p){return d.length===p?d:d.subarray?d.subarray(0,p):(d.length=p,d)};var l={arraySet:function(d,p,m,v,y){if(p.subarray&&d.subarray)d.set(p.subarray(m,m+v),y);else for(var g=0;g<v;g++)d[y+g]=p[m+g]},flattenChunks:function(d){var p,m,v,y,g,_;for(p=v=0,m=d.length;p<m;p++)v+=d[p].length;for(_=new Uint8Array(v),p=y=0,m=d.length;p<m;p++)g=d[p],_.set(g,y),y+=g.length;return _}},u={arraySet:function(d,p,m,v,y){for(var g=0;g<v;g++)d[y+g]=p[m+g]},flattenChunks:function(d){return[].concat.apply([],d)}};s.setTyped=function(d){d?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,l)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,u))},s.setTyped(o)},{}],42:[function(r,a,s){var o=r("./common"),l=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var d=new o.Buf8(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function m(v,y){if(y<65537&&(v.subarray&&u||!v.subarray&&l))return String.fromCharCode.apply(null,o.shrinkBuf(v,y));for(var g="",_=0;_<y;_++)g+=String.fromCharCode(v[_]);return g}d[254]=d[254]=1,s.string2buf=function(v){var y,g,_,x,k,A=v.length,T=0;for(x=0;x<A;x++)(64512&(g=v.charCodeAt(x)))==55296&&x+1<A&&(64512&(_=v.charCodeAt(x+1)))==56320&&(g=65536+(g-55296<<10)+(_-56320),x++),T+=g<128?1:g<2048?2:g<65536?3:4;for(y=new o.Buf8(T),x=k=0;k<T;x++)(64512&(g=v.charCodeAt(x)))==55296&&x+1<A&&(64512&(_=v.charCodeAt(x+1)))==56320&&(g=65536+(g-55296<<10)+(_-56320),x++),g<128?y[k++]=g:(g<2048?y[k++]=192|g>>>6:(g<65536?y[k++]=224|g>>>12:(y[k++]=240|g>>>18,y[k++]=128|g>>>12&63),y[k++]=128|g>>>6&63),y[k++]=128|63&g);return y},s.buf2binstring=function(v){return m(v,v.length)},s.binstring2buf=function(v){for(var y=new o.Buf8(v.length),g=0,_=y.length;g<_;g++)y[g]=v.charCodeAt(g);return y},s.buf2string=function(v,y){var g,_,x,k,A=y||v.length,T=new Array(2*A);for(g=_=0;g<A;)if((x=v[g++])<128)T[_++]=x;else if(4<(k=d[x]))T[_++]=65533,g+=k-1;else{for(x&=k===2?31:k===3?15:7;1<k&&g<A;)x=x<<6|63&v[g++],k--;1<k?T[_++]=65533:x<65536?T[_++]=x:(x-=65536,T[_++]=55296|x>>10&1023,T[_++]=56320|1023&x)}return m(T,_)},s.utf8border=function(v,y){var g;for((y=y||v.length)>v.length&&(y=v.length),g=y-1;0<=g&&(192&v[g])==128;)g--;return g<0||g===0?y:g+d[v[g]]>y?g:y}},{"./common":41}],43:[function(r,a,s){a.exports=function(o,l,u,d){for(var p=65535&o|0,m=o>>>16&65535|0,v=0;u!==0;){for(u-=v=2e3<u?2e3:u;m=m+(p=p+l[d++]|0)|0,--v;);p%=65521,m%=65521}return p|m<<16|0}},{}],44:[function(r,a,s){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,a,s){var o=function(){for(var l,u=[],d=0;d<256;d++){l=d;for(var p=0;p<8;p++)l=1&l?3988292384^l>>>1:l>>>1;u[d]=l}return u}();a.exports=function(l,u,d,p){var m=o,v=p+d;l^=-1;for(var y=p;y<v;y++)l=l>>>8^m[255&(l^u[y])];return-1^l}},{}],46:[function(r,a,s){var o,l=r("../utils/common"),u=r("./trees"),d=r("./adler32"),p=r("./crc32"),m=r("./messages"),v=0,y=4,g=0,_=-2,x=-1,k=4,A=2,T=8,j=9,F=286,O=30,B=19,L=2*F+1,V=15,q=3,D=258,X=D+q+1,M=42,Y=113,w=1,P=2,_e=3,se=4;function ue(S,ce){return S.msg=m[ce],ce}function z(S){return(S<<1)-(4<S?9:0)}function Se(S){for(var ce=S.length;0<=--ce;)S[ce]=0}function ae(S){var ce=S.state,W=ce.pending;W>S.avail_out&&(W=S.avail_out),W!==0&&(l.arraySet(S.output,ce.pending_buf,ce.pending_out,W,S.next_out),S.next_out+=W,ce.pending_out+=W,S.total_out+=W,S.avail_out-=W,ce.pending-=W,ce.pending===0&&(ce.pending_out=0))}function R(S,ce){u._tr_flush_block(S,0<=S.block_start?S.block_start:-1,S.strstart-S.block_start,ce),S.block_start=S.strstart,ae(S.strm)}function Ie(S,ce){S.pending_buf[S.pending++]=ce}function le(S,ce){S.pending_buf[S.pending++]=ce>>>8&255,S.pending_buf[S.pending++]=255&ce}function ne(S,ce){var W,$,C=S.max_chain_length,J=S.strstart,ge=S.prev_length,be=S.nice_match,ee=S.strstart>S.w_size-X?S.strstart-(S.w_size-X):0,re=S.window,he=S.w_mask,Z=S.prev,ie=S.strstart+D,ke=re[J+ge-1],Te=re[J+ge];S.prev_length>=S.good_match&&(C>>=2),be>S.lookahead&&(be=S.lookahead);do if(re[(W=ce)+ge]===Te&&re[W+ge-1]===ke&&re[W]===re[J]&&re[++W]===re[J+1]){J+=2,W++;do;while(re[++J]===re[++W]&&re[++J]===re[++W]&&re[++J]===re[++W]&&re[++J]===re[++W]&&re[++J]===re[++W]&&re[++J]===re[++W]&&re[++J]===re[++W]&&re[++J]===re[++W]&&J<ie);if($=D-(ie-J),J=ie-D,ge<$){if(S.match_start=ce,be<=(ge=$))break;ke=re[J+ge-1],Te=re[J+ge]}}while((ce=Z[ce&he])>ee&&--C!=0);return ge<=S.lookahead?ge:S.lookahead}function Ge(S){var ce,W,$,C,J,ge,be,ee,re,he,Z=S.w_size;do{if(C=S.window_size-S.lookahead-S.strstart,S.strstart>=Z+(Z-X)){for(l.arraySet(S.window,S.window,Z,Z,0),S.match_start-=Z,S.strstart-=Z,S.block_start-=Z,ce=W=S.hash_size;$=S.head[--ce],S.head[ce]=Z<=$?$-Z:0,--W;);for(ce=W=Z;$=S.prev[--ce],S.prev[ce]=Z<=$?$-Z:0,--W;);C+=Z}if(S.strm.avail_in===0)break;if(ge=S.strm,be=S.window,ee=S.strstart+S.lookahead,re=C,he=void 0,he=ge.avail_in,re<he&&(he=re),W=he===0?0:(ge.avail_in-=he,l.arraySet(be,ge.input,ge.next_in,he,ee),ge.state.wrap===1?ge.adler=d(ge.adler,be,he,ee):ge.state.wrap===2&&(ge.adler=p(ge.adler,be,he,ee)),ge.next_in+=he,ge.total_in+=he,he),S.lookahead+=W,S.lookahead+S.insert>=q)for(J=S.strstart-S.insert,S.ins_h=S.window[J],S.ins_h=(S.ins_h<<S.hash_shift^S.window[J+1])&S.hash_mask;S.insert&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[J+q-1])&S.hash_mask,S.prev[J&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=J,J++,S.insert--,!(S.lookahead+S.insert<q)););}while(S.lookahead<X&&S.strm.avail_in!==0)}function Je(S,ce){for(var W,$;;){if(S.lookahead<X){if(Ge(S),S.lookahead<X&&ce===v)return w;if(S.lookahead===0)break}if(W=0,S.lookahead>=q&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+q-1])&S.hash_mask,W=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),W!==0&&S.strstart-W<=S.w_size-X&&(S.match_length=ne(S,W)),S.match_length>=q)if($=u._tr_tally(S,S.strstart-S.match_start,S.match_length-q),S.lookahead-=S.match_length,S.match_length<=S.max_lazy_match&&S.lookahead>=q){for(S.match_length--;S.strstart++,S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+q-1])&S.hash_mask,W=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart,--S.match_length!=0;);S.strstart++}else S.strstart+=S.match_length,S.match_length=0,S.ins_h=S.window[S.strstart],S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+1])&S.hash_mask;else $=u._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++;if($&&(R(S,!1),S.strm.avail_out===0))return w}return S.insert=S.strstart<q-1?S.strstart:q-1,ce===y?(R(S,!0),S.strm.avail_out===0?_e:se):S.last_lit&&(R(S,!1),S.strm.avail_out===0)?w:P}function de(S,ce){for(var W,$,C;;){if(S.lookahead<X){if(Ge(S),S.lookahead<X&&ce===v)return w;if(S.lookahead===0)break}if(W=0,S.lookahead>=q&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+q-1])&S.hash_mask,W=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),S.prev_length=S.match_length,S.prev_match=S.match_start,S.match_length=q-1,W!==0&&S.prev_length<S.max_lazy_match&&S.strstart-W<=S.w_size-X&&(S.match_length=ne(S,W),S.match_length<=5&&(S.strategy===1||S.match_length===q&&4096<S.strstart-S.match_start)&&(S.match_length=q-1)),S.prev_length>=q&&S.match_length<=S.prev_length){for(C=S.strstart+S.lookahead-q,$=u._tr_tally(S,S.strstart-1-S.prev_match,S.prev_length-q),S.lookahead-=S.prev_length-1,S.prev_length-=2;++S.strstart<=C&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+q-1])&S.hash_mask,W=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),--S.prev_length!=0;);if(S.match_available=0,S.match_length=q-1,S.strstart++,$&&(R(S,!1),S.strm.avail_out===0))return w}else if(S.match_available){if(($=u._tr_tally(S,0,S.window[S.strstart-1]))&&R(S,!1),S.strstart++,S.lookahead--,S.strm.avail_out===0)return w}else S.match_available=1,S.strstart++,S.lookahead--}return S.match_available&&($=u._tr_tally(S,0,S.window[S.strstart-1]),S.match_available=0),S.insert=S.strstart<q-1?S.strstart:q-1,ce===y?(R(S,!0),S.strm.avail_out===0?_e:se):S.last_lit&&(R(S,!1),S.strm.avail_out===0)?w:P}function Oe(S,ce,W,$,C){this.good_length=S,this.max_lazy=ce,this.nice_length=W,this.max_chain=$,this.func=C}function ve(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*L),this.dyn_dtree=new l.Buf16(2*(2*O+1)),this.bl_tree=new l.Buf16(2*(2*B+1)),Se(this.dyn_ltree),Se(this.dyn_dtree),Se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(V+1),this.heap=new l.Buf16(2*F+1),Se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*F+1),Se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Re(S){var ce;return S&&S.state?(S.total_in=S.total_out=0,S.data_type=A,(ce=S.state).pending=0,ce.pending_out=0,ce.wrap<0&&(ce.wrap=-ce.wrap),ce.status=ce.wrap?M:Y,S.adler=ce.wrap===2?0:1,ce.last_flush=v,u._tr_init(ce),g):ue(S,_)}function Ye(S){var ce=Re(S);return ce===g&&function(W){W.window_size=2*W.w_size,Se(W.head),W.max_lazy_match=o[W.level].max_lazy,W.good_match=o[W.level].good_length,W.nice_match=o[W.level].nice_length,W.max_chain_length=o[W.level].max_chain,W.strstart=0,W.block_start=0,W.lookahead=0,W.insert=0,W.match_length=W.prev_length=q-1,W.match_available=0,W.ins_h=0}(S.state),ce}function Ve(S,ce,W,$,C,J){if(!S)return _;var ge=1;if(ce===x&&(ce=6),$<0?(ge=0,$=-$):15<$&&(ge=2,$-=16),C<1||j<C||W!==T||$<8||15<$||ce<0||9<ce||J<0||k<J)return ue(S,_);$===8&&($=9);var be=new ve;return(S.state=be).strm=S,be.wrap=ge,be.gzhead=null,be.w_bits=$,be.w_size=1<<be.w_bits,be.w_mask=be.w_size-1,be.hash_bits=C+7,be.hash_size=1<<be.hash_bits,be.hash_mask=be.hash_size-1,be.hash_shift=~~((be.hash_bits+q-1)/q),be.window=new l.Buf8(2*be.w_size),be.head=new l.Buf16(be.hash_size),be.prev=new l.Buf16(be.w_size),be.lit_bufsize=1<<C+6,be.pending_buf_size=4*be.lit_bufsize,be.pending_buf=new l.Buf8(be.pending_buf_size),be.d_buf=1*be.lit_bufsize,be.l_buf=3*be.lit_bufsize,be.level=ce,be.strategy=J,be.method=W,Ye(S)}o=[new Oe(0,0,0,0,function(S,ce){var W=65535;for(W>S.pending_buf_size-5&&(W=S.pending_buf_size-5);;){if(S.lookahead<=1){if(Ge(S),S.lookahead===0&&ce===v)return w;if(S.lookahead===0)break}S.strstart+=S.lookahead,S.lookahead=0;var $=S.block_start+W;if((S.strstart===0||S.strstart>=$)&&(S.lookahead=S.strstart-$,S.strstart=$,R(S,!1),S.strm.avail_out===0)||S.strstart-S.block_start>=S.w_size-X&&(R(S,!1),S.strm.avail_out===0))return w}return S.insert=0,ce===y?(R(S,!0),S.strm.avail_out===0?_e:se):(S.strstart>S.block_start&&(R(S,!1),S.strm.avail_out),w)}),new Oe(4,4,8,4,Je),new Oe(4,5,16,8,Je),new Oe(4,6,32,32,Je),new Oe(4,4,16,16,de),new Oe(8,16,32,32,de),new Oe(8,16,128,128,de),new Oe(8,32,128,256,de),new Oe(32,128,258,1024,de),new Oe(32,258,258,4096,de)],s.deflateInit=function(S,ce){return Ve(S,ce,T,15,8,0)},s.deflateInit2=Ve,s.deflateReset=Ye,s.deflateResetKeep=Re,s.deflateSetHeader=function(S,ce){return S&&S.state?S.state.wrap!==2?_:(S.state.gzhead=ce,g):_},s.deflate=function(S,ce){var W,$,C,J;if(!S||!S.state||5<ce||ce<0)return S?ue(S,_):_;if($=S.state,!S.output||!S.input&&S.avail_in!==0||$.status===666&&ce!==y)return ue(S,S.avail_out===0?-5:_);if($.strm=S,W=$.last_flush,$.last_flush=ce,$.status===M)if($.wrap===2)S.adler=0,Ie($,31),Ie($,139),Ie($,8),$.gzhead?(Ie($,($.gzhead.text?1:0)+($.gzhead.hcrc?2:0)+($.gzhead.extra?4:0)+($.gzhead.name?8:0)+($.gzhead.comment?16:0)),Ie($,255&$.gzhead.time),Ie($,$.gzhead.time>>8&255),Ie($,$.gzhead.time>>16&255),Ie($,$.gzhead.time>>24&255),Ie($,$.level===9?2:2<=$.strategy||$.level<2?4:0),Ie($,255&$.gzhead.os),$.gzhead.extra&&$.gzhead.extra.length&&(Ie($,255&$.gzhead.extra.length),Ie($,$.gzhead.extra.length>>8&255)),$.gzhead.hcrc&&(S.adler=p(S.adler,$.pending_buf,$.pending,0)),$.gzindex=0,$.status=69):(Ie($,0),Ie($,0),Ie($,0),Ie($,0),Ie($,0),Ie($,$.level===9?2:2<=$.strategy||$.level<2?4:0),Ie($,3),$.status=Y);else{var ge=T+($.w_bits-8<<4)<<8;ge|=(2<=$.strategy||$.level<2?0:$.level<6?1:$.level===6?2:3)<<6,$.strstart!==0&&(ge|=32),ge+=31-ge%31,$.status=Y,le($,ge),$.strstart!==0&&(le($,S.adler>>>16),le($,65535&S.adler)),S.adler=1}if($.status===69)if($.gzhead.extra){for(C=$.pending;$.gzindex<(65535&$.gzhead.extra.length)&&($.pending!==$.pending_buf_size||($.gzhead.hcrc&&$.pending>C&&(S.adler=p(S.adler,$.pending_buf,$.pending-C,C)),ae(S),C=$.pending,$.pending!==$.pending_buf_size));)Ie($,255&$.gzhead.extra[$.gzindex]),$.gzindex++;$.gzhead.hcrc&&$.pending>C&&(S.adler=p(S.adler,$.pending_buf,$.pending-C,C)),$.gzindex===$.gzhead.extra.length&&($.gzindex=0,$.status=73)}else $.status=73;if($.status===73)if($.gzhead.name){C=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>C&&(S.adler=p(S.adler,$.pending_buf,$.pending-C,C)),ae(S),C=$.pending,$.pending===$.pending_buf_size)){J=1;break}J=$.gzindex<$.gzhead.name.length?255&$.gzhead.name.charCodeAt($.gzindex++):0,Ie($,J)}while(J!==0);$.gzhead.hcrc&&$.pending>C&&(S.adler=p(S.adler,$.pending_buf,$.pending-C,C)),J===0&&($.gzindex=0,$.status=91)}else $.status=91;if($.status===91)if($.gzhead.comment){C=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>C&&(S.adler=p(S.adler,$.pending_buf,$.pending-C,C)),ae(S),C=$.pending,$.pending===$.pending_buf_size)){J=1;break}J=$.gzindex<$.gzhead.comment.length?255&$.gzhead.comment.charCodeAt($.gzindex++):0,Ie($,J)}while(J!==0);$.gzhead.hcrc&&$.pending>C&&(S.adler=p(S.adler,$.pending_buf,$.pending-C,C)),J===0&&($.status=103)}else $.status=103;if($.status===103&&($.gzhead.hcrc?($.pending+2>$.pending_buf_size&&ae(S),$.pending+2<=$.pending_buf_size&&(Ie($,255&S.adler),Ie($,S.adler>>8&255),S.adler=0,$.status=Y)):$.status=Y),$.pending!==0){if(ae(S),S.avail_out===0)return $.last_flush=-1,g}else if(S.avail_in===0&&z(ce)<=z(W)&&ce!==y)return ue(S,-5);if($.status===666&&S.avail_in!==0)return ue(S,-5);if(S.avail_in!==0||$.lookahead!==0||ce!==v&&$.status!==666){var be=$.strategy===2?function(ee,re){for(var he;;){if(ee.lookahead===0&&(Ge(ee),ee.lookahead===0)){if(re===v)return w;break}if(ee.match_length=0,he=u._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++,he&&(R(ee,!1),ee.strm.avail_out===0))return w}return ee.insert=0,re===y?(R(ee,!0),ee.strm.avail_out===0?_e:se):ee.last_lit&&(R(ee,!1),ee.strm.avail_out===0)?w:P}($,ce):$.strategy===3?function(ee,re){for(var he,Z,ie,ke,Te=ee.window;;){if(ee.lookahead<=D){if(Ge(ee),ee.lookahead<=D&&re===v)return w;if(ee.lookahead===0)break}if(ee.match_length=0,ee.lookahead>=q&&0<ee.strstart&&(Z=Te[ie=ee.strstart-1])===Te[++ie]&&Z===Te[++ie]&&Z===Te[++ie]){ke=ee.strstart+D;do;while(Z===Te[++ie]&&Z===Te[++ie]&&Z===Te[++ie]&&Z===Te[++ie]&&Z===Te[++ie]&&Z===Te[++ie]&&Z===Te[++ie]&&Z===Te[++ie]&&ie<ke);ee.match_length=D-(ke-ie),ee.match_length>ee.lookahead&&(ee.match_length=ee.lookahead)}if(ee.match_length>=q?(he=u._tr_tally(ee,1,ee.match_length-q),ee.lookahead-=ee.match_length,ee.strstart+=ee.match_length,ee.match_length=0):(he=u._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++),he&&(R(ee,!1),ee.strm.avail_out===0))return w}return ee.insert=0,re===y?(R(ee,!0),ee.strm.avail_out===0?_e:se):ee.last_lit&&(R(ee,!1),ee.strm.avail_out===0)?w:P}($,ce):o[$.level].func($,ce);if(be!==_e&&be!==se||($.status=666),be===w||be===_e)return S.avail_out===0&&($.last_flush=-1),g;if(be===P&&(ce===1?u._tr_align($):ce!==5&&(u._tr_stored_block($,0,0,!1),ce===3&&(Se($.head),$.lookahead===0&&($.strstart=0,$.block_start=0,$.insert=0))),ae(S),S.avail_out===0))return $.last_flush=-1,g}return ce!==y?g:$.wrap<=0?1:($.wrap===2?(Ie($,255&S.adler),Ie($,S.adler>>8&255),Ie($,S.adler>>16&255),Ie($,S.adler>>24&255),Ie($,255&S.total_in),Ie($,S.total_in>>8&255),Ie($,S.total_in>>16&255),Ie($,S.total_in>>24&255)):(le($,S.adler>>>16),le($,65535&S.adler)),ae(S),0<$.wrap&&($.wrap=-$.wrap),$.pending!==0?g:1)},s.deflateEnd=function(S){var ce;return S&&S.state?(ce=S.state.status)!==M&&ce!==69&&ce!==73&&ce!==91&&ce!==103&&ce!==Y&&ce!==666?ue(S,_):(S.state=null,ce===Y?ue(S,-3):g):_},s.deflateSetDictionary=function(S,ce){var W,$,C,J,ge,be,ee,re,he=ce.length;if(!S||!S.state||(J=(W=S.state).wrap)===2||J===1&&W.status!==M||W.lookahead)return _;for(J===1&&(S.adler=d(S.adler,ce,he,0)),W.wrap=0,he>=W.w_size&&(J===0&&(Se(W.head),W.strstart=0,W.block_start=0,W.insert=0),re=new l.Buf8(W.w_size),l.arraySet(re,ce,he-W.w_size,W.w_size,0),ce=re,he=W.w_size),ge=S.avail_in,be=S.next_in,ee=S.input,S.avail_in=he,S.next_in=0,S.input=ce,Ge(W);W.lookahead>=q;){for($=W.strstart,C=W.lookahead-(q-1);W.ins_h=(W.ins_h<<W.hash_shift^W.window[$+q-1])&W.hash_mask,W.prev[$&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=$,$++,--C;);W.strstart=$,W.lookahead=q-1,Ge(W)}return W.strstart+=W.lookahead,W.block_start=W.strstart,W.insert=W.lookahead,W.lookahead=0,W.match_length=W.prev_length=q-1,W.match_available=0,S.next_in=be,S.input=ee,S.avail_in=ge,W.wrap=J,g},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,a,s){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,a,s){a.exports=function(o,l){var u,d,p,m,v,y,g,_,x,k,A,T,j,F,O,B,L,V,q,D,X,M,Y,w,P;u=o.state,d=o.next_in,w=o.input,p=d+(o.avail_in-5),m=o.next_out,P=o.output,v=m-(l-o.avail_out),y=m+(o.avail_out-257),g=u.dmax,_=u.wsize,x=u.whave,k=u.wnext,A=u.window,T=u.hold,j=u.bits,F=u.lencode,O=u.distcode,B=(1<<u.lenbits)-1,L=(1<<u.distbits)-1;e:do{j<15&&(T+=w[d++]<<j,j+=8,T+=w[d++]<<j,j+=8),V=F[T&B];t:for(;;){if(T>>>=q=V>>>24,j-=q,(q=V>>>16&255)===0)P[m++]=65535&V;else{if(!(16&q)){if(!(64&q)){V=F[(65535&V)+(T&(1<<q)-1)];continue t}if(32&q){u.mode=12;break e}o.msg="invalid literal/length code",u.mode=30;break e}D=65535&V,(q&=15)&&(j<q&&(T+=w[d++]<<j,j+=8),D+=T&(1<<q)-1,T>>>=q,j-=q),j<15&&(T+=w[d++]<<j,j+=8,T+=w[d++]<<j,j+=8),V=O[T&L];n:for(;;){if(T>>>=q=V>>>24,j-=q,!(16&(q=V>>>16&255))){if(!(64&q)){V=O[(65535&V)+(T&(1<<q)-1)];continue n}o.msg="invalid distance code",u.mode=30;break e}if(X=65535&V,j<(q&=15)&&(T+=w[d++]<<j,(j+=8)<q&&(T+=w[d++]<<j,j+=8)),g<(X+=T&(1<<q)-1)){o.msg="invalid distance too far back",u.mode=30;break e}if(T>>>=q,j-=q,(q=m-v)<X){if(x<(q=X-q)&&u.sane){o.msg="invalid distance too far back",u.mode=30;break e}if(Y=A,(M=0)===k){if(M+=_-q,q<D){for(D-=q;P[m++]=A[M++],--q;);M=m-X,Y=P}}else if(k<q){if(M+=_+k-q,(q-=k)<D){for(D-=q;P[m++]=A[M++],--q;);if(M=0,k<D){for(D-=q=k;P[m++]=A[M++],--q;);M=m-X,Y=P}}}else if(M+=k-q,q<D){for(D-=q;P[m++]=A[M++],--q;);M=m-X,Y=P}for(;2<D;)P[m++]=Y[M++],P[m++]=Y[M++],P[m++]=Y[M++],D-=3;D&&(P[m++]=Y[M++],1<D&&(P[m++]=Y[M++]))}else{for(M=m-X;P[m++]=P[M++],P[m++]=P[M++],P[m++]=P[M++],2<(D-=3););D&&(P[m++]=P[M++],1<D&&(P[m++]=P[M++]))}break}}break}}while(d<p&&m<y);d-=D=j>>3,T&=(1<<(j-=D<<3))-1,o.next_in=d,o.next_out=m,o.avail_in=d<p?p-d+5:5-(d-p),o.avail_out=m<y?y-m+257:257-(m-y),u.hold=T,u.bits=j}},{}],49:[function(r,a,s){var o=r("../utils/common"),l=r("./adler32"),u=r("./crc32"),d=r("./inffast"),p=r("./inftrees"),m=1,v=2,y=0,g=-2,_=1,x=852,k=592;function A(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function j(M){var Y;return M&&M.state?(Y=M.state,M.total_in=M.total_out=Y.total=0,M.msg="",Y.wrap&&(M.adler=1&Y.wrap),Y.mode=_,Y.last=0,Y.havedict=0,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new o.Buf32(x),Y.distcode=Y.distdyn=new o.Buf32(k),Y.sane=1,Y.back=-1,y):g}function F(M){var Y;return M&&M.state?((Y=M.state).wsize=0,Y.whave=0,Y.wnext=0,j(M)):g}function O(M,Y){var w,P;return M&&M.state?(P=M.state,Y<0?(w=0,Y=-Y):(w=1+(Y>>4),Y<48&&(Y&=15)),Y&&(Y<8||15<Y)?g:(P.window!==null&&P.wbits!==Y&&(P.window=null),P.wrap=w,P.wbits=Y,F(M))):g}function B(M,Y){var w,P;return M?(P=new T,(M.state=P).window=null,(w=O(M,Y))!==y&&(M.state=null),w):g}var L,V,q=!0;function D(M){if(q){var Y;for(L=new o.Buf32(512),V=new o.Buf32(32),Y=0;Y<144;)M.lens[Y++]=8;for(;Y<256;)M.lens[Y++]=9;for(;Y<280;)M.lens[Y++]=7;for(;Y<288;)M.lens[Y++]=8;for(p(m,M.lens,0,288,L,0,M.work,{bits:9}),Y=0;Y<32;)M.lens[Y++]=5;p(v,M.lens,0,32,V,0,M.work,{bits:5}),q=!1}M.lencode=L,M.lenbits=9,M.distcode=V,M.distbits=5}function X(M,Y,w,P){var _e,se=M.state;return se.window===null&&(se.wsize=1<<se.wbits,se.wnext=0,se.whave=0,se.window=new o.Buf8(se.wsize)),P>=se.wsize?(o.arraySet(se.window,Y,w-se.wsize,se.wsize,0),se.wnext=0,se.whave=se.wsize):(P<(_e=se.wsize-se.wnext)&&(_e=P),o.arraySet(se.window,Y,w-P,_e,se.wnext),(P-=_e)?(o.arraySet(se.window,Y,w-P,P,0),se.wnext=P,se.whave=se.wsize):(se.wnext+=_e,se.wnext===se.wsize&&(se.wnext=0),se.whave<se.wsize&&(se.whave+=_e))),0}s.inflateReset=F,s.inflateReset2=O,s.inflateResetKeep=j,s.inflateInit=function(M){return B(M,15)},s.inflateInit2=B,s.inflate=function(M,Y){var w,P,_e,se,ue,z,Se,ae,R,Ie,le,ne,Ge,Je,de,Oe,ve,Re,Ye,Ve,S,ce,W,$,C=0,J=new o.Buf8(4),ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return g;(w=M.state).mode===12&&(w.mode=13),ue=M.next_out,_e=M.output,Se=M.avail_out,se=M.next_in,P=M.input,z=M.avail_in,ae=w.hold,R=w.bits,Ie=z,le=Se,ce=y;e:for(;;)switch(w.mode){case _:if(w.wrap===0){w.mode=13;break}for(;R<16;){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}if(2&w.wrap&&ae===35615){J[w.check=0]=255&ae,J[1]=ae>>>8&255,w.check=u(w.check,J,2,0),R=ae=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&ae)<<8)+(ae>>8))%31){M.msg="incorrect header check",w.mode=30;break}if((15&ae)!=8){M.msg="unknown compression method",w.mode=30;break}if(R-=4,S=8+(15&(ae>>>=4)),w.wbits===0)w.wbits=S;else if(S>w.wbits){M.msg="invalid window size",w.mode=30;break}w.dmax=1<<S,M.adler=w.check=1,w.mode=512&ae?10:12,R=ae=0;break;case 2:for(;R<16;){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}if(w.flags=ae,(255&w.flags)!=8){M.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){M.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=ae>>8&1),512&w.flags&&(J[0]=255&ae,J[1]=ae>>>8&255,w.check=u(w.check,J,2,0)),R=ae=0,w.mode=3;case 3:for(;R<32;){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}w.head&&(w.head.time=ae),512&w.flags&&(J[0]=255&ae,J[1]=ae>>>8&255,J[2]=ae>>>16&255,J[3]=ae>>>24&255,w.check=u(w.check,J,4,0)),R=ae=0,w.mode=4;case 4:for(;R<16;){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}w.head&&(w.head.xflags=255&ae,w.head.os=ae>>8),512&w.flags&&(J[0]=255&ae,J[1]=ae>>>8&255,w.check=u(w.check,J,2,0)),R=ae=0,w.mode=5;case 5:if(1024&w.flags){for(;R<16;){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}w.length=ae,w.head&&(w.head.extra_len=ae),512&w.flags&&(J[0]=255&ae,J[1]=ae>>>8&255,w.check=u(w.check,J,2,0)),R=ae=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(z<(ne=w.length)&&(ne=z),ne&&(w.head&&(S=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),o.arraySet(w.head.extra,P,se,ne,S)),512&w.flags&&(w.check=u(w.check,P,ne,se)),z-=ne,se+=ne,w.length-=ne),w.length))break e;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(z===0)break e;for(ne=0;S=P[se+ne++],w.head&&S&&w.length<65536&&(w.head.name+=String.fromCharCode(S)),S&&ne<z;);if(512&w.flags&&(w.check=u(w.check,P,ne,se)),z-=ne,se+=ne,S)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(z===0)break e;for(ne=0;S=P[se+ne++],w.head&&S&&w.length<65536&&(w.head.comment+=String.fromCharCode(S)),S&&ne<z;);if(512&w.flags&&(w.check=u(w.check,P,ne,se)),z-=ne,se+=ne,S)break e}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;R<16;){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}if(ae!==(65535&w.check)){M.msg="header crc mismatch",w.mode=30;break}R=ae=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),M.adler=w.check=0,w.mode=12;break;case 10:for(;R<32;){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}M.adler=w.check=A(ae),R=ae=0,w.mode=11;case 11:if(w.havedict===0)return M.next_out=ue,M.avail_out=Se,M.next_in=se,M.avail_in=z,w.hold=ae,w.bits=R,2;M.adler=w.check=1,w.mode=12;case 12:if(Y===5||Y===6)break e;case 13:if(w.last){ae>>>=7&R,R-=7&R,w.mode=27;break}for(;R<3;){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}switch(w.last=1&ae,R-=1,3&(ae>>>=1)){case 0:w.mode=14;break;case 1:if(D(w),w.mode=20,Y!==6)break;ae>>>=2,R-=2;break e;case 2:w.mode=17;break;case 3:M.msg="invalid block type",w.mode=30}ae>>>=2,R-=2;break;case 14:for(ae>>>=7&R,R-=7&R;R<32;){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}if((65535&ae)!=(ae>>>16^65535)){M.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&ae,R=ae=0,w.mode=15,Y===6)break e;case 15:w.mode=16;case 16:if(ne=w.length){if(z<ne&&(ne=z),Se<ne&&(ne=Se),ne===0)break e;o.arraySet(_e,P,se,ne,ue),z-=ne,se+=ne,Se-=ne,ue+=ne,w.length-=ne;break}w.mode=12;break;case 17:for(;R<14;){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}if(w.nlen=257+(31&ae),ae>>>=5,R-=5,w.ndist=1+(31&ae),ae>>>=5,R-=5,w.ncode=4+(15&ae),ae>>>=4,R-=4,286<w.nlen||30<w.ndist){M.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;R<3;){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}w.lens[ge[w.have++]]=7&ae,ae>>>=3,R-=3}for(;w.have<19;)w.lens[ge[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,W={bits:w.lenbits},ce=p(0,w.lens,0,19,w.lencode,0,w.work,W),w.lenbits=W.bits,ce){M.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;Oe=(C=w.lencode[ae&(1<<w.lenbits)-1])>>>16&255,ve=65535&C,!((de=C>>>24)<=R);){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}if(ve<16)ae>>>=de,R-=de,w.lens[w.have++]=ve;else{if(ve===16){for($=de+2;R<$;){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}if(ae>>>=de,R-=de,w.have===0){M.msg="invalid bit length repeat",w.mode=30;break}S=w.lens[w.have-1],ne=3+(3&ae),ae>>>=2,R-=2}else if(ve===17){for($=de+3;R<$;){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}R-=de,S=0,ne=3+(7&(ae>>>=de)),ae>>>=3,R-=3}else{for($=de+7;R<$;){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}R-=de,S=0,ne=11+(127&(ae>>>=de)),ae>>>=7,R-=7}if(w.have+ne>w.nlen+w.ndist){M.msg="invalid bit length repeat",w.mode=30;break}for(;ne--;)w.lens[w.have++]=S}}if(w.mode===30)break;if(w.lens[256]===0){M.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,W={bits:w.lenbits},ce=p(m,w.lens,0,w.nlen,w.lencode,0,w.work,W),w.lenbits=W.bits,ce){M.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,W={bits:w.distbits},ce=p(v,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,W),w.distbits=W.bits,ce){M.msg="invalid distances set",w.mode=30;break}if(w.mode=20,Y===6)break e;case 20:w.mode=21;case 21:if(6<=z&&258<=Se){M.next_out=ue,M.avail_out=Se,M.next_in=se,M.avail_in=z,w.hold=ae,w.bits=R,d(M,le),ue=M.next_out,_e=M.output,Se=M.avail_out,se=M.next_in,P=M.input,z=M.avail_in,ae=w.hold,R=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;Oe=(C=w.lencode[ae&(1<<w.lenbits)-1])>>>16&255,ve=65535&C,!((de=C>>>24)<=R);){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}if(Oe&&!(240&Oe)){for(Re=de,Ye=Oe,Ve=ve;Oe=(C=w.lencode[Ve+((ae&(1<<Re+Ye)-1)>>Re)])>>>16&255,ve=65535&C,!(Re+(de=C>>>24)<=R);){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}ae>>>=Re,R-=Re,w.back+=Re}if(ae>>>=de,R-=de,w.back+=de,w.length=ve,Oe===0){w.mode=26;break}if(32&Oe){w.back=-1,w.mode=12;break}if(64&Oe){M.msg="invalid literal/length code",w.mode=30;break}w.extra=15&Oe,w.mode=22;case 22:if(w.extra){for($=w.extra;R<$;){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}w.length+=ae&(1<<w.extra)-1,ae>>>=w.extra,R-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;Oe=(C=w.distcode[ae&(1<<w.distbits)-1])>>>16&255,ve=65535&C,!((de=C>>>24)<=R);){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}if(!(240&Oe)){for(Re=de,Ye=Oe,Ve=ve;Oe=(C=w.distcode[Ve+((ae&(1<<Re+Ye)-1)>>Re)])>>>16&255,ve=65535&C,!(Re+(de=C>>>24)<=R);){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}ae>>>=Re,R-=Re,w.back+=Re}if(ae>>>=de,R-=de,w.back+=de,64&Oe){M.msg="invalid distance code",w.mode=30;break}w.offset=ve,w.extra=15&Oe,w.mode=24;case 24:if(w.extra){for($=w.extra;R<$;){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}w.offset+=ae&(1<<w.extra)-1,ae>>>=w.extra,R-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){M.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(Se===0)break e;if(ne=le-Se,w.offset>ne){if((ne=w.offset-ne)>w.whave&&w.sane){M.msg="invalid distance too far back",w.mode=30;break}Ge=ne>w.wnext?(ne-=w.wnext,w.wsize-ne):w.wnext-ne,ne>w.length&&(ne=w.length),Je=w.window}else Je=_e,Ge=ue-w.offset,ne=w.length;for(Se<ne&&(ne=Se),Se-=ne,w.length-=ne;_e[ue++]=Je[Ge++],--ne;);w.length===0&&(w.mode=21);break;case 26:if(Se===0)break e;_e[ue++]=w.length,Se--,w.mode=21;break;case 27:if(w.wrap){for(;R<32;){if(z===0)break e;z--,ae|=P[se++]<<R,R+=8}if(le-=Se,M.total_out+=le,w.total+=le,le&&(M.adler=w.check=w.flags?u(w.check,_e,le,ue-le):l(w.check,_e,le,ue-le)),le=Se,(w.flags?ae:A(ae))!==w.check){M.msg="incorrect data check",w.mode=30;break}R=ae=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;R<32;){if(z===0)break e;z--,ae+=P[se++]<<R,R+=8}if(ae!==(4294967295&w.total)){M.msg="incorrect length check",w.mode=30;break}R=ae=0}w.mode=29;case 29:ce=1;break e;case 30:ce=-3;break e;case 31:return-4;case 32:default:return g}return M.next_out=ue,M.avail_out=Se,M.next_in=se,M.avail_in=z,w.hold=ae,w.bits=R,(w.wsize||le!==M.avail_out&&w.mode<30&&(w.mode<27||Y!==4))&&X(M,M.output,M.next_out,le-M.avail_out)?(w.mode=31,-4):(Ie-=M.avail_in,le-=M.avail_out,M.total_in+=Ie,M.total_out+=le,w.total+=le,w.wrap&&le&&(M.adler=w.check=w.flags?u(w.check,_e,le,M.next_out-le):l(w.check,_e,le,M.next_out-le)),M.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(Ie==0&&le===0||Y===4)&&ce===y&&(ce=-5),ce)},s.inflateEnd=function(M){if(!M||!M.state)return g;var Y=M.state;return Y.window&&(Y.window=null),M.state=null,y},s.inflateGetHeader=function(M,Y){var w;return M&&M.state&&2&(w=M.state).wrap?((w.head=Y).done=!1,y):g},s.inflateSetDictionary=function(M,Y){var w,P=Y.length;return M&&M.state?(w=M.state).wrap!==0&&w.mode!==11?g:w.mode===11&&l(1,Y,P,0)!==w.check?-3:X(M,Y,P,P)?(w.mode=31,-4):(w.havedict=1,y):g},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,a,s){var o=r("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(m,v,y,g,_,x,k,A){var T,j,F,O,B,L,V,q,D,X=A.bits,M=0,Y=0,w=0,P=0,_e=0,se=0,ue=0,z=0,Se=0,ae=0,R=null,Ie=0,le=new o.Buf16(16),ne=new o.Buf16(16),Ge=null,Je=0;for(M=0;M<=15;M++)le[M]=0;for(Y=0;Y<g;Y++)le[v[y+Y]]++;for(_e=X,P=15;1<=P&&le[P]===0;P--);if(P<_e&&(_e=P),P===0)return _[x++]=20971520,_[x++]=20971520,A.bits=1,0;for(w=1;w<P&&le[w]===0;w++);for(_e<w&&(_e=w),M=z=1;M<=15;M++)if(z<<=1,(z-=le[M])<0)return-1;if(0<z&&(m===0||P!==1))return-1;for(ne[1]=0,M=1;M<15;M++)ne[M+1]=ne[M]+le[M];for(Y=0;Y<g;Y++)v[y+Y]!==0&&(k[ne[v[y+Y]]++]=Y);if(L=m===0?(R=Ge=k,19):m===1?(R=l,Ie-=257,Ge=u,Je-=257,256):(R=d,Ge=p,-1),M=w,B=x,ue=Y=ae=0,F=-1,O=(Se=1<<(se=_e))-1,m===1&&852<Se||m===2&&592<Se)return 1;for(;;){for(V=M-ue,D=k[Y]<L?(q=0,k[Y]):k[Y]>L?(q=Ge[Je+k[Y]],R[Ie+k[Y]]):(q=96,0),T=1<<M-ue,w=j=1<<se;_[B+(ae>>ue)+(j-=T)]=V<<24|q<<16|D|0,j!==0;);for(T=1<<M-1;ae&T;)T>>=1;if(T!==0?(ae&=T-1,ae+=T):ae=0,Y++,--le[M]==0){if(M===P)break;M=v[y+k[Y]]}if(_e<M&&(ae&O)!==F){for(ue===0&&(ue=_e),B+=w,z=1<<(se=M-ue);se+ue<P&&!((z-=le[se+ue])<=0);)se++,z<<=1;if(Se+=1<<se,m===1&&852<Se||m===2&&592<Se)return 1;_[F=ae&O]=_e<<24|se<<16|B-x|0}}return ae!==0&&(_[B+ae]=M-ue<<24|64<<16|0),A.bits=_e,0}},{"../utils/common":41}],51:[function(r,a,s){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,a,s){var o=r("../utils/common"),l=0,u=1;function d(C){for(var J=C.length;0<=--J;)C[J]=0}var p=0,m=29,v=256,y=v+1+m,g=30,_=19,x=2*y+1,k=15,A=16,T=7,j=256,F=16,O=17,B=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=new Array(2*(y+2));d(X);var M=new Array(2*g);d(M);var Y=new Array(512);d(Y);var w=new Array(256);d(w);var P=new Array(m);d(P);var _e,se,ue,z=new Array(g);function Se(C,J,ge,be,ee){this.static_tree=C,this.extra_bits=J,this.extra_base=ge,this.elems=be,this.max_length=ee,this.has_stree=C&&C.length}function ae(C,J){this.dyn_tree=C,this.max_code=0,this.stat_desc=J}function R(C){return C<256?Y[C]:Y[256+(C>>>7)]}function Ie(C,J){C.pending_buf[C.pending++]=255&J,C.pending_buf[C.pending++]=J>>>8&255}function le(C,J,ge){C.bi_valid>A-ge?(C.bi_buf|=J<<C.bi_valid&65535,Ie(C,C.bi_buf),C.bi_buf=J>>A-C.bi_valid,C.bi_valid+=ge-A):(C.bi_buf|=J<<C.bi_valid&65535,C.bi_valid+=ge)}function ne(C,J,ge){le(C,ge[2*J],ge[2*J+1])}function Ge(C,J){for(var ge=0;ge|=1&C,C>>>=1,ge<<=1,0<--J;);return ge>>>1}function Je(C,J,ge){var be,ee,re=new Array(k+1),he=0;for(be=1;be<=k;be++)re[be]=he=he+ge[be-1]<<1;for(ee=0;ee<=J;ee++){var Z=C[2*ee+1];Z!==0&&(C[2*ee]=Ge(re[Z]++,Z))}}function de(C){var J;for(J=0;J<y;J++)C.dyn_ltree[2*J]=0;for(J=0;J<g;J++)C.dyn_dtree[2*J]=0;for(J=0;J<_;J++)C.bl_tree[2*J]=0;C.dyn_ltree[2*j]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function Oe(C){8<C.bi_valid?Ie(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function ve(C,J,ge,be){var ee=2*J,re=2*ge;return C[ee]<C[re]||C[ee]===C[re]&&be[J]<=be[ge]}function Re(C,J,ge){for(var be=C.heap[ge],ee=ge<<1;ee<=C.heap_len&&(ee<C.heap_len&&ve(J,C.heap[ee+1],C.heap[ee],C.depth)&&ee++,!ve(J,be,C.heap[ee],C.depth));)C.heap[ge]=C.heap[ee],ge=ee,ee<<=1;C.heap[ge]=be}function Ye(C,J,ge){var be,ee,re,he,Z=0;if(C.last_lit!==0)for(;be=C.pending_buf[C.d_buf+2*Z]<<8|C.pending_buf[C.d_buf+2*Z+1],ee=C.pending_buf[C.l_buf+Z],Z++,be===0?ne(C,ee,J):(ne(C,(re=w[ee])+v+1,J),(he=L[re])!==0&&le(C,ee-=P[re],he),ne(C,re=R(--be),ge),(he=V[re])!==0&&le(C,be-=z[re],he)),Z<C.last_lit;);ne(C,j,J)}function Ve(C,J){var ge,be,ee,re=J.dyn_tree,he=J.stat_desc.static_tree,Z=J.stat_desc.has_stree,ie=J.stat_desc.elems,ke=-1;for(C.heap_len=0,C.heap_max=x,ge=0;ge<ie;ge++)re[2*ge]!==0?(C.heap[++C.heap_len]=ke=ge,C.depth[ge]=0):re[2*ge+1]=0;for(;C.heap_len<2;)re[2*(ee=C.heap[++C.heap_len]=ke<2?++ke:0)]=1,C.depth[ee]=0,C.opt_len--,Z&&(C.static_len-=he[2*ee+1]);for(J.max_code=ke,ge=C.heap_len>>1;1<=ge;ge--)Re(C,re,ge);for(ee=ie;ge=C.heap[1],C.heap[1]=C.heap[C.heap_len--],Re(C,re,1),be=C.heap[1],C.heap[--C.heap_max]=ge,C.heap[--C.heap_max]=be,re[2*ee]=re[2*ge]+re[2*be],C.depth[ee]=(C.depth[ge]>=C.depth[be]?C.depth[ge]:C.depth[be])+1,re[2*ge+1]=re[2*be+1]=ee,C.heap[1]=ee++,Re(C,re,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],function(Te,Be){var ft,Ct,vt,tt,cn,yt,At=Be.dyn_tree,lt=Be.max_code,gr=Be.stat_desc.static_tree,Tn=Be.stat_desc.has_stree,Nr=Be.stat_desc.extra_bits,Qr=Be.stat_desc.extra_base,$r=Be.stat_desc.max_length,ea=0;for(tt=0;tt<=k;tt++)Te.bl_count[tt]=0;for(At[2*Te.heap[Te.heap_max]+1]=0,ft=Te.heap_max+1;ft<x;ft++)$r<(tt=At[2*At[2*(Ct=Te.heap[ft])+1]+1]+1)&&(tt=$r,ea++),At[2*Ct+1]=tt,lt<Ct||(Te.bl_count[tt]++,cn=0,Qr<=Ct&&(cn=Nr[Ct-Qr]),yt=At[2*Ct],Te.opt_len+=yt*(tt+cn),Tn&&(Te.static_len+=yt*(gr[2*Ct+1]+cn)));if(ea!==0){do{for(tt=$r-1;Te.bl_count[tt]===0;)tt--;Te.bl_count[tt]--,Te.bl_count[tt+1]+=2,Te.bl_count[$r]--,ea-=2}while(0<ea);for(tt=$r;tt!==0;tt--)for(Ct=Te.bl_count[tt];Ct!==0;)lt<(vt=Te.heap[--ft])||(At[2*vt+1]!==tt&&(Te.opt_len+=(tt-At[2*vt+1])*At[2*vt],At[2*vt+1]=tt),Ct--)}}(C,J),Je(re,ke,C.bl_count)}function S(C,J,ge){var be,ee,re=-1,he=J[1],Z=0,ie=7,ke=4;for(he===0&&(ie=138,ke=3),J[2*(ge+1)+1]=65535,be=0;be<=ge;be++)ee=he,he=J[2*(be+1)+1],++Z<ie&&ee===he||(Z<ke?C.bl_tree[2*ee]+=Z:ee!==0?(ee!==re&&C.bl_tree[2*ee]++,C.bl_tree[2*F]++):Z<=10?C.bl_tree[2*O]++:C.bl_tree[2*B]++,re=ee,ke=(Z=0)===he?(ie=138,3):ee===he?(ie=6,3):(ie=7,4))}function ce(C,J,ge){var be,ee,re=-1,he=J[1],Z=0,ie=7,ke=4;for(he===0&&(ie=138,ke=3),be=0;be<=ge;be++)if(ee=he,he=J[2*(be+1)+1],!(++Z<ie&&ee===he)){if(Z<ke)for(;ne(C,ee,C.bl_tree),--Z!=0;);else ee!==0?(ee!==re&&(ne(C,ee,C.bl_tree),Z--),ne(C,F,C.bl_tree),le(C,Z-3,2)):Z<=10?(ne(C,O,C.bl_tree),le(C,Z-3,3)):(ne(C,B,C.bl_tree),le(C,Z-11,7));re=ee,ke=(Z=0)===he?(ie=138,3):ee===he?(ie=6,3):(ie=7,4)}}d(z);var W=!1;function $(C,J,ge,be){le(C,(p<<1)+(be?1:0),3),function(ee,re,he,Z){Oe(ee),Ie(ee,he),Ie(ee,~he),o.arraySet(ee.pending_buf,ee.window,re,he,ee.pending),ee.pending+=he}(C,J,ge)}s._tr_init=function(C){W||(function(){var J,ge,be,ee,re,he=new Array(k+1);for(ee=be=0;ee<m-1;ee++)for(P[ee]=be,J=0;J<1<<L[ee];J++)w[be++]=ee;for(w[be-1]=ee,ee=re=0;ee<16;ee++)for(z[ee]=re,J=0;J<1<<V[ee];J++)Y[re++]=ee;for(re>>=7;ee<g;ee++)for(z[ee]=re<<7,J=0;J<1<<V[ee]-7;J++)Y[256+re++]=ee;for(ge=0;ge<=k;ge++)he[ge]=0;for(J=0;J<=143;)X[2*J+1]=8,J++,he[8]++;for(;J<=255;)X[2*J+1]=9,J++,he[9]++;for(;J<=279;)X[2*J+1]=7,J++,he[7]++;for(;J<=287;)X[2*J+1]=8,J++,he[8]++;for(Je(X,y+1,he),J=0;J<g;J++)M[2*J+1]=5,M[2*J]=Ge(J,5);_e=new Se(X,L,v+1,y,k),se=new Se(M,V,0,g,k),ue=new Se(new Array(0),q,0,_,T)}(),W=!0),C.l_desc=new ae(C.dyn_ltree,_e),C.d_desc=new ae(C.dyn_dtree,se),C.bl_desc=new ae(C.bl_tree,ue),C.bi_buf=0,C.bi_valid=0,de(C)},s._tr_stored_block=$,s._tr_flush_block=function(C,J,ge,be){var ee,re,he=0;0<C.level?(C.strm.data_type===2&&(C.strm.data_type=function(Z){var ie,ke=4093624447;for(ie=0;ie<=31;ie++,ke>>>=1)if(1&ke&&Z.dyn_ltree[2*ie]!==0)return l;if(Z.dyn_ltree[18]!==0||Z.dyn_ltree[20]!==0||Z.dyn_ltree[26]!==0)return u;for(ie=32;ie<v;ie++)if(Z.dyn_ltree[2*ie]!==0)return u;return l}(C)),Ve(C,C.l_desc),Ve(C,C.d_desc),he=function(Z){var ie;for(S(Z,Z.dyn_ltree,Z.l_desc.max_code),S(Z,Z.dyn_dtree,Z.d_desc.max_code),Ve(Z,Z.bl_desc),ie=_-1;3<=ie&&Z.bl_tree[2*D[ie]+1]===0;ie--);return Z.opt_len+=3*(ie+1)+5+5+4,ie}(C),ee=C.opt_len+3+7>>>3,(re=C.static_len+3+7>>>3)<=ee&&(ee=re)):ee=re=ge+5,ge+4<=ee&&J!==-1?$(C,J,ge,be):C.strategy===4||re===ee?(le(C,2+(be?1:0),3),Ye(C,X,M)):(le(C,4+(be?1:0),3),function(Z,ie,ke,Te){var Be;for(le(Z,ie-257,5),le(Z,ke-1,5),le(Z,Te-4,4),Be=0;Be<Te;Be++)le(Z,Z.bl_tree[2*D[Be]+1],3);ce(Z,Z.dyn_ltree,ie-1),ce(Z,Z.dyn_dtree,ke-1)}(C,C.l_desc.max_code+1,C.d_desc.max_code+1,he+1),Ye(C,C.dyn_ltree,C.dyn_dtree)),de(C),be&&Oe(C)},s._tr_tally=function(C,J,ge){return C.pending_buf[C.d_buf+2*C.last_lit]=J>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&J,C.pending_buf[C.l_buf+C.last_lit]=255&ge,C.last_lit++,J===0?C.dyn_ltree[2*ge]++:(C.matches++,J--,C.dyn_ltree[2*(w[ge]+v+1)]++,C.dyn_dtree[2*R(J)]++),C.last_lit===C.lit_bufsize-1},s._tr_align=function(C){le(C,2,3),ne(C,j,X),function(J){J.bi_valid===16?(Ie(J,J.bi_buf),J.bi_buf=0,J.bi_valid=0):8<=J.bi_valid&&(J.pending_buf[J.pending++]=255&J.bi_buf,J.bi_buf>>=8,J.bi_valid-=8)}(C)}},{"../utils/common":41}],53:[function(r,a,s){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,a,s){(function(o){(function(l,u){if(!l.setImmediate){var d,p,m,v,y=1,g={},_=!1,x=l.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(l);k=k&&k.setTimeout?k:l,d={}.toString.call(l.process)==="[object process]"?function(F){n.nextTick(function(){T(F)})}:function(){if(l.postMessage&&!l.importScripts){var F=!0,O=l.onmessage;return l.onmessage=function(){F=!1},l.postMessage("","*"),l.onmessage=O,F}}()?(v="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",j,!1):l.attachEvent("onmessage",j),function(F){l.postMessage(v+F,"*")}):l.MessageChannel?((m=new MessageChannel).port1.onmessage=function(F){T(F.data)},function(F){m.port2.postMessage(F)}):x&&"onreadystatechange"in x.createElement("script")?(p=x.documentElement,function(F){var O=x.createElement("script");O.onreadystatechange=function(){T(F),O.onreadystatechange=null,p.removeChild(O),O=null},p.appendChild(O)}):function(F){setTimeout(T,0,F)},k.setImmediate=function(F){typeof F!="function"&&(F=new Function(""+F));for(var O=new Array(arguments.length-1),B=0;B<O.length;B++)O[B]=arguments[B+1];var L={callback:F,args:O};return g[y]=L,d(y),y++},k.clearImmediate=A}function A(F){delete g[F]}function T(F){if(_)setTimeout(T,0,F);else{var O=g[F];if(O){_=!0;try{(function(B){var L=B.callback,V=B.args;switch(V.length){case 0:L();break;case 1:L(V[0]);break;case 2:L(V[0],V[1]);break;case 3:L(V[0],V[1],V[2]);break;default:L.apply(u,V)}})(O)}finally{A(F),_=!1}}}}function j(F){F.source===l&&typeof F.data=="string"&&F.data.indexOf(v)===0&&T(+F.data.slice(v.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Vn<"u"?Vn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(qb);var mD=qb.exports;const gD=Wa(mD);var Dl={};(function(e){e.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1,e.find=(t,n)=>t.nodes.find(r=>r.type===n),e.exceedsLimit=(t,n,r=1,a)=>a===!1||!e.isInteger(t)||!e.isInteger(n)?!1:(Number(n)-Number(t))/Number(r)>=a,e.escapeNode=(t,n=0,r)=>{const a=t.nodes[n];a&&(r&&a.type===r||a.type==="open"||a.type==="close")&&a.escaped!==!0&&(a.value="\\"+a.value,a.escaped=!0)},e.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0),e.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1,e.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0,e.reduce=t=>t.reduce((n,r)=>(r.type==="text"&&n.push(r.value),r.type==="range"&&(r.type="text"),n),[]),e.flatten=(...t)=>{const n=[],r=a=>{for(let s=0;s<a.length;s++){const o=a[s];if(Array.isArray(o)){r(o);continue}o!==void 0&&n.push(o)}return n};return r(t),n}})(Dl);const a0=Dl;var wp=(e,t={})=>{const n=(r,a={})=>{const s=t.escapeInvalid&&a0.isInvalidBrace(a),o=r.invalid===!0&&t.escapeInvalid===!0;let l="";if(r.value)return(s||o)&&a0.isOpenOrClose(r)?"\\"+r.value:r.value;if(r.value)return r.value;if(r.nodes)for(const u of r.nodes)l+=n(u);return l};return n(e)};/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var vD=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1};/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const i0=vD,Ba=(e,t,n)=>{if(i0(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(i0(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let r={relaxZeros:!0,...n};typeof r.strictZeros=="boolean"&&(r.relaxZeros=r.strictZeros===!1);let a=String(r.relaxZeros),s=String(r.shorthand),o=String(r.capture),l=String(r.wrap),u=e+":"+t+"="+a+s+o+l;if(Ba.cache.hasOwnProperty(u))return Ba.cache[u].result;let d=Math.min(e,t),p=Math.max(e,t);if(Math.abs(d-p)===1){let _=e+"|"+t;return r.capture?`(${_})`:r.wrap===!1?_:`(?:${_})`}let m=d0(e)||d0(t),v={min:e,max:t,a:d,b:p},y=[],g=[];if(m&&(v.isPadded=m,v.maxLen=String(v.max).length),d<0){let _=p<0?Math.abs(p):1;g=o0(_,Math.abs(d),v,r),d=v.a=0}return p>=0&&(y=o0(d,p,v,r)),v.negatives=g,v.positives=y,v.result=yD(g,y),r.capture===!0?v.result=`(${v.result})`:r.wrap!==!1&&y.length+g.length>1&&(v.result=`(?:${v.result})`),Ba.cache[u]=v,v.result};function yD(e,t,n){let r=Iu(e,t,"-",!1)||[],a=Iu(t,e,"",!1)||[],s=Iu(e,t,"-?",!0)||[];return r.concat(s).concat(a).join("|")}function bD(e,t){let n=1,r=1,a=l0(e,n),s=new Set([t]);for(;e<=a&&a<=t;)s.add(a),n+=1,a=l0(e,n);for(a=c0(t+1,r)-1;e<a&&a<=t;)s.add(a),r+=1,a=c0(t+1,r)-1;return s=[...s],s.sort(wD),s}function xD(e,t,n){if(e===t)return{pattern:e,count:[],digits:0};let r=_D(e,t),a=r.length,s="",o=0;for(let l=0;l<a;l++){let[u,d]=r[l];u===d?s+=u:u!=="0"||d!=="9"?s+=kD(u,d):o++}return o&&(s+=n.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:a}}function o0(e,t,n,r){let a=bD(e,t),s=[],o=e,l;for(let u=0;u<a.length;u++){let d=a[u],p=xD(String(o),String(d),r),m="";if(!n.isPadded&&l&&l.pattern===p.pattern){l.count.length>1&&l.count.pop(),l.count.push(p.count[0]),l.string=l.pattern+u0(l.count),o=d+1;continue}n.isPadded&&(m=CD(d,n,r)),p.string=m+p.pattern+u0(p.count),s.push(p),o=d+1,l=p}return s}function Iu(e,t,n,r,a){let s=[];for(let o of e){let{string:l}=o;!r&&!s0(t,"string",l)&&s.push(n+l),r&&s0(t,"string",l)&&s.push(n+l)}return s}function _D(e,t){let n=[];for(let r=0;r<e.length;r++)n.push([e[r],t[r]]);return n}function wD(e,t){return e>t?1:t>e?-1:0}function s0(e,t,n){return e.some(r=>r[t]===n)}function l0(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function c0(e,t){return e-e%Math.pow(10,t)}function u0(e){let[t=0,n=""]=e;return n||t>1?`{${t+(n?","+n:"")}}`:""}function kD(e,t,n){return`[${e}${t-e===1?"":"-"}${t}]`}function d0(e){return/^-?(0+)\d/.test(e)}function CD(e,t,n){if(!t.isPadded)return e;let r=Math.abs(t.maxLen-String(e).length),a=n.relaxZeros!==!1;switch(r){case 0:return"";case 1:return a?"0?":"0";case 2:return a?"0{0,2}":"00";default:return a?`0{0,${r}}`:`0{${r}}`}}Ba.cache={};Ba.clearCache=()=>Ba.cache={};var SD=Ba;/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const ED=Ro,Vb=SD,p0=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),AD=e=>t=>e===!0?Number(t):String(t),Ru=e=>typeof e=="number"||typeof e=="string"&&e!=="",yo=e=>Number.isInteger(+e),Ou=e=>{let t=`${e}`,n=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++n]==="0";);return n>0},TD=(e,t,n)=>typeof e=="string"||typeof t=="string"?!0:n.stringify===!0,jD=(e,t,n)=>{if(t>0){let r=e[0]==="-"?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return n===!1?String(e):e},yl=(e,t)=>{let n=e[0]==="-"?"-":"";for(n&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return n?"-"+e:e},ID=(e,t,n)=>{e.negatives.sort((l,u)=>l<u?-1:l>u?1:0),e.positives.sort((l,u)=>l<u?-1:l>u?1:0);let r=t.capture?"":"?:",a="",s="",o;return e.positives.length&&(a=e.positives.map(l=>yl(String(l),n)).join("|")),e.negatives.length&&(s=`-(${r}${e.negatives.map(l=>yl(String(l),n)).join("|")})`),a&&s?o=`${a}|${s}`:o=a||s,t.wrap?`(${r}${o})`:o},Gb=(e,t,n,r)=>{if(n)return Vb(e,t,{wrap:!1,...r});let a=String.fromCharCode(e);if(e===t)return a;let s=String.fromCharCode(t);return`[${a}-${s}]`},Jb=(e,t,n)=>{if(Array.isArray(e)){let r=n.wrap===!0,a=n.capture?"":"?:";return r?`(${a}${e.join("|")})`:e.join("|")}return Vb(e,t,n)},Kb=(...e)=>new RangeError("Invalid range arguments: "+ED.inspect(...e)),Yb=(e,t,n)=>{if(n.strictRanges===!0)throw Kb([e,t]);return[]},RD=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},OD=(e,t,n=1,r={})=>{let a=Number(e),s=Number(t);if(!Number.isInteger(a)||!Number.isInteger(s)){if(r.strictRanges===!0)throw Kb([e,t]);return[]}a===0&&(a=0),s===0&&(s=0);let o=a>s,l=String(e),u=String(t),d=String(n);n=Math.max(Math.abs(n),1);let p=Ou(l)||Ou(u)||Ou(d),m=p?Math.max(l.length,u.length,d.length):0,v=p===!1&&TD(e,t,r)===!1,y=r.transform||AD(v);if(r.toRegex&&n===1)return Gb(yl(e,m),yl(t,m),!0,r);let g={negatives:[],positives:[]},_=A=>g[A<0?"negatives":"positives"].push(Math.abs(A)),x=[],k=0;for(;o?a>=s:a<=s;)r.toRegex===!0&&n>1?_(a):x.push(jD(y(a,k),m,v)),a=o?a-n:a+n,k++;return r.toRegex===!0?n>1?ID(g,r,m):Jb(x,null,{wrap:!1,...r}):x},FD=(e,t,n=1,r={})=>{if(!yo(e)&&e.length>1||!yo(t)&&t.length>1)return Yb(e,t,r);let a=r.transform||(v=>String.fromCharCode(v)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),l=s>o,u=Math.min(s,o),d=Math.max(s,o);if(r.toRegex&&n===1)return Gb(u,d,!1,r);let p=[],m=0;for(;l?s>=o:s<=o;)p.push(a(s,m)),s=l?s-n:s+n,m++;return r.toRegex===!0?Jb(p,null,{wrap:!1,options:r}):p},Js=(e,t,n,r={})=>{if(t==null&&Ru(e))return[e];if(!Ru(e)||!Ru(t))return Yb(e,t,r);if(typeof n=="function")return Js(e,t,1,{transform:n});if(p0(n))return Js(e,t,0,n);let a={...r};return a.capture===!0&&(a.wrap=!0),n=n||a.step||1,yo(n)?yo(e)&&yo(t)?OD(e,t,n,a):FD(e,t,Math.max(Math.abs(n),1),a):n!=null&&!p0(n)?RD(n,a):Js(e,t,1,n)};var Xb=Js;const zD=Xb,f0=Dl,MD=(e,t={})=>{const n=(r,a={})=>{const s=f0.isInvalidBrace(a),o=r.invalid===!0&&t.escapeInvalid===!0,l=s===!0||o===!0,u=t.escapeInvalid===!0?"\\":"";let d="";if(r.isOpen===!0)return u+r.value;if(r.isClose===!0)return console.log("node.isClose",u,r.value),u+r.value;if(r.type==="open")return l?u+r.value:"(";if(r.type==="close")return l?u+r.value:")";if(r.type==="comma")return r.prev.type==="comma"?"":l?r.value:"|";if(r.value)return r.value;if(r.nodes&&r.ranges>0){const p=f0.reduce(r.nodes),m=zD(...p,{...t,wrap:!1,toRegex:!0,strictZeros:!0});if(m.length!==0)return p.length>1&&m.length>1?`(${m})`:m}if(r.nodes)for(const p of r.nodes)d+=n(p,r);return d};return n(e)};var ND=MD;const $D=Xb,h0=wp,xi=Dl,Pa=(e="",t="",n=!1)=>{const r=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return n?xi.flatten(t).map(a=>`{${a}}`):t;for(const a of e)if(Array.isArray(a))for(const s of a)r.push(Pa(s,t,n));else for(let s of t)n===!0&&typeof s=="string"&&(s=`{${s}}`),r.push(Array.isArray(s)?Pa(a,s,n):a+s);return xi.flatten(r)},PD=(e,t={})=>{const n=t.rangeLimit===void 0?1e3:t.rangeLimit,r=(a,s={})=>{a.queue=[];let o=s,l=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,l=o.queue;if(a.invalid||a.dollar){l.push(Pa(l.pop(),h0(a,t)));return}if(a.type==="brace"&&a.invalid!==!0&&a.nodes.length===2){l.push(Pa(l.pop(),["{}"]));return}if(a.nodes&&a.ranges>0){const m=xi.reduce(a.nodes);if(xi.exceedsLimit(...m,t.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let v=$D(...m,t);v.length===0&&(v=h0(a,t)),l.push(Pa(l.pop(),v)),a.nodes=[];return}const u=xi.encloseBrace(a);let d=a.queue,p=a;for(;p.type!=="brace"&&p.type!=="root"&&p.parent;)p=p.parent,d=p.queue;for(let m=0;m<a.nodes.length;m++){const v=a.nodes[m];if(v.type==="comma"&&a.type==="brace"){m===1&&d.push(""),d.push("");continue}if(v.type==="close"){l.push(Pa(l.pop(),d,u));continue}if(v.value&&v.type!=="open"){d.push(Pa(d.pop(),v.value));continue}v.nodes&&r(v,a)}return d};return xi.flatten(r(e))};var DD=PD,LD={MAX_LENGTH:1e4,CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_COMMA:",",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_NO_BREAK_SPACE:"",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SINGLE_QUOTE:"'",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};const BD=wp,{MAX_LENGTH:m0,CHAR_BACKSLASH:Fu,CHAR_BACKTICK:UD,CHAR_COMMA:ZD,CHAR_DOT:HD,CHAR_LEFT_PARENTHESES:WD,CHAR_RIGHT_PARENTHESES:qD,CHAR_LEFT_CURLY_BRACE:VD,CHAR_RIGHT_CURLY_BRACE:GD,CHAR_LEFT_SQUARE_BRACKET:g0,CHAR_RIGHT_SQUARE_BRACKET:v0,CHAR_DOUBLE_QUOTE:JD,CHAR_SINGLE_QUOTE:KD,CHAR_NO_BREAK_SPACE:YD,CHAR_ZERO_WIDTH_NOBREAK_SPACE:XD}=LD,QD=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");const n=t||{},r=typeof n.maxLength=="number"?Math.min(m0,n.maxLength):m0;if(e.length>r)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${r})`);const a={type:"root",input:e,nodes:[]},s=[a];let o=a,l=a,u=0;const d=e.length;let p=0,m=0,v;const y=()=>e[p++],g=_=>{if(_.type==="text"&&l.type==="dot"&&(l.type="text"),l&&l.type==="text"&&_.type==="text"){l.value+=_.value;return}return o.nodes.push(_),_.parent=o,_.prev=l,l=_,_};for(g({type:"bos"});p<d;)if(o=s[s.length-1],v=y(),!(v===XD||v===YD)){if(v===Fu){g({type:"text",value:(t.keepEscaping?v:"")+y()});continue}if(v===v0){g({type:"text",value:"\\"+v});continue}if(v===g0){u++;let _;for(;p<d&&(_=y());){if(v+=_,_===g0){u++;continue}if(_===Fu){v+=y();continue}if(_===v0&&(u--,u===0))break}g({type:"text",value:v});continue}if(v===WD){o=g({type:"paren",nodes:[]}),s.push(o),g({type:"text",value:v});continue}if(v===qD){if(o.type!=="paren"){g({type:"text",value:v});continue}o=s.pop(),g({type:"text",value:v}),o=s[s.length-1];continue}if(v===JD||v===KD||v===UD){const _=v;let x;for(t.keepQuotes!==!0&&(v="");p<d&&(x=y());){if(x===Fu){v+=x+y();continue}if(x===_){t.keepQuotes===!0&&(v+=x);break}v+=x}g({type:"text",value:v});continue}if(v===VD){m++;const x={type:"brace",open:!0,close:!1,dollar:l.value&&l.value.slice(-1)==="$"||o.dollar===!0,depth:m,commas:0,ranges:0,nodes:[]};o=g(x),s.push(o),g({type:"open",value:v});continue}if(v===GD){if(o.type!=="brace"){g({type:"text",value:v});continue}const _="close";o=s.pop(),o.close=!0,g({type:_,value:v}),m--,o=s[s.length-1];continue}if(v===ZD&&m>0){if(o.ranges>0){o.ranges=0;const _=o.nodes.shift();o.nodes=[_,{type:"text",value:BD(o)}]}g({type:"comma",value:v}),o.commas++;continue}if(v===HD&&m>0&&o.commas===0){const _=o.nodes;if(m===0||_.length===0){g({type:"text",value:v});continue}if(l.type==="dot"){if(o.range=[],l.value+=v,l.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,l.type="text";continue}o.ranges++,o.args=[];continue}if(l.type==="range"){_.pop();const x=_[_.length-1];x.value+=l.value+v,l=x,o.ranges--;continue}g({type:"dot",value:v});continue}g({type:"text",value:v})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(k=>{k.nodes||(k.type==="open"&&(k.isOpen=!0),k.type==="close"&&(k.isClose=!0),k.nodes||(k.type="text"),k.invalid=!0)});const _=s[s.length-1],x=_.nodes.indexOf(o);_.nodes.splice(x,1,...o.nodes)}while(s.length>0);return g({type:"eos"}),a};var eL=QD;const y0=wp,tL=ND,nL=DD,rL=eL,Jn=(e,t={})=>{let n=[];if(Array.isArray(e))for(const r of e){const a=Jn.create(r,t);Array.isArray(a)?n.push(...a):n.push(a)}else n=[].concat(Jn.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(n=[...new Set(n)]),n};Jn.parse=(e,t={})=>rL(e,t);Jn.stringify=(e,t={})=>y0(typeof e=="string"?Jn.parse(e,t):e,t);Jn.compile=(e,t={})=>(typeof e=="string"&&(e=Jn.parse(e,t)),tL(e,t));Jn.expand=(e,t={})=>{typeof e=="string"&&(e=Jn.parse(e,t));let n=nL(e,t);return t.noempty===!0&&(n=n.filter(Boolean)),t.nodupes===!0&&(n=[...new Set(n)]),n};Jn.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?Jn.compile(e,t):Jn.expand(e,t);var aL=Jn,Do={};const iL=Ro,Ir="\\\\/",b0=`[^${Ir}]`,Jr="\\.",oL="\\+",sL="\\?",Ll="\\/",lL="(?=.)",Qb="[^/]",kp=`(?:${Ll}|$)`,ex=`(?:^|${Ll})`,Cp=`${Jr}{1,2}${kp}`,cL=`(?!${Jr})`,uL=`(?!${ex}${Cp})`,dL=`(?!${Jr}{0,1}${kp})`,pL=`(?!${Cp})`,fL=`[^.${Ll}]`,hL=`${Qb}*?`,tx={DOT_LITERAL:Jr,PLUS_LITERAL:oL,QMARK_LITERAL:sL,SLASH_LITERAL:Ll,ONE_CHAR:lL,QMARK:Qb,END_ANCHOR:kp,DOTS_SLASH:Cp,NO_DOT:cL,NO_DOTS:uL,NO_DOT_SLASH:dL,NO_DOTS_SLASH:pL,QMARK_NO_DOT:fL,STAR:hL,START_ANCHOR:ex},mL={...tx,SLASH_LITERAL:`[${Ir}]`,QMARK:b0,STAR:`${b0}*?`,DOTS_SLASH:`${Jr}{1,2}(?:[${Ir}]|$)`,NO_DOT:`(?!${Jr})`,NO_DOTS:`(?!(?:^|[${Ir}])${Jr}{1,2}(?:[${Ir}]|$))`,NO_DOT_SLASH:`(?!${Jr}{0,1}(?:[${Ir}]|$))`,NO_DOTS_SLASH:`(?!${Jr}{1,2}(?:[${Ir}]|$))`,QMARK_NO_DOT:`[^.${Ir}]`,START_ANCHOR:`(?:^|[${Ir}])`,END_ANCHOR:`(?:[${Ir}]|$)`},gL={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var Bl={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:gL,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:iL.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?mL:tx}};(function(e){var t={};const n=Ro,r=t.platform==="win32",{REGEX_BACKSLASH:a,REGEX_REMOVE_BACKSLASH:s,REGEX_SPECIAL_CHARS:o,REGEX_SPECIAL_CHARS_GLOBAL:l}=Bl;e.isObject=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),e.hasRegexChars=u=>o.test(u),e.isRegexChar=u=>u.length===1&&e.hasRegexChars(u),e.escapeRegex=u=>u.replace(l,"\\$1"),e.toPosixSlashes=u=>u.replace(a,"/"),e.removeBackslashes=u=>u.replace(s,d=>d==="\\"?"":d),e.supportsLookbehinds=()=>{const u=t.version.slice(1).split(".").map(Number);return u.length===3&&u[0]>=9||u[0]===8&&u[1]>=10},e.isWindows=u=>u&&typeof u.windows=="boolean"?u.windows:r===!0||n.sep==="\\",e.escapeLast=(u,d,p)=>{const m=u.lastIndexOf(d,p);return m===-1?u:u[m-1]==="\\"?e.escapeLast(u,d,m-1):`${u.slice(0,m)}\\${u.slice(m)}`},e.removePrefix=(u,d={})=>{let p=u;return p.startsWith("./")&&(p=p.slice(2),d.prefix="./"),p},e.wrapOutput=(u,d={},p={})=>{const m=p.contains?"":"^",v=p.contains?"":"$";let y=`${m}(?:${u})${v}`;return d.negated===!0&&(y=`(?:^(?!${y}).*$)`),y}})(Do);const x0=Do,{CHAR_ASTERISK:zu,CHAR_AT:vL,CHAR_BACKWARD_SLASH:ho,CHAR_COMMA:yL,CHAR_DOT:Mu,CHAR_EXCLAMATION_MARK:Nu,CHAR_FORWARD_SLASH:nx,CHAR_LEFT_CURLY_BRACE:$u,CHAR_LEFT_PARENTHESES:Pu,CHAR_LEFT_SQUARE_BRACKET:bL,CHAR_PLUS:xL,CHAR_QUESTION_MARK:_0,CHAR_RIGHT_CURLY_BRACE:_L,CHAR_RIGHT_PARENTHESES:w0,CHAR_RIGHT_SQUARE_BRACKET:wL}=Bl,k0=e=>e===nx||e===ho,C0=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},kL=(e,t)=>{const n=t||{},r=e.length-1,a=n.parts===!0||n.scanToEnd===!0,s=[],o=[],l=[];let u=e,d=-1,p=0,m=0,v=!1,y=!1,g=!1,_=!1,x=!1,k=!1,A=!1,T=!1,j=!1,F=!1,O=0,B,L,V={value:"",depth:0,isGlob:!1};const q=()=>d>=r,D=()=>u.charCodeAt(d+1),X=()=>(B=L,u.charCodeAt(++d));for(;d<r;){L=X();let _e;if(L===ho){A=V.backslashes=!0,L=X(),L===$u&&(k=!0);continue}if(k===!0||L===$u){for(O++;q()!==!0&&(L=X());){if(L===ho){A=V.backslashes=!0,X();continue}if(L===$u){O++;continue}if(k!==!0&&L===Mu&&(L=X())===Mu){if(v=V.isBrace=!0,g=V.isGlob=!0,F=!0,a===!0)continue;break}if(k!==!0&&L===yL){if(v=V.isBrace=!0,g=V.isGlob=!0,F=!0,a===!0)continue;break}if(L===_L&&(O--,O===0)){k=!1,v=V.isBrace=!0,F=!0;break}}if(a===!0)continue;break}if(L===nx){if(s.push(d),o.push(V),V={value:"",depth:0,isGlob:!1},F===!0)continue;if(B===Mu&&d===p+1){p+=2;continue}m=d+1;continue}if(n.noext!==!0&&(L===xL||L===vL||L===zu||L===_0||L===Nu)===!0&&D()===Pu){if(g=V.isGlob=!0,_=V.isExtglob=!0,F=!0,L===Nu&&d===p&&(j=!0),a===!0){for(;q()!==!0&&(L=X());){if(L===ho){A=V.backslashes=!0,L=X();continue}if(L===w0){g=V.isGlob=!0,F=!0;break}}continue}break}if(L===zu){if(B===zu&&(x=V.isGlobstar=!0),g=V.isGlob=!0,F=!0,a===!0)continue;break}if(L===_0){if(g=V.isGlob=!0,F=!0,a===!0)continue;break}if(L===bL){for(;q()!==!0&&(_e=X());){if(_e===ho){A=V.backslashes=!0,X();continue}if(_e===wL){y=V.isBracket=!0,g=V.isGlob=!0,F=!0;break}}if(a===!0)continue;break}if(n.nonegate!==!0&&L===Nu&&d===p){T=V.negated=!0,p++;continue}if(n.noparen!==!0&&L===Pu){if(g=V.isGlob=!0,a===!0){for(;q()!==!0&&(L=X());){if(L===Pu){A=V.backslashes=!0,L=X();continue}if(L===w0){F=!0;break}}continue}break}if(g===!0){if(F=!0,a===!0)continue;break}}n.noext===!0&&(_=!1,g=!1);let M=u,Y="",w="";p>0&&(Y=u.slice(0,p),u=u.slice(p),m-=p),M&&g===!0&&m>0?(M=u.slice(0,m),w=u.slice(m)):g===!0?(M="",w=u):M=u,M&&M!==""&&M!=="/"&&M!==u&&k0(M.charCodeAt(M.length-1))&&(M=M.slice(0,-1)),n.unescape===!0&&(w&&(w=x0.removeBackslashes(w)),M&&A===!0&&(M=x0.removeBackslashes(M)));const P={prefix:Y,input:e,start:p,base:M,glob:w,isBrace:v,isBracket:y,isGlob:g,isExtglob:_,isGlobstar:x,negated:T,negatedExtglob:j};if(n.tokens===!0&&(P.maxDepth=0,k0(L)||o.push(V),P.tokens=o),n.parts===!0||n.tokens===!0){let _e;for(let se=0;se<s.length;se++){const ue=_e?_e+1:p,z=s[se],Se=e.slice(ue,z);n.tokens&&(se===0&&p!==0?(o[se].isPrefix=!0,o[se].value=Y):o[se].value=Se,C0(o[se]),P.maxDepth+=o[se].depth),(se!==0||Se!=="")&&l.push(Se),_e=z}if(_e&&_e+1<e.length){const se=e.slice(_e+1);l.push(se),n.tokens&&(o[o.length-1].value=se,C0(o[o.length-1]),P.maxDepth+=o[o.length-1].depth)}P.slashes=s,P.parts=l}return P};var CL=kL;const bl=Bl,Wn=Do,{MAX_LENGTH:xl,POSIX_REGEX_SOURCE:SL,REGEX_NON_SPECIAL_CHARS:EL,REGEX_SPECIAL_CHARS_BACKREF:AL,REPLACEMENTS:rx}=bl,TL=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();const n=`[${e.join("-")}]`;try{new RegExp(n)}catch{return e.map(a=>Wn.escapeRegex(a)).join("..")}return n},fi=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Sp=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=rx[e]||e;const n={...t},r=typeof n.maxLength=="number"?Math.min(xl,n.maxLength):xl;let a=e.length;if(a>r)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${r}`);const s={type:"bos",value:"",output:n.prepend||""},o=[s],l=n.capture?"":"?:",u=Wn.isWindows(t),d=bl.globChars(u),p=bl.extglobChars(d),{DOT_LITERAL:m,PLUS_LITERAL:v,SLASH_LITERAL:y,ONE_CHAR:g,DOTS_SLASH:_,NO_DOT:x,NO_DOT_SLASH:k,NO_DOTS_SLASH:A,QMARK:T,QMARK_NO_DOT:j,STAR:F,START_ANCHOR:O}=d,B=de=>`(${l}(?:(?!${O}${de.dot?_:m}).)*?)`,L=n.dot?"":x,V=n.dot?T:j;let q=n.bash===!0?B(n):F;n.capture&&(q=`(${q})`),typeof n.noext=="boolean"&&(n.noextglob=n.noext);const D={input:e,index:-1,start:0,dot:n.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=Wn.removePrefix(e,D),a=e.length;const X=[],M=[],Y=[];let w=s,P;const _e=()=>D.index===a-1,se=D.peek=(de=1)=>e[D.index+de],ue=D.advance=()=>e[++D.index]||"",z=()=>e.slice(D.index+1),Se=(de="",Oe=0)=>{D.consumed+=de,D.index+=Oe},ae=de=>{D.output+=de.output!=null?de.output:de.value,Se(de.value)},R=()=>{let de=1;for(;se()==="!"&&(se(2)!=="("||se(3)==="?");)ue(),D.start++,de++;return de%2===0?!1:(D.negated=!0,D.start++,!0)},Ie=de=>{D[de]++,Y.push(de)},le=de=>{D[de]--,Y.pop()},ne=de=>{if(w.type==="globstar"){const Oe=D.braces>0&&(de.type==="comma"||de.type==="brace"),ve=de.extglob===!0||X.length&&(de.type==="pipe"||de.type==="paren");de.type!=="slash"&&de.type!=="paren"&&!Oe&&!ve&&(D.output=D.output.slice(0,-w.output.length),w.type="star",w.value="*",w.output=q,D.output+=w.output)}if(X.length&&de.type!=="paren"&&(X[X.length-1].inner+=de.value),(de.value||de.output)&&ae(de),w&&w.type==="text"&&de.type==="text"){w.value+=de.value,w.output=(w.output||"")+de.value;return}de.prev=w,o.push(de),w=de},Ge=(de,Oe)=>{const ve={...p[Oe],conditions:1,inner:""};ve.prev=w,ve.parens=D.parens,ve.output=D.output;const Re=(n.capture?"(":"")+ve.open;Ie("parens"),ne({type:de,value:Oe,output:D.output?"":g}),ne({type:"paren",extglob:!0,value:ue(),output:Re}),X.push(ve)},Je=de=>{let Oe=de.close+(n.capture?")":""),ve;if(de.type==="negate"){let Re=q;if(de.inner&&de.inner.length>1&&de.inner.includes("/")&&(Re=B(n)),(Re!==q||_e()||/^\)+$/.test(z()))&&(Oe=de.close=`)$))${Re}`),de.inner.includes("*")&&(ve=z())&&/^\.[^\\/.]+$/.test(ve)){const Ye=Sp(ve,{...t,fastpaths:!1}).output;Oe=de.close=`)${Ye})${Re})`}de.prev.type==="bos"&&(D.negatedExtglob=!0)}ne({type:"paren",extglob:!0,value:P,output:Oe}),le("parens")};if(n.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let de=!1,Oe=e.replace(AL,(ve,Re,Ye,Ve,S,ce)=>Ve==="\\"?(de=!0,ve):Ve==="?"?Re?Re+Ve+(S?T.repeat(S.length):""):ce===0?V+(S?T.repeat(S.length):""):T.repeat(Ye.length):Ve==="."?m.repeat(Ye.length):Ve==="*"?Re?Re+Ve+(S?q:""):q:Re?ve:`\\${ve}`);return de===!0&&(n.unescape===!0?Oe=Oe.replace(/\\/g,""):Oe=Oe.replace(/\\+/g,ve=>ve.length%2===0?"\\\\":ve?"\\":"")),Oe===e&&n.contains===!0?(D.output=e,D):(D.output=Wn.wrapOutput(Oe,D,t),D)}for(;!_e();){if(P=ue(),P==="\0")continue;if(P==="\\"){const ve=se();if(ve==="/"&&n.bash!==!0||ve==="."||ve===";")continue;if(!ve){P+="\\",ne({type:"text",value:P});continue}const Re=/^\\+/.exec(z());let Ye=0;if(Re&&Re[0].length>2&&(Ye=Re[0].length,D.index+=Ye,Ye%2!==0&&(P+="\\")),n.unescape===!0?P=ue():P+=ue(),D.brackets===0){ne({type:"text",value:P});continue}}if(D.brackets>0&&(P!=="]"||w.value==="["||w.value==="[^")){if(n.posix!==!1&&P===":"){const ve=w.value.slice(1);if(ve.includes("[")&&(w.posix=!0,ve.includes(":"))){const Re=w.value.lastIndexOf("["),Ye=w.value.slice(0,Re),Ve=w.value.slice(Re+2),S=SL[Ve];if(S){w.value=Ye+S,D.backtrack=!0,ue(),!s.output&&o.indexOf(w)===1&&(s.output=g);continue}}}(P==="["&&se()!==":"||P==="-"&&se()==="]")&&(P=`\\${P}`),P==="]"&&(w.value==="["||w.value==="[^")&&(P=`\\${P}`),n.posix===!0&&P==="!"&&w.value==="["&&(P="^"),w.value+=P,ae({value:P});continue}if(D.quotes===1&&P!=='"'){P=Wn.escapeRegex(P),w.value+=P,ae({value:P});continue}if(P==='"'){D.quotes=D.quotes===1?0:1,n.keepQuotes===!0&&ne({type:"text",value:P});continue}if(P==="("){Ie("parens"),ne({type:"paren",value:P});continue}if(P===")"){if(D.parens===0&&n.strictBrackets===!0)throw new SyntaxError(fi("opening","("));const ve=X[X.length-1];if(ve&&D.parens===ve.parens+1){Je(X.pop());continue}ne({type:"paren",value:P,output:D.parens?")":"\\)"}),le("parens");continue}if(P==="["){if(n.nobracket===!0||!z().includes("]")){if(n.nobracket!==!0&&n.strictBrackets===!0)throw new SyntaxError(fi("closing","]"));P=`\\${P}`}else Ie("brackets");ne({type:"bracket",value:P});continue}if(P==="]"){if(n.nobracket===!0||w&&w.type==="bracket"&&w.value.length===1){ne({type:"text",value:P,output:`\\${P}`});continue}if(D.brackets===0){if(n.strictBrackets===!0)throw new SyntaxError(fi("opening","["));ne({type:"text",value:P,output:`\\${P}`});continue}le("brackets");const ve=w.value.slice(1);if(w.posix!==!0&&ve[0]==="^"&&!ve.includes("/")&&(P=`/${P}`),w.value+=P,ae({value:P}),n.literalBrackets===!1||Wn.hasRegexChars(ve))continue;const Re=Wn.escapeRegex(w.value);if(D.output=D.output.slice(0,-w.value.length),n.literalBrackets===!0){D.output+=Re,w.value=Re;continue}w.value=`(${l}${Re}|${w.value})`,D.output+=w.value;continue}if(P==="{"&&n.nobrace!==!0){Ie("braces");const ve={type:"brace",value:P,output:"(",outputIndex:D.output.length,tokensIndex:D.tokens.length};M.push(ve),ne(ve);continue}if(P==="}"){const ve=M[M.length-1];if(n.nobrace===!0||!ve){ne({type:"text",value:P,output:P});continue}let Re=")";if(ve.dots===!0){const Ye=o.slice(),Ve=[];for(let S=Ye.length-1;S>=0&&(o.pop(),Ye[S].type!=="brace");S--)Ye[S].type!=="dots"&&Ve.unshift(Ye[S].value);Re=TL(Ve,n),D.backtrack=!0}if(ve.comma!==!0&&ve.dots!==!0){const Ye=D.output.slice(0,ve.outputIndex),Ve=D.tokens.slice(ve.tokensIndex);ve.value=ve.output="\\{",P=Re="\\}",D.output=Ye;for(const S of Ve)D.output+=S.output||S.value}ne({type:"brace",value:P,output:Re}),le("braces"),M.pop();continue}if(P==="|"){X.length>0&&X[X.length-1].conditions++,ne({type:"text",value:P});continue}if(P===","){let ve=P;const Re=M[M.length-1];Re&&Y[Y.length-1]==="braces"&&(Re.comma=!0,ve="|"),ne({type:"comma",value:P,output:ve});continue}if(P==="/"){if(w.type==="dot"&&D.index===D.start+1){D.start=D.index+1,D.consumed="",D.output="",o.pop(),w=s;continue}ne({type:"slash",value:P,output:y});continue}if(P==="."){if(D.braces>0&&w.type==="dot"){w.value==="."&&(w.output=m);const ve=M[M.length-1];w.type="dots",w.output+=P,w.value+=P,ve.dots=!0;continue}if(D.braces+D.parens===0&&w.type!=="bos"&&w.type!=="slash"){ne({type:"text",value:P,output:m});continue}ne({type:"dot",value:P,output:m});continue}if(P==="?"){if(!(w&&w.value==="(")&&n.noextglob!==!0&&se()==="("&&se(2)!=="?"){Ge("qmark",P);continue}if(w&&w.type==="paren"){const Re=se();let Ye=P;if(Re==="<"&&!Wn.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(w.value==="("&&!/[!=<:]/.test(Re)||Re==="<"&&!/<([!=]|\w+>)/.test(z()))&&(Ye=`\\${P}`),ne({type:"text",value:P,output:Ye});continue}if(n.dot!==!0&&(w.type==="slash"||w.type==="bos")){ne({type:"qmark",value:P,output:j});continue}ne({type:"qmark",value:P,output:T});continue}if(P==="!"){if(n.noextglob!==!0&&se()==="("&&(se(2)!=="?"||!/[!=<:]/.test(se(3)))){Ge("negate",P);continue}if(n.nonegate!==!0&&D.index===0){R();continue}}if(P==="+"){if(n.noextglob!==!0&&se()==="("&&se(2)!=="?"){Ge("plus",P);continue}if(w&&w.value==="("||n.regex===!1){ne({type:"plus",value:P,output:v});continue}if(w&&(w.type==="bracket"||w.type==="paren"||w.type==="brace")||D.parens>0){ne({type:"plus",value:P});continue}ne({type:"plus",value:v});continue}if(P==="@"){if(n.noextglob!==!0&&se()==="("&&se(2)!=="?"){ne({type:"at",extglob:!0,value:P,output:""});continue}ne({type:"text",value:P});continue}if(P!=="*"){(P==="$"||P==="^")&&(P=`\\${P}`);const ve=EL.exec(z());ve&&(P+=ve[0],D.index+=ve[0].length),ne({type:"text",value:P});continue}if(w&&(w.type==="globstar"||w.star===!0)){w.type="star",w.star=!0,w.value+=P,w.output=q,D.backtrack=!0,D.globstar=!0,Se(P);continue}let de=z();if(n.noextglob!==!0&&/^\([^?]/.test(de)){Ge("star",P);continue}if(w.type==="star"){if(n.noglobstar===!0){Se(P);continue}const ve=w.prev,Re=ve.prev,Ye=ve.type==="slash"||ve.type==="bos",Ve=Re&&(Re.type==="star"||Re.type==="globstar");if(n.bash===!0&&(!Ye||de[0]&&de[0]!=="/")){ne({type:"star",value:P,output:""});continue}const S=D.braces>0&&(ve.type==="comma"||ve.type==="brace"),ce=X.length&&(ve.type==="pipe"||ve.type==="paren");if(!Ye&&ve.type!=="paren"&&!S&&!ce){ne({type:"star",value:P,output:""});continue}for(;de.slice(0,3)==="/**";){const W=e[D.index+4];if(W&&W!=="/")break;de=de.slice(3),Se("/**",3)}if(ve.type==="bos"&&_e()){w.type="globstar",w.value+=P,w.output=B(n),D.output=w.output,D.globstar=!0,Se(P);continue}if(ve.type==="slash"&&ve.prev.type!=="bos"&&!Ve&&_e()){D.output=D.output.slice(0,-(ve.output+w.output).length),ve.output=`(?:${ve.output}`,w.type="globstar",w.output=B(n)+(n.strictSlashes?")":"|$)"),w.value+=P,D.globstar=!0,D.output+=ve.output+w.output,Se(P);continue}if(ve.type==="slash"&&ve.prev.type!=="bos"&&de[0]==="/"){const W=de[1]!==void 0?"|$":"";D.output=D.output.slice(0,-(ve.output+w.output).length),ve.output=`(?:${ve.output}`,w.type="globstar",w.output=`${B(n)}${y}|${y}${W})`,w.value+=P,D.output+=ve.output+w.output,D.globstar=!0,Se(P+ue()),ne({type:"slash",value:"/",output:""});continue}if(ve.type==="bos"&&de[0]==="/"){w.type="globstar",w.value+=P,w.output=`(?:^|${y}|${B(n)}${y})`,D.output=w.output,D.globstar=!0,Se(P+ue()),ne({type:"slash",value:"/",output:""});continue}D.output=D.output.slice(0,-w.output.length),w.type="globstar",w.output=B(n),w.value+=P,D.output+=w.output,D.globstar=!0,Se(P);continue}const Oe={type:"star",value:P,output:q};if(n.bash===!0){Oe.output=".*?",(w.type==="bos"||w.type==="slash")&&(Oe.output=L+Oe.output),ne(Oe);continue}if(w&&(w.type==="bracket"||w.type==="paren")&&n.regex===!0){Oe.output=P,ne(Oe);continue}(D.index===D.start||w.type==="slash"||w.type==="dot")&&(w.type==="dot"?(D.output+=k,w.output+=k):n.dot===!0?(D.output+=A,w.output+=A):(D.output+=L,w.output+=L),se()!=="*"&&(D.output+=g,w.output+=g)),ne(Oe)}for(;D.brackets>0;){if(n.strictBrackets===!0)throw new SyntaxError(fi("closing","]"));D.output=Wn.escapeLast(D.output,"["),le("brackets")}for(;D.parens>0;){if(n.strictBrackets===!0)throw new SyntaxError(fi("closing",")"));D.output=Wn.escapeLast(D.output,"("),le("parens")}for(;D.braces>0;){if(n.strictBrackets===!0)throw new SyntaxError(fi("closing","}"));D.output=Wn.escapeLast(D.output,"{"),le("braces")}if(n.strictSlashes!==!0&&(w.type==="star"||w.type==="bracket")&&ne({type:"maybe_slash",value:"",output:`${y}?`}),D.backtrack===!0){D.output="";for(const de of D.tokens)D.output+=de.output!=null?de.output:de.value,de.suffix&&(D.output+=de.suffix)}return D};Sp.fastpaths=(e,t)=>{const n={...t},r=typeof n.maxLength=="number"?Math.min(xl,n.maxLength):xl,a=e.length;if(a>r)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${r}`);e=rx[e]||e;const s=Wn.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:l,ONE_CHAR:u,DOTS_SLASH:d,NO_DOT:p,NO_DOTS:m,NO_DOTS_SLASH:v,STAR:y,START_ANCHOR:g}=bl.globChars(s),_=n.dot?m:p,x=n.dot?v:p,k=n.capture?"":"?:",A={negated:!1,prefix:""};let T=n.bash===!0?".*?":y;n.capture&&(T=`(${T})`);const j=L=>L.noglobstar===!0?T:`(${k}(?:(?!${g}${L.dot?d:o}).)*?)`,F=L=>{switch(L){case"*":return`${_}${u}${T}`;case".*":return`${o}${u}${T}`;case"*.*":return`${_}${T}${o}${u}${T}`;case"*/*":return`${_}${T}${l}${u}${x}${T}`;case"**":return _+j(n);case"**/*":return`(?:${_}${j(n)}${l})?${x}${u}${T}`;case"**/*.*":return`(?:${_}${j(n)}${l})?${x}${T}${o}${u}${T}`;case"**/.*":return`(?:${_}${j(n)}${l})?${o}${u}${T}`;default:{const V=/^(.*?)\.(\w+)$/.exec(L);if(!V)return;const q=F(V[1]);return q?q+o+V[2]:void 0}}},O=Wn.removePrefix(e,A);let B=F(O);return B&&n.strictSlashes!==!0&&(B+=`${l}?`),B};var jL=Sp;const IL=Ro,RL=CL,wd=jL,Ep=Do,OL=Bl,FL=e=>e&&typeof e=="object"&&!Array.isArray(e),on=(e,t,n=!1)=>{if(Array.isArray(e)){const p=e.map(v=>on(v,t,n));return v=>{for(const y of p){const g=y(v);if(g)return g}return!1}}const r=FL(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!r)throw new TypeError("Expected pattern to be a non-empty string");const a=t||{},s=Ep.isWindows(t),o=r?on.compileRe(e,t):on.makeRe(e,t,!1,!0),l=o.state;delete o.state;let u=()=>!1;if(a.ignore){const p={...t,ignore:null,onMatch:null,onResult:null};u=on(a.ignore,p,n)}const d=(p,m=!1)=>{const{isMatch:v,match:y,output:g}=on.test(p,o,t,{glob:e,posix:s}),_={glob:e,state:l,regex:o,posix:s,input:p,output:g,match:y,isMatch:v};return typeof a.onResult=="function"&&a.onResult(_),v===!1?(_.isMatch=!1,m?_:!1):u(p)?(typeof a.onIgnore=="function"&&a.onIgnore(_),_.isMatch=!1,m?_:!1):(typeof a.onMatch=="function"&&a.onMatch(_),m?_:!0)};return n&&(d.state=l),d};on.test=(e,t,n,{glob:r,posix:a}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};const s=n||{},o=s.format||(a?Ep.toPosixSlashes:null);let l=e===r,u=l&&o?o(e):e;return l===!1&&(u=o?o(e):e,l=u===r),(l===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?l=on.matchBase(e,t,n,a):l=t.exec(u)),{isMatch:!!l,match:l,output:u}};on.matchBase=(e,t,n,r=Ep.isWindows(n))=>(t instanceof RegExp?t:on.makeRe(t,n)).test(IL.basename(e));on.isMatch=(e,t,n)=>on(t,n)(e);on.parse=(e,t)=>Array.isArray(e)?e.map(n=>on.parse(n,t)):wd(e,{...t,fastpaths:!1});on.scan=(e,t)=>RL(e,t);on.compileRe=(e,t,n=!1,r=!1)=>{if(n===!0)return e.output;const a=t||{},s=a.contains?"":"^",o=a.contains?"":"$";let l=`${s}(?:${e.output})${o}`;e&&e.negated===!0&&(l=`^(?!${l}).*$`);const u=on.toRegex(l,t);return r===!0&&(u.state=e),u};on.makeRe=(e,t={},n=!1,r=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let a={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(a.output=wd.fastpaths(e,t)),a.output||(a=wd(e,t)),on.compileRe(a,t,n,r)};on.toRegex=(e,t)=>{try{const n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(n){if(t&&t.debug===!0)throw n;return/$^/}};on.constants=OL;var zL=on,ML=zL;const ax=Ro,ix=aL,Mr=ML,kd=Do,S0=e=>e===""||e==="./",ox=e=>{const t=e.indexOf("{");return t>-1&&e.indexOf("}",t)>-1},Lt=(e,t,n)=>{t=[].concat(t),e=[].concat(e);let r=new Set,a=new Set,s=new Set,o=0,l=p=>{s.add(p.output),n&&n.onResult&&n.onResult(p)};for(let p=0;p<t.length;p++){let m=Mr(String(t[p]),{...n,onResult:l},!0),v=m.state.negated||m.state.negatedExtglob;v&&o++;for(let y of e){let g=m(y,!0);(v?!g.isMatch:g.isMatch)&&(v?r.add(g.output):(r.delete(g.output),a.add(g.output)))}}let d=(o===t.length?[...s]:[...a]).filter(p=>!r.has(p));if(n&&d.length===0){if(n.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(n.nonull===!0||n.nullglob===!0)return n.unescape?t.map(p=>p.replace(/\\/g,"")):t}return d};Lt.match=Lt;Lt.matcher=(e,t)=>Mr(e,t);Lt.isMatch=(e,t,n)=>Mr(t,n)(e);Lt.any=Lt.isMatch;Lt.not=(e,t,n={})=>{t=[].concat(t).map(String);let r=new Set,a=[],s=l=>{n.onResult&&n.onResult(l),a.push(l.output)},o=new Set(Lt(e,t,{...n,onResult:s}));for(let l of a)o.has(l)||r.add(l);return[...r]};Lt.contains=(e,t,n)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${ax.inspect(e)}"`);if(Array.isArray(t))return t.some(r=>Lt.contains(e,r,n));if(typeof t=="string"){if(S0(e)||S0(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return Lt.isMatch(e,t,{...n,contains:!0})};Lt.matchKeys=(e,t,n)=>{if(!kd.isObject(e))throw new TypeError("Expected the first argument to be an object");let r=Lt(Object.keys(e),t,n),a={};for(let s of r)a[s]=e[s];return a};Lt.some=(e,t,n)=>{let r=[].concat(e);for(let a of[].concat(t)){let s=Mr(String(a),n);if(r.some(o=>s(o)))return!0}return!1};Lt.every=(e,t,n)=>{let r=[].concat(e);for(let a of[].concat(t)){let s=Mr(String(a),n);if(!r.every(o=>s(o)))return!1}return!0};Lt.all=(e,t,n)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${ax.inspect(e)}"`);return[].concat(t).every(r=>Mr(r,n)(e))};Lt.capture=(e,t,n)=>{let r=kd.isWindows(n),s=Mr.makeRe(String(e),{...n,capture:!0}).exec(r?kd.toPosixSlashes(t):t);if(s)return s.slice(1).map(o=>o===void 0?"":o)};Lt.makeRe=(...e)=>Mr.makeRe(...e);Lt.scan=(...e)=>Mr.scan(...e);Lt.parse=(e,t)=>{let n=[];for(let r of[].concat(e||[]))for(let a of ix(String(r),t))n.push(Mr.parse(a,t));return n};Lt.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!ox(e)?[e]:ix(e,t)};Lt.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return Lt.braces(e,{...t,expand:!0})};Lt.hasBraces=ox;var NL=Lt;const $L=Wa(NL),PL=[".ts",".tsx",".js",".jsx",".md",".json"],Du=5e3,DL=["**/node_modules/**","**/.git/**","**/.next/**","**/dist/**","**/build/**","**/.cache/**","**/coverage/**","**/test/**","**/__tests__/**","**/*.test.*","**/*.spec.*"],sx=(e,t=[])=>$L.isMatch(e,[...DL,...t])?!1:PL.some(n=>e.toLowerCase().endsWith(n)),lx=e=>{const t=e.split(`
`);return t.length<=Du?e:`${t.slice(0,Du).join(`
`)}

// ... [${t.length-Du} lines truncated, file too long] ...

`};async function LL(e,t={}){const r=await new gD().loadAsync(e),a=[];return await Promise.all(Object.keys(r.files).map(async s=>{const o=r.files[s];if(!(o.dir||!sx(s,t.ignorePatterns)))try{const l=await o.async("string");a.push({path:s,content:lx(l)})}catch(l){console.warn(`Failed to read file ${s}:`,l)}})),a.sort((s,o)=>s.path.localeCompare(o.path))}async function BL(e,t={}){const n=[];let r="Project";if(e.length>0){const o=(e[0].webkitRelativePath||"").split("/");o.length>0&&o[0]&&(r=o[0])}return await Promise.all(Array.from(e).map(async a=>{const s=a.webkitRelativePath||a.name;if(sx(s,t.ignorePatterns))try{const o=await a.text();n.push({path:s.includes("/")?s.substring(s.indexOf("/")+1):s,content:lx(o)})}catch(o){console.warn(`Failed to read file ${s}:`,o)}})),{files:n.sort((a,s)=>a.path.localeCompare(s.path)),projectName:r}}async function UL(e,t={}){const n=e.name.replace(".zip","");return{files:await LL(e,t),projectName:n}}function ZL({onSuccess:e,onError:t}={}){const[n,r]=U.useState(null),[a,s]=U.useState(!1),{fetch:o,isPending:l,error:u}=oD(),{id:d}=mr(),p=async(y,g)=>{const _=await o({body:{chatId:d,name:y,type:"code",files:g}});if(!_?.data)throw new Error("Failed to upload project");return _.data};return{processZipFile:async y=>{try{r(null),s(!0);const{files:g,projectName:_}=await UL(y,{ignorePatterns:["**/node_modules/**"]}),x=await p(_,g);return e?.({...x,id:vl(),status:"ready"},_),x}catch(g){throw r("Failed to process zip file"),t?.("Failed to process zip file"),console.error("Error processing zip:",g),g}finally{s(!1)}},processFolder:async y=>{try{r(null),s(!0);const{files:g,projectName:_}=await BL(y,{ignorePatterns:["**/node_modules/**"]}),x=await p(_,g);return e?.({...x,id:vl(),status:"ready"},_),x}catch(g){throw r("Failed to process folder"),t?.("Failed to process folder"),console.error("Error processing folder:",g),g}finally{s(!1)}},isLoading:a||l,error:u||n}}const Bn=()=>{const{formatMessage:e}=pt();return{t:(n,r)=>e({id:n,defaultMessage:r})}},cx=U.createContext({isCodeUploadOpen:!1,submitOnFinish:!1,openCodeUpload:()=>{},closeCodeUpload:()=>{}}),Ap=()=>U.useContext(cx),HL=({children:e})=>{const[t,n]=U.useState(!1),[r,a]=U.useState(!1),s=l=>{n(!0),a(l??!1)},o=()=>n(!1);return f.jsxs(cx.Provider,{value:{isCodeUploadOpen:t,submitOnFinish:r,openCodeUpload:s,closeCodeUpload:o},children:[t&&f.jsx(VL,{}),e]})},E0=({importType:e,onAddFiles:t,error:n})=>{const[r,a]=U.useState(!1),s=U.useRef(null),{t:o}=Bn(),l=g=>{g.preventDefault()},u=g=>{g.preventDefault(),a(!0)},d=()=>a(!1),p=g=>{g.preventDefault(),s.current?.click()},m=()=>{const g=s.current?.files;g&&t(Array.from(g))},v=async g=>{const _=g.createReader(),x=()=>new Promise((T,j)=>{_.readEntries(T,j)}),k=[];let A=[];do{A=await x();for(const T of A)if(T.isFile){const j=T,F=await new Promise((O,B)=>{j.file(O,B)});Object.defineProperty(F,"webkitRelativePath",{writable:!0,value:T.fullPath.substring(1)}),k.push(F)}else if(T.isDirectory){const F=await v(T);k.push(...F)}}while(A.length>0);return k},y=async g=>{if(g.preventDefault(),a(!1),!!g.dataTransfer?.items)if(e==="folder"){const _=g.dataTransfer.items,x=[];for(let k=0;k<_.length;k++){const T=_[k].webkitGetAsEntry?.();if(T){if(T.isDirectory){const j=await v(T);x.push(...j)}else if(T.isFile){const j=await new Promise((F,O)=>{T.file(F,O)});x.push(j)}}}x.length>0&&t(x)}else g.dataTransfer.files&&t(Array.from(g.dataTransfer.files))};return f.jsxs(Ce,{position:"relative",cursor:"pointer",width:"100%",height:"100%",minHeight:"140px",borderStyle:"dashed",borderColor:r?"primary500":n?"danger600":"neutral200",background:r?"primary100":n?"danger100":"neutral100",hasRadius:!0,padding:7,justifyContent:"center",direction:"column",alignItems:"center",gap:2,onDragEnter:u,onDragLeave:d,onDragOver:l,onDrop:y,children:[e==="zip"?f.jsx(o1,{width:"24px",height:"24px"}):f.jsx(zd,{width:"24px",height:"24px"}),f.jsxs(Ce,{direction:"column",alignItems:"center",gap:2,children:[f.jsxs(Fe,{variant:"omega",textColor:"neutral600",textAlign:"center",children:[e==="zip"?o("chat.code-upload.drop-zone","Drop here a .zip file here or"):o("chat.code-upload.drop-zone-folder","Drop here a folder here or")," ",f.jsx(Fe,{variant:"omega",textColor:"primary600",onClick:p,children:o("chat.code-upload.drop-zone-browse","browse files")})]}),n&&f.jsx(Fe,{variant:"pi",textColor:"danger600",children:n})]}),f.jsx(ze,{tag:"input",position:"absolute",left:0,right:0,bottom:0,top:0,width:"100%",name:"code","aria-label":"Upload project",tabIndex:-1,zIndex:1,ref:s,onChange:m,style:{opacity:0,cursor:"pointer"},type:"file",...e==="zip"?{accept:".zip",multiple:!1}:{multiple:!0,webkitdirectory:"",directory:""}})]})},WL=({setFileName:e,error:t,processZipFile:n,processFolder:r})=>{const{t:a}=Bn(),{nextStep:s}=Wb();return f.jsxs(Ce,{direction:"column",gap:6,alignItems:"start",width:"100%",children:[f.jsxs(Ce,{direction:"column",gap:2,alignItems:"start",children:[f.jsx(Fe,{variant:"beta",children:a("chat.code-upload.title","Import code")}),f.jsx(Fe,{variant:"omega",textColor:"neutral600",children:a("chat.code-upload.description","Your app will be analyzed by AI. Make sure to remove all sensitive data before importation.")})]}),f.jsxs(Ce,{gap:3,width:"100%",wrap:"wrap",children:[f.jsx(ze,{flex:1,minWidth:"200px",children:f.jsx(E0,{importType:"zip",onAddFiles:o=>{if(o.length>0){const l=o[0];e(l.name.replace(".zip","")),s(),n(l)}},error:t})}),f.jsx(ze,{flex:1,minWidth:"200px",children:f.jsx(E0,{importType:"folder",onAddFiles:async o=>{if(o.length>0)try{const d=(o[0].webkitRelativePath||"").split("/")[0]||"Project";e(d),s(),await r(o)}catch(l){console.error("Error processing folder:",l)}},error:t})})]})]})},qL=({projectName:e,isLoading:t,error:n})=>{const{t:r}=Bn();return f.jsxs(Ce,{direction:"column",gap:6,alignItems:"start",width:"100%",children:[f.jsxs(Ce,{direction:"column",gap:2,alignItems:"start",children:[f.jsx(Fe,{variant:"beta",children:r("chat.code-upload.confirmation-title","Confirm Code Import")}),f.jsx(Fe,{variant:"omega",textColor:"neutral600",children:r("chat.code-upload.confirmation-description","Your code is ready to be imported. Click finish to add it to your chat.")})]}),f.jsx(ze,{width:"100%",children:f.jsx(Hd,{attachment:{id:vl(),status:t?"loading":"ready",filename:e||"",url:"",type:"file",mediaType:P1},error:n,minWidth:"256px"})})]})},VL=()=>{const[e,t]=U.useState(null),[n,r]=U.useState(null),{t:a}=Bn(),{addAttachments:s}=Po(),{processZipFile:o,processFolder:l,isLoading:u,error:d}=ZL({onSuccess:j=>r(j)}),{isCodeUploadOpen:p,closeCodeUpload:m,submitOnFinish:v}=Ap(),{sendMessage:y,openChat:g,input:_,setInput:x}=mr(),k=()=>{t(null),r(null),m()},A=async()=>{g(),n&&v?y({role:"user",parts:[{type:"text",text:"Create schemas from my uploaded project"},n]}):n&&(_||x("Create schemas from my uploaded project"),s([n])),m()},T=()=>!!n;return f.jsxs(La,{open:p,onOpenChange:j=>{j||k()},title:a("chat.code-upload.header","Import code"),onCancel:k,onComplete:A,children:[f.jsx(La.Step,{title:a("chat.code-upload.step1-title","Import code"),nextLabel:a("chat.code-upload.continue-button","Continue"),cancelLabel:a("common.cancel","Cancel"),disableNext:!n||u,onNext:T,children:f.jsx(WL,{setFileName:t,error:d,processZipFile:o,processFolder:l})}),f.jsx(La.Step,{title:a("chat.code-upload.step2-title","Confirm"),nextLabel:a("common.finish","Finish"),backLabel:a("form.button.back","Back"),disableNext:!n||u,children:f.jsx(qL,{projectName:e,isLoading:u,error:d})})]})},GL=gt(ze)`
  display: flex;
  align-items: center;
  justify-content: center;
  height: 160px;
  width: 100%;
  border-radius: 4px 4px 0 0;
  overflow: hidden;
  cursor: pointer;
`,JL=gt(Zd)`
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  // make it appear gracefully when first rendering
  animation: ${gi.fadeIn} 0.3s ease;
`,KL=gt(lE)`
  height: 100%;
  width: 100%;
  ${({$selected:e,theme:t})=>e?`
      border: 2px solid ${t.colors.primary600};
      outline: 0px solid transparent;
    `:`
      border: 2px solid transparent;
      outline: 1px solid ${t.colors.neutral200};
    `}
  transition: all 0.2s ease-in-out;
`,YL=({imageUrl:e,imageName:t,selected:n=!1,onSelect:r})=>f.jsx(Xs.Root,{src:e,alt:t,children:f.jsxs(KL,{role:"button",$selected:n,children:[f.jsxs(nE,{children:[f.jsx(rE,{checked:n,onCheckedChange:r}),f.jsx(aE,{position:"end",children:f.jsx(Xs.Trigger,{children:f.jsx(fr,{label:"Preview",type:"button",children:f.jsx(s1,{})})})}),f.jsx(GL,{onClick:r,children:f.jsx(JL,{src:e,alt:t})})]}),f.jsx(iE,{children:f.jsx(oE,{children:f.jsx(sE,{children:t})})})]})}),ux="strapi-ai-figma-token",Tp=()=>{try{return localStorage.getItem(ux)||""}catch(e){return console.error("Error accessing localStorage:",e),""}},XL=e=>{try{localStorage.setItem(ux,e)}catch(t){console.error("Error saving to localStorage:",t)}},Cd=()=>!!Tp(),QL=e=>{const t=/figma\.com\/(?:file|design)\/([a-zA-Z0-9]+)\/.*[?&]node-id=([^&]+)/,n=e.match(t);if(!n)throw new Error("Invalid Figma URL");const r=n[1],a=decodeURIComponent(n[2]).replace(/-/g,":");return{fileKey:r,nodeId:a}},dx=()=>{const e=Tp();if(!e)throw new Error("Figma API token is required");return e},eB=async(e,t)=>{const n=dx();try{const r=`https://api.figma.com/v1/files/${e}/nodes?ids=${t}`,a=await fetch(r,{headers:{"X-Figma-Token":n}});if(!a.ok)throw new Error(`Figma API error: ${a.status} ${a.statusText}`);return(await a.json()).nodes[t]}catch(r){const a=r instanceof Error?r.message:"Failed to fetch Figma data";throw new Error(a)}},px=e=>{const t=[];if(e.type==="FRAME")return t.push({id:e.id,name:e.name}),t;if(e.children&&e.children.length>0)for(const n of e.children)t.push(...px(n));return t},tB=async(e,t)=>{const n=dx();if(t.length===0)return{images:{}};try{const r=t.slice(0,50).join(","),a=`https://api.figma.com/v1/images/${e}?ids=${r}&format=png&scale=0.4`,s=await fetch(a,{headers:{"X-Figma-Token":n}});if(!s.ok){const l=await s.text();throw new Error(`Figma API image error: ${s.status} ${s.statusText} - ${l}`)}const o=await s.json();if(o.err)throw new Error(`Figma API image error: ${o.err}`);return o}catch(r){const a=r instanceof Error?r.message:"Failed to fetch Figma node images";throw new Error(a)}};function nB({onSuccess:e,onError:t}={}){const[n,r]=U.useState(!1),[a,s]=U.useState(null);return{processFigmaUrl:async l=>{try{if(!Cd()){const k="Figma API token is required";throw s(k),t?.(k),new Error(k)}r(!0),s(null);const{fileKey:u,nodeId:d}=QL(l),p=await eB(u,d);if(!p.document)return;const m=px(p.document),v=new Map(m.map(k=>[k.id,k.name])),y=m.map(k=>k.id),_=(await tB(u,y)).images,x=Object.entries(_).map(([k,A])=>({id:k,type:"file",filename:v.get(k),mediaType:"image/png",url:A,status:"ready"}));return e?.(x),x}catch(u){const d=u instanceof Error?u.message:"Unknown error processing Figma URL";throw s(d),t?.(d),console.error("Error processing Figma URL:",u),u}finally{r(!1)}},isLoading:n,error:a}}const fx=U.createContext({isFigmaUploadOpen:!1,submitOnFinish:!1,openFigmaUpload:()=>{},closeFigmaUpload:()=>{}}),jp=()=>{const e=U.useContext(fx);if(!e)throw new Error("useUploadFigmaToChat must be used within an UploadFigmaToChatProvider");return e},rB=({children:e})=>{const[t,n]=U.useState(!1),[r,a]=U.useState(!1),s=l=>{n(!0),a(l??!1)},o=()=>n(!1);return f.jsxs(fx.Provider,{value:{isFigmaUploadOpen:t,submitOnFinish:r,openFigmaUpload:s,closeFigmaUpload:o},children:[t&&f.jsx(oB,{}),e]})},aB=({figmaUrl:e,setFigmaUrl:t})=>{const{t:n}=Bn(),{isLoading:r}=Wb(),[a,s]=U.useState(!Cd()),[o,l]=U.useState(Tp),u=()=>{o.trim()&&(XL(o),s(!1))};return a?f.jsxs(Ce,{direction:"column",gap:6,alignItems:"start",children:[f.jsxs(Ce,{direction:"column",gap:2,alignItems:"start",children:[f.jsx(Fe,{variant:"beta",children:n("chat.figma-upload.token-title","Enter Figma API Token")}),f.jsx(Fe,{variant:"omega",textColor:"neutral600",children:n("chat.figma-upload.token-description","To access your Figma designs, you need to provide a personal access token. This will be stored securely in your browser.")}),f.jsx(wl,{href:"https://help.figma.com/hc/en-us/articles/8085703771159-Manage-personal-access-tokens",isExternal:!0,children:n("chat.figma-upload.token-help","How to get a Figma API token")})]}),f.jsx(ze,{width:"100%",children:f.jsx(Kr,{name:"figma-token",placeholder:n("chat.figma-upload.token-placeholder","Enter Figma API token"),"aria-label":n("chat.figma-upload.token-placeholder","Enter Figma API token"),value:o,onChange:d=>l(d.target.value),width:"100%",disabled:r,type:"password"})}),f.jsxs(Ce,{gap:2,children:[f.jsx(ht,{onClick:u,disabled:!o.trim(),variant:"secondary",children:n("chat.figma-upload.save-token","Save token")}),f.jsx(ht,{onClick:()=>s(!1),variant:"tertiary",disabled:!Cd(),children:n("chat.figma-upload.cancel","Cancel")})]})]}):f.jsxs(Ce,{direction:"column",gap:6,alignItems:"start",children:[f.jsxs(Ce,{direction:"column",gap:2,alignItems:"start",width:"100%",children:[f.jsxs(Ce,{justifyContent:"space-between",alignItems:"center",width:"100%",children:[f.jsx(Fe,{variant:"beta",children:n("chat.figma-upload.title","Import Figma Design")}),f.jsx(ht,{onClick:()=>s(!0),variant:"tertiary",size:"S",children:n("chat.figma-upload.edit-token","Edit API token")})]}),f.jsx(Fe,{variant:"omega",textColor:"neutral600",children:n("chat.figma-upload.description","Ask to turn your designs into schemas by attaching a link to one or multiple frames in your Figma files. (Max 15 frames)")})]}),f.jsx(ze,{width:"100%",children:f.jsx(Kr,{name:"figma-url",placeholder:n("chat.figma-upload.url-placeholder","Enter Figma URL"),"aria-label":n("chat.figma-upload.url-placeholder","Enter Figma URL"),value:e,onChange:d=>t(d.target.value),width:"100%",disabled:r,type:"url"})})]})},iB=({images:e,selectedImages:t,setSelectedImages:n})=>{const{t:r}=Bn(),a=()=>{if(t.length===e.length)n([]);else{const o=e.map(l=>l.id);n(o)}};if(e.length===0)return f.jsx(Ce,{direction:"column",gap:4,alignItems:"center",padding:4,children:f.jsx(Fe,{variant:"omega",children:r("chat.figma-upload.no-images","No frames found in the Figma file.")})});const s=o=>{const l=t.includes(o)?t.filter(u=>u!==o):[...t,o];n(l)};return f.jsxs(Ce,{direction:"column",gap:4,alignItems:"start",width:"100%",height:"min(45vh, 400px)",children:[f.jsxs(Ce,{justifyContent:"space-between",width:"100%",alignItems:"center",children:[f.jsx(Fe,{variant:"beta",children:r("chat.figma-upload.select-images","Select Frames to Import")}),f.jsxs(Ce,{gap:3,alignItems:"center",children:[f.jsxs(Fe,{children:[t.length," of ",e.length," selected"]}),f.jsx(ht,{onClick:a,type:"button",variant:"secondary",children:t.length===e.length?r("chat.figma-upload.deselect-all","Deselect All"):r("chat.figma-upload.select-all","Select All")})]})]}),f.jsx(ze,{paddingRight:4,width:"100%",style:{overflowY:"auto"},children:f.jsx(pr.Root,{gap:4,children:e.map((o,l)=>{const u=t.includes(o.id);return f.jsx(pr.Item,{col:6,xs:12,padding:"1px",children:f.jsx(YL,{imageUrl:o.url,imageName:o.filename||`Frame ${l+1}`,selected:u,onSelect:()=>s(o.id)})},o.id)})})})]})},oB=()=>{const[e,t]=U.useState(""),[n,r]=U.useState([]),[a,s]=U.useState([]),{t:o}=Bn(),{addAttachments:l}=Po(),{isFigmaUploadOpen:u,closeFigmaUpload:d,submitOnFinish:p}=jp(),{input:m,setInput:v,setMessages:y,sendMessage:g,openChat:_}=mr(),{processFigmaUrl:x,isLoading:k,error:A}=nB({onSuccess:B=>{r(B);const L=B.slice(0,15).map(V=>V.id);s(L)}}),T=async()=>(await x(e),!0),j=B=>{if(!B)return!1;try{const L=new URL(B);return L.hostname==="www.figma.com"||L.hostname==="figma.com"}catch{return!1}},F=()=>{t(""),r([]),s([]),d()},O=()=>{const B=n.filter(L=>a.includes(L.id));if(B.length===0){d();return}_(),p?(g({role:"user",parts:[{type:"text",text:"Create schemas from the attached images"},...B]}),d()):(m||v("Create schemas from the attached images"),l(B),d())};return f.jsxs(La,{open:u,onOpenChange:B=>{B||F()},title:o("chat.figma-upload.header","Import from Figma"),onCancel:F,onComplete:O,children:[f.jsx(La.Step,{title:o("chat.figma-upload.step1-title","Enter Figma URL"),nextLabel:o("chat.figma-upload.import-button","Import"),cancelLabel:o("form.button.cancel","Cancel"),disableNext:!e||k||!j(e),onNext:T,children:f.jsx(aB,{figmaUrl:e,setFigmaUrl:t,error:A})}),f.jsx(La.Step,{title:o("chat.figma-upload.step2-title","Preview Images"),nextLabel:o("form.button.finish","Finish"),backLabel:o("form.button.back","Back"),disableNext:a.length===0,children:f.jsx(iB,{images:n,selectedImages:a,setSelectedImages:s})})]})},sB={create:"NEW",remove:"REMOVED",update:"CHANGED"},Lu=(e,t,n)=>({...t,name:e,status:n}),lB=(e,t,n)=>{if(!t||n?.status==="NEW")return"NEW";const r=Ks(e,["status"]),a=Ks(t,["status"]);return bo(r,a)?t.status:"CHANGED"},A0=(e,t)=>e.action?sB[e.action]:t?t.status:"NEW",T0=({action:e,attributes:t},n)=>{if(e==="create"||!n)return Object.entries(t).map(([o,l])=>Lu(o,l,"NEW"));const r=n.attributes.reduce((o,l)=>({...o,[l.name]:l}),{}),a=Object.entries(t).map(([o,l])=>{const u=r[o],d=lB({...l,name:o},u,n);return Lu(o,l,d)});if(n?.status==="NEW")return a;const s=Object.entries(r).filter(([o])=>!t[o]).map(([o,l])=>Lu(o,l,"REMOVED"));return[...a,...s]},cB=(e,t)=>{const n=Ci.singular(e.name).toLowerCase().replace(/ /g,"-"),r=Ci.plural(e.name).toLowerCase().replace(/ /g,"-");return e.modelType==="component"?{category:e.category||"default",modelName:n,attributes:T0(e,t),info:{displayName:e.name,description:e.description},modelType:e.modelType,uid:e.uid,collectionName:r,status:A0(e,t),globalId:n}:{uid:e.uid,modelType:e.modelType,modelName:n,kind:e.kind,info:{displayName:e.name.charAt(0).toUpperCase()+e.name.slice(1),singularName:t?.info?.singularName||n,pluralName:t?.info?.pluralName||r},collectionName:r,attributes:T0(e,t),options:{draftAndPublish:e.options?.draftAndPublish??!1},pluginOptions:{i18n:{localized:e.options?.localized??!1}},visible:!0,status:A0(e,t),globalId:n,restrictRelationsTo:null}},uB=U.createContext(void 0),dB={create:"add",update:"update",remove:"delete"};function pB(e){if(e.role!=="assistant")return[];const t=[];return e.parts?.forEach((n,r)=>{if(n&&typeof n=="object"&&n.type==="tool-schemaGenerationTool"){const a=n.output;if(!a||a.error||!Array.isArray(a.schemas))return;const s=n.toolCallId??`${e.id}-${r}`;a.schemas.forEach((o,l)=>{const u=`${s}-${o.uid??o.name??l}`,d=o.action||"update";t.push({type:d,schema:o,revisionId:u})})}}),t}const fB=({children:e})=>{const[t,n]=U.useState(null),{messages:r,status:a}=mr(),{contentTypes:s,components:o,applyChange:l}=Xn(),u=Ua("SchemaChatProvider",p=>p.dispatch),d=Ua("SchemaChatProvider",p=>p.state);return U.useEffect(()=>{const p=r[r.length-1];if(!p||p.role!=="assistant"||a!=="ready")return;const m=pB(p),v=d.completedActions.includes(Ys.contentTypeBuilder.addField);m.forEach(y=>{const g=s[y.schema.uid]||o[y.schema.uid],_=cB(y.schema,g);!v&&y.schema.attributes&&y.type!=="remove"&&Object.keys(y.schema.attributes).length>0&&u({type:"set_completed_actions",payload:[Ys.contentTypeBuilder.addField]}),l({action:dB[y.type],schema:_})}),n(p.id)},[r]),f.jsx(uB.Provider,{value:{lastRevisedId:t,setLastRevisedId:n},children:e})},hx=U.createContext(void 0),j0=()=>Math.random().toString(36).substring(2,15),hB=({children:e,defaultOpen:t=!1})=>{const[n,r]=U.useState(j0()),[a,s]=U.useState(t),[o,l]=U.useState(0),[u,d]=U.useState(""),[p,m]=U.useState([]),{trackUsage:v}=Oi(),{components:y,contentTypes:g}=Xn(),{lastSeenSchemas:_}=fD(),x=U.useMemo(()=>[...Object.values(g).filter(M=>M.status!=="REMOVED").filter(M=>M.uid!=="plugin::users-permissions.user").filter(M=>M.visible).map(r0),...Object.values(y).filter(M=>M.status!=="REMOVED").map(r0)],[g,y]),{id:k,messages:A,sendMessage:T,status:j,stop:F,...O}=cD({id:n?.toString(),experimental_throttle:100}),B=async(M,Y)=>{if(!(j==="streaming"||j==="submitted"))return T(M,{...Y,body:{...Y?.body,schemas:x,metadata:{lastSeenSchemas:_.map(w=>w.uid)}}})},L=M=>{if(M.preventDefault(),j==="streaming"||j==="submitted")return;const Y=p.filter(P=>P.status!=="loading");if(u.trim().length===0&&p.length===0)return;const w=Y.map(P=>({type:"file",filename:P.filename,mediaType:P.mediaType,url:P.url}));B({text:u,files:w}),d(""),m([])},{title:V,generateTitle:q,resetTitle:D}=uD({chatId:k,messages:A});U.useEffect(()=>{A.length>=1&&!V&&q()},[A.length,V,q]),U.useEffect(()=>{j==="error"?v("didAnswerMessage",{successful:!1}):j==="ready"&&A.length>0&&A[A.length-1]?.role==="assistant"&&v("didAnswerMessage",{successful:!0})},[j,A,v]);const X=l1();return f.jsx(hx.Provider,{value:{isChatEnabled:X,id:k,status:j,stop:F,sendMessage:B,...O,messages:A,handleSubmit:L,input:u,setInput:d,handleInputChange:M=>d(M.target.value),reset:()=>{F(),r(j0()),v("didStartNewChat"),D()},schemas:x,title:V,isChatOpen:a,openChat:()=>{s(!0),o===0&&v("didStartNewChat"),l(M=>M+1)},closeChat:()=>s(!1),attachments:p,setAttachments:m},children:e})},mB=({children:e,defaultOpen:t=!1})=>f.jsx(hB,{defaultOpen:t,children:f.jsx(fB,{children:f.jsx(HL,{children:f.jsx(rB,{children:f.jsx(gB,{children:e})})})})});function mr(){const e=U.useContext(hx);if(e===void 0)throw new Error("useStrapiChat must be used within a ChatProvider");return e}const mx=()=>{const{fetch:e,isPending:t,error:n}=sD(),{id:r,messages:a,schemas:s}=mr(),{toggleNotification:o}=Ri(),{trackUsage:l}=Oi(),{t:u}=Bn(),[d,p]=U.useState({}),m=g=>!!d[g];return{upvoteMessage:g=>m(g)?Promise.resolve():(l("didVoteAnswer",{value:"positive"}),o({type:"success",message:u("chat.feedback.submitted","Thank you for your feedback! ")}),p(_=>({..._,[g]:"upvote"})),e({body:{type:"upvote",chatId:r,messageId:g,messages:a,schemas:s}})),downvoteMessage:(g,_,x)=>(l("didVoteAnswer",{value:"negative"}),o({type:"success",message:u("chat.feedback.submitted","Thank you for your feedback! ")}),e({body:{type:"downvote",chatId:r,messageId:g,messages:a,feedback:_,reasons:x,schemas:s}})),isPending:t,error:n}},gx=U.createContext({isFeedbackModalOpen:!1,currentMessageId:null,openFeedbackModal:()=>{},closeFeedbackModal:()=>{}}),vx=()=>U.useContext(gx),gB=({children:e})=>{const[t,n]=U.useState(!1),[r,a]=U.useState(null),s=l=>{a(l),n(!0)},o=()=>{n(!1),a(null)};return f.jsxs(gx.Provider,{value:{isFeedbackModalOpen:t,currentMessageId:r,openFeedbackModal:s,closeFeedbackModal:o},children:[t&&r&&f.jsx(bB,{}),e]})},vB=gt(Ce)`
  &:hover {
    background-color: ${({theme:e})=>e.colors.neutral100};
  }

  &.selected {
    background-color: ${({theme:e})=>e.colors.primary100};
    border-color: ${({theme:e})=>e.colors.primary200};
  }
`,yB=({id:e,label:t,selected:n,onClick:r})=>f.jsxs(vB,{className:n?"selected":"",justifyContent:"space-between",hasRadius:!0,width:"100%",cursor:"pointer",borderColor:"neutral200",padding:3,gap:3,onClick:()=>r(e),children:[f.jsx(Fe,{variant:"omega",fontWeight:"bold",children:t}),f.jsx(kl,{name:`feedback-${e}`,value:e,checked:n,onChange:()=>r(e)})]}),bB=()=>{const[e,t]=U.useState(""),[n,r]=U.useState([]),{t:a}=Bn(),{toggleNotification:s}=Ri(),{closeFeedbackModal:o,currentMessageId:l}=vx(),{downvoteMessage:u,isPending:d}=mx(),p=[{id:"invalid_schema",label:a("chat.feedback.reason.invalid_schema","Invalid schema")},{id:"bad_recommendation",label:a("chat.feedback.reason.bad_recommendation","Bad recommendation")},{id:"slow",label:a("chat.feedback.reason.slow","Slow")},{id:"instructions_ignored",label:a("chat.feedback.reason.instructions_ignored","Instructions ignored")},{id:"being_lazy",label:a("chat.feedback.reason.being_lazy","Being lazy")},{id:"other",label:a("chat.feedback.reason.other","Other")}],m=y=>{r(g=>g.includes(y)?g.filter(_=>_!==y):[...g,y])},v=async()=>{if(n.length!==0)try{await u(l,e,n),t(""),r([]),o()}catch{s({type:"danger",message:a("chat.feedback.error","An error occurred while submitting your feedback")})}};return f.jsx(pn.Root,{open:!0,onOpenChange:o,children:f.jsxs(pn.Content,{children:[f.jsx(pn.Header,{children:f.jsx(Fe,{variant:"omega",fontWeight:"bold",children:a("chat.feedback.title","Give feedback")})}),f.jsx(pn.Body,{children:f.jsxs(Ce,{direction:"column",alignItems:"start",gap:6,width:"100%",children:[f.jsxs(Ce,{direction:"column",alignItems:"start",gap:2,children:[f.jsx(Fe,{variant:"beta",fontWeight:"bold",children:a("chat.feedback.title","Give feedback")}),f.jsx(Fe,{variant:"omega",children:a("chat.feedback.subtitle","Provide additional feedback on this message. Select all that apply.")})]}),f.jsx(pr.Root,{width:"100%",gap:2,children:p.map(y=>f.jsx(pr.Item,{col:6,xs:12,children:f.jsx(yB,{id:y.id,label:y.label,selected:n.includes(y.id),onClick:m},y.id)},y.id))}),f.jsxs(Ce,{direction:"column",gap:2,width:"100%",alignItems:"start",children:[f.jsx(Fe,{variant:"omega",children:a("chat.feedback.comment.label","How can we improve? (optional)")}),f.jsx(ze,{width:"100%",children:f.jsx(Nd,{name:"feedback",placeholder:a("chat.feedback.placeholder","Your feedback..."),onChange:y=>t(y.target.value),value:e})})]})]})}),f.jsxs(pn.Footer,{children:[f.jsx(pn.Close,{children:f.jsx(ht,{variant:"tertiary",onClick:o,children:a("form.button.cancel","Cancel")})}),f.jsx(ht,{onClick:v,loading:d,disabled:n.length===0,children:a("form.button.submit","Submit")})]})]})})},yx=U.createContext(void 0),bx=()=>{const e=U.useContext(yx);if(!e)throw new Error("Collapsible components must be wrapped in <Collapsible />");return e},xB=gt(ze)`
  overflow: hidden;
  transition: height ${({theme:e})=>e.motion.timings[200]}
    ${({theme:e})=>e.motion.easings.easeOutQuad};
`,_B=({children:e,defaultOpen:t=!1})=>{const[n,r]=U.useState(t);return f.jsx(yx.Provider,{value:{open:n,toggle:()=>r(a=>!a)},children:e})},wB=({children:e})=>{const{toggle:t,open:n}=bx();return f.jsx(ze,{onClick:t,style:{cursor:"pointer"},children:typeof e=="function"?e({open:n}):e})},kB=({children:e})=>{const{open:t}=bx(),n=U.useRef(null),[r,a]=U.useState(0);return U.useLayoutEffect(()=>{if(n.current){const s=n.current.scrollHeight;a(s)}},[e]),f.jsx(xB,{ref:n,role:"region","aria-hidden":!t,style:{height:t?`${r}px`:0,visibility:r===0?"hidden":"visible"},children:e})},CB=Fa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,SB=gt(uE)`
  animation: ${CB} 1s linear infinite;
`,EB=gt(ze)`
  transform: rotate(${({$open:e})=>e?"180deg":"0deg"});
  transition: transform ${({theme:e})=>e.motion.timings[200]}
    ${({theme:e})=>e.motion.easings.easeOutQuad};
`,AB=({status:e})=>{switch(e){case"update":return f.jsx(Fe,{fontWeight:"semiBold",textColor:"warning500",children:"M"});case"remove":return f.jsx(Fe,{fontWeight:"semiBold",textColor:"danger500",children:"D"});case"create":return f.jsx(Fe,{fontWeight:"semiBold",textColor:"success500",children:"N"});default:return null}},TB=({title:e,steps:t,state:n})=>{const r=()=>{switch(n){case"success":return f.jsx(u1,{fill:"success500"});case"loading":return f.jsx(SB,{});case"error":return f.jsx(Md,{fill:"danger500"});default:return null}};return f.jsx(ze,{borderWidth:"1px",borderColor:"neutral200",borderStyle:"solid",hasRadius:!0,marginBottom:3,width:"336px",children:f.jsxs(_B,{defaultOpen:!1,children:[f.jsx(wB,{children:({open:a})=>f.jsx(ze,{padding:3,borderColor:"neutral200",borderWidth:a?"0 0 1px 0":"0",borderStyle:"solid",children:f.jsxs(Ce,{gap:2,alignItems:"center",children:[r(),f.jsx(Fe,{children:e}),f.jsx(Ce,{marginLeft:"auto",children:f.jsx(EB,{as:cE,$open:a})})]})})}),f.jsx(kB,{children:f.jsx(Ce,{gap:3,padding:3,direction:"column",children:t.map(a=>f.jsxs(Ce,{gap:2,justifyContent:"space-between",width:"100%",padding:[0,1],children:[a.link?f.jsx(wl,{tag:c1,to:a.link,children:f.jsx(Fe,{children:a.description})}):f.jsx(Fe,{children:a.description}),f.jsx(AB,{status:a.status})]},a.id))})})]})})},jB=gt(Fe)`
  max-width: 65ch;
  margin: 0 auto;
  overflow-wrap: anywhere;
  word-break: break-word;

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin-top: 1.25em;
    margin-bottom: 0.5em;
    font-weight: bold;
  }

  p {
    margin-bottom: 1em;
  }

  ul,
  ol {
    padding-left: 1.5em; /* indentation for bullet points */
    margin-bottom: 1em;
  }

  li {
    margin-bottom: 0.5em;
    list-style-type: disc; /* or whatever style you prefer */
  }

  strong {
    font-weight: bold;
  }

  /* code blocks, blockquotes, etc. */
  code {
    background-color: ${({theme:e})=>e.colors.neutral100};
    padding: 0.2em 0.4em;
    border-radius: ${({theme:e})=>e.borderRadius};
    border-color: ${({theme:e})=>e.colors.neutral150};
    border-style: solid;
    font-family: 'SF Mono', SFMono-Regular, ui-monospace, 'DejaVu Sans Mono', Menlo, Consolas,
      monospace;
  }

  /* links */
  a {
    color: ${({theme:e})=>e.colors.primary500};
    background-color: ${({theme:e})=>e.colors.neutral100};
    padding: 0.2em 0.4em;
    border-radius: ${({theme:e})=>e.borderRadius};
    border-color: ${({theme:e})=>e.colors.neutral150};
    border-style: solid;
    text-decoration: none;

    &:hover {
      text-decoration: underline;
    }
  }
`,IB=gt(Fe)`
  overflow-wrap: anywhere;
  word-break: break-word;
`,RB=e=>e&&typeof e=="object"&&e.type==="tool-schemaGenerationTool",OB=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"",FB=e=>{const t=(e.kind??e.modelType)==="component";if(e.uid)return t?`/plugins/content-type-builder/component-categories/${e.category??""}/${e.uid}`:`/plugins/content-type-builder/content-types/${e.uid}`},zB=e=>{const t=e.output?.schemas??[],n=e.input?.schemas??[],r=t.length?t:n,a=r.length,s=e.output?e.output.error?"error":"success":"loading",o=r.map((u,d)=>({id:`${e.toolCallId??"schemaGenerationTool"}-${u.uid??u.name??d}`,description:OB(u.name??u.uid??"Schema"),status:u.action==="create"||u.action==="update"||u.action==="remove"?u.action:"update",link:FB(u)}));return{type:"marker",title:s==="success"?`Updated ${a} schema${a===1?"":"s"}`:s==="error"?`Failed to update schema${a===1?"":"s"}`:"Updating schemas",state:s,steps:o}},MB=({part:e})=>{if(e.type==="text")return f.jsx(jB,{children:f.jsx(C8,{components:{a:({node:t,...n})=>f.jsx("a",{target:"_blank",rel:"noopener noreferrer",...n})},children:e.text})});if(RB(e)){const t=zB(e);return f.jsx(TB,{...t})}return null},NB=({message:e})=>{const t=e.parts.some(r=>r.type==="text"&&r.text.trim()!==""),n=e.parts.filter(r=>r.type==="file");return f.jsxs($1,{as:Ce,direction:"column",alignItems:"flex-end",style:{alignSelf:"flex-end"},gap:2,maxWidth:"80%",children:[t?f.jsx(ze,{background:"neutral150",borderStyle:"none",padding:["10px","16px"],hasRadius:!0,children:e.parts.map((r,a)=>r.type!=="text"?null:f.jsx(IB,{children:r.text},a))}):null,n.map((r,a)=>f.jsx(Hd,{attachment:{...r,status:"ready"}},`${r.type==="file"?r.filename:r.type}-${a}`))]})},$B=({message:e,isLoading:t})=>{const{upvoteMessage:n}=mx(),{openFeedbackModal:r}=vx();return f.jsxs(ze,{style:{alignSelf:"flex-start"},maxWidth:"90%",children:[e.parts.map((a,s)=>f.jsx(MB,{part:a},s)),t?f.jsxs(Ce,{gap:1,children:[f.jsx(fr,{label:"Upvote",size:"XS",variant:"ghost",onClick:()=>n(e.id),children:f.jsx(d1,{})}),f.jsx(fr,{label:"Downvote",size:"XS",variant:"ghost",onClick:()=>r(e.id),children:f.jsx(p1,{})})]}):null]})},PB=({message:e,isLoading:t})=>e.role==="user"?f.jsx(NB,{message:e}):f.jsx($B,{message:e}),DB=gt(ze).attrs({as:"textarea"})`
  border: none;
  resize: none;
  background: transparent;
  outline: none !important;
  width: 100%;
  min-height: 44px;
  max-height: 160px;
  line-height: ${({theme:e})=>e.lineHeights[4]};
  font-size: ${({theme:e})=>e.fontSizes[2]};
  color: ${({theme:e})=>e.colors.neutral800};
  padding-bottom: ${({theme:e})=>e.spaces[1]};
  overflow-y: auto;

  /* Show partial lines when content exceeds visible area */
  height: ${({rows:e,theme:t})=>e===5?`calc(${e} * ${t.lineHeights[4]} * 1em + 0.7em)`:`calc(${e} * ${t.lineHeights[4]} * 1em)`};

  &:disabled,
  &::placeholder {
    color: ${({theme:e})=>e.colors.neutral600};
  }
`,LB=({value:e,onChange:t,onSubmit:n,placeholder:r})=>{const a=U.useRef(null),[s,o]=U.useState(1),l=d=>{if(!d)return 1;const p=(d.match(/\n/g)||[]).length+1;return Math.min(p,5)};U.useEffect(()=>{o(l(e))},[e]);const u=d=>{a.current?.value.trim()&&d.key==="Enter"&&!d.shiftKey&&n&&(d.preventDefault(),n(d),setTimeout(()=>{a.current?.focus()},10))};return U.useEffect(()=>{a.current?.focus()},[a]),f.jsx(DB,{ref:a,value:e,onChange:t,onKeyDown:u,placeholder:r,rows:s})},BB=U.forwardRef(({children:e,onOpen:t,onClose:n,popoverPlacement:r,...a},s)=>{const o=U.useRef(null),l=dE(s,o),u=d=>{d&&typeof t=="function"?t():!d&&typeof n=="function"&&n()};return f.jsxs(An.Root,{onOpenChange:u,children:[f.jsx(An.Trigger,{ref:l,...a,children:a.label}),f.jsx(An.Content,{zIndex:1e4,popoverPlacement:r,children:e})]})}),Bu=An.Item,UB=gt(Ce)`
  @media (max-height: 500px) {
    display: none;
  }
`,ZB=()=>{const{sendMessage:e}=mr(),{t}=Bn(),{trackUsage:n}=Oi(),r=[t("chat.input.defaults.generate","Generate a product schema"),t("chat.input.defaults.ctb","Tell me about the Content-Type Builder"),t("chat.input.defaults.strapi","Tell me about Strapi")],a={[t("chat.input.defaults.generate","Generate a product schema")]:"generate-product-schema",[t("chat.input.defaults.ctb","Tell me about the Content-Type Builder")]:"tell-me-about-the-content-type-builder",[t("chat.input.defaults.strapi","Tell me about Strapi")]:"tell-me-about-strapi"},s=t("chat.input.defaults.title","How can I help you?");return f.jsx($1,{children:f.jsxs(UB,{direction:"column",alignItems:"flex-start",gap:3,children:[f.jsx(Fe,{variant:"omega",fontWeight:"bold",children:s}),f.jsx(Ce,{direction:"column",alignItems:"flex-start",gap:2,children:r.map(o=>f.jsx(ht,{startIcon:f.jsx(Cl,{fill:"neutral500"}),size:"M",variant:"tertiary",onClick:()=>{n("didUsePresetPrompt",{promptType:a[o]}),e({text:o})},children:f.jsx(Fe,{fontWeight:"regular",children:o})},o))})]})})},HB=e=>{try{return JSON.parse(e.message).error}catch{return e}},WB=()=>{const{error:e}=mr(),{t}=Bn(),n=t("chat.messages.error","Something went wrong."),r=t("chat.messages.too-many-requests","Too many requests, please try again later."),a=t("chat.messages.license-limit-reached","License limit reached, please try again tomorrow."),s=t("chat.messages.license-limit-exceeded","AI credit limit exceeded."),o=t("chat.messages.too-long-error","This conversation reached its maximum length. Start a new conversation");if(!e)return null;const l=HB(e);return!l||typeof l!="string"?null:l===tD?f.jsx(ro,{title:r,variant:"warning"}):l===nD?f.jsx(ro,{title:a,variant:"warning"}):l.split(".")[0]===rD?f.jsx(ro,{title:s,variant:"danger"}):l===aD?f.jsx(ro,{title:o,variant:"danger"}):f.jsx(ro,{title:n,variant:"danger"})},qB=({messages:e})=>{const t=U.useRef(null),{status:n}=mr();return U.useEffect(()=>{const r=setTimeout(()=>{t.current?.scrollIntoView({behavior:"smooth"})},20);return()=>clearTimeout(r)},[e,n]),f.jsxs(f.Fragment,{children:[f.jsxs(Ce,{direction:"column",gap:5,children:[e.map((r,a)=>f.jsx(PB,{message:r,isLoading:(n==="streaming"||n==="submitted")&&a===e.length-1},r.id)),n==="error"&&f.jsx(WB,{})]}),f.jsx("div",{ref:t})]})},VB=()=>{const{attachments:e,removeAttachmentByIndex:t}=Po();return e.length?f.jsx(za.Attachments,{children:e.map((n,r)=>f.jsx(ze,{maxWidth:"250px",children:f.jsx(Hd,{attachment:n,onRemove:()=>t(r)})},n.filename))}):null},GB=()=>{const{attachFiles:e}=Po(),{openCodeUpload:t}=Ap(),{openFigmaUpload:n}=jp(),{t:r}=Bn(),a=U.useRef(null),s=r("chat.tooltips.upload-attachments","Upload attachments"),o=r("chat.attachments.menu.import-code","Import code"),l=r("chat.attachments.menu.attach-image","Attach image"),u=r("chat.attachments.menu.import-figma","Import from Figma");return f.jsxs(BB,{label:s,icon:f.jsx(Pd,{}),tag:fr,popoverPlacement:"top-end",children:[f.jsx(Bu,{startIcon:f.jsx(h1,{}),onSelect:()=>t(),children:o}),f.jsx(Bu,{startIcon:f.jsx(nv,{}),onSelect:()=>n(),children:u}),f.jsx("input",{type:"file",accept:"image/*",multiple:!0,hidden:!0,ref:a}),f.jsx(Bu,{startIcon:f.jsx(pE,{}),onSelect:()=>{const d=a.current;d&&(d.onchange=p=>{const m=p.target;m.files&&m.files.length>0&&e(Array.from(m.files))},d.click())},children:l})]})},JB=({children:e})=>{const[t,n]=U.useState("");return U.useEffect(()=>{const r=["",".","..","..."];let a=0;const s=setInterval(()=>{a=(a+1)%r.length,n(r[a])},400);return()=>clearInterval(s)},[]),f.jsxs(Fe,{variant:"pi",textColor:"neutral600",children:[e,t]})},KB=e=>{const{input:t,handleSubmit:n,handleInputChange:r,messages:a,status:s,stop:o,attachments:l}=mr(),{t:u}=Bn(),d=s==="streaming"||s==="submitted";return f.jsx(f.Fragment,{children:f.jsx("form",{onSubmit:n,...e,children:f.jsxs(za.Root,{isLoading:d,gap:4,children:[f.jsxs(za.Header,{minHeight:0,children:[a.length===0&&f.jsx(za.HeaderItem,{children:f.jsx(ZB,{})}),d&&f.jsx(za.HeaderItem,{children:f.jsx(JB,{children:u("chat.input.thinking","Strapi AI is thinking")})})]}),f.jsxs(za.Content,{children:[f.jsx(ev.Area,{}),f.jsx(VB,{}),f.jsx(ze,{paddingBottom:3,children:f.jsx(LB,{value:t,onChange:r,onSubmit:n,placeholder:u("chat.input.placeholder","Ask Strapi AI...")})}),f.jsxs(za.Actions,{children:[f.jsx(GB,{}),d?f.jsx(fr,{label:u("chat.tooltips.stop-generation","Stop"),type:"button",variant:"default",onClick:p=>{p.preventDefault(),o()},children:f.jsx(FT,{})}):f.jsx(fr,{label:u("chat.tooltips.send-message","Send"),variant:"default",type:"submit",disabled:t.trim().length===0&&l.length===0,children:f.jsx(f1,{})})]})]})]})})})},YB=()=>{const{title:e,messages:t,isChatOpen:n,isChatEnabled:r,openChat:a,closeChat:s,reset:o}=mr(),{attachFiles:l}=Po(),{t:u}=Bn(),d=Ua("Chat",k=>k.state),m=Xr("Chat",k=>k.currentEnvironment)==="production";U.useEffect(()=>{d.enabled&&d.tours.contentTypeBuilder?.currentStep===1&&!d.tours.contentTypeBuilder?.isCompleted&&!n&&a&&a()},[d.tours.contentTypeBuilder?.currentStep,d.tours.contentTypeBuilder?.isCompleted,d.enabled,n,a]);const v=u("chat.tooltips.open-chat","Open chat"),y=u("chat.tooltips.close-chat","Close chat"),g=u("chat.tooltips.create-chat","New conversation"),_=u("chat.header.default-title","New conversation"),x=u("chat.input.strapi-ai-can-make-errors","Strapi AI can make mistakes.");return!r||m?null:f.jsx(ev.Root,{onAddFiles:k=>{l(k)},children:f.jsxs(ao.Root,{size:"md",position:"bottom-right",isOpen:n,onToggle:n?s:a,toggleIcon:f.jsx(fr,{onClick:n?s:a,label:n?y:v,variant:"default",size:"L",children:f.jsx(Cl,{})}),children:[f.jsxs(ao.Header,{children:[f.jsx(Fe,{tag:"h3",variant:"omega",fontWeight:"bold",children:e||_}),f.jsxs(Ce,{gap:0,children:[f.jsx(fr,{label:g,variant:"ghost",onClick:o,children:f.jsx(da,{})}),f.jsx(ao.Close,{label:y})]})]}),f.jsx(ao.Body,{children:f.jsxs($d.contentTypeBuilder.AIChat,{children:[t.length?null:f.jsx(Fe,{variant:"pi",textColor:"neutral600",children:x}),f.jsx(qB,{messages:t})]})}),f.jsx(ao.Footer,{children:f.jsx(KB,{})})]})})},Q=e=>`${pa}.${e}`,I0=({status:e})=>{switch(e){case"UNCHANGED":return null;case"CHANGED":return f.jsx(Fe,{fontWeight:"semiBold",textColor:"alternative500",children:"M"});case"REMOVED":return f.jsx(Fe,{fontWeight:"semiBold",textColor:"danger500",children:"D"});case"NEW":return f.jsx(Fe,{fontWeight:"semiBold",textColor:"success500",children:"N"})}},LW=({status:e})=>{switch(e){case"CHANGED":return f.jsx(Rs,{fontWeight:"bold",textColor:"alternative600",backgroundColor:"alternative100",borderColor:"alternative200",children:"Modified"});case"REMOVED":return f.jsx(Rs,{fontWeight:"bold",textColor:"danger600",backgroundColor:"danger100",borderColor:"danger200",children:"Deleted"});case"NEW":return f.jsx(Rs,{fontWeight:"bold",textColor:"success600",backgroundColor:"success100",borderColor:"success200",children:"New"});case"UNCHANGED":default:return f.jsx(Rs,{style:{visibility:"hidden"},fontWeight:"bold",textColor:"warning600",backgroundColor:"warning100",borderColor:"warning200",children:"Unchanged"})}},xx=U.createContext(),Ni=()=>U.useContext(xx),XB=()=>{const{componentsGroupedByCategory:e,isInDevelopmentMode:t,sortedContentTypesList:n}=Xn(),{trackUsage:r}=Oi(),[a,s]=U.useState(""),{onOpenModalCreateSchema:o}=Ni(),{locale:l}=pt(),{contains:u}=fE(l,{sensitivity:"base"}),d=hE(l,{sensitivity:"base"}),p=()=>{r("willCreateContentType"),o({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})},m=()=>{r("willCreateSingleType"),o({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})},v=()=>{r("willCreateComponent"),o({modalType:"component",kind:null,actionType:"create",forTarget:"component"})},y=Object.entries(e).map(([x,k])=>({name:x,title:Da(x),links:k.map(A=>({name:A.uid,to:`/plugins/${pa}/component-categories/${x}/${A.uid}`,title:A.info.displayName,status:A.status})).sort((A,T)=>d.compare(A.title,T.title))})).sort((x,k)=>d.compare(x.title,k.title)),g=n.filter(x=>x.visible).map(x=>({kind:x.kind,name:x.name,to:x.to,title:x.title,status:x.status}));return{menu:[{name:"models",title:{id:`${Q("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:t?{id:`${Q("button.model.create")}`,defaultMessage:"Create new collection type",onClick:p}:void 0,links:g.filter(x=>x.kind==="collectionType")},{name:"singleTypes",title:{id:`${Q("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:t?{id:`${Q("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:m}:void 0,links:g.filter(x=>x.kind==="singleType")},{name:"components",title:{id:`${Q("menu.section.components.name")}`,defaultMessage:"Components"},customLink:t?{id:`${Q("button.component.create")}`,defaultMessage:"Create a new component",onClick:v}:void 0,links:y}].map(x=>{if(x.links.some(T=>"links"in T&&Array.isArray(T.links))){let T=0;return{...x,links:x.links.reduce((j,F)=>{const O="links"in F?F.links.filter(B=>u(B.title,a)):[];return O.length===0||(T+=O.length,j.push({...F,links:O.sort((B,L)=>d.compare(B.title,L.title))})),j},[]),linksCount:T}}const A=x.links.filter(T=>u(T.title,a)).sort((T,j)=>d.compare(T.title,j.title));return{...x,links:A,linksCount:A.length}}),search:{value:a,onChange:s,clear:()=>s("")}}},QB=gt(Dd)`
  transform: scaleX(-1);
`,eU=gt(An.Item)`
  color: ${({theme:e})=>e.colors.danger600};

  &:hover {
    background: ${({theme:e,disabled:t})=>!t&&e.colors.danger100};
  }
`,tU=()=>{const{menu:e,search:t}=XB(),{saveSchema:n,isModified:r,history:a,isInDevelopmentMode:s}=Xn(),{formatMessage:o}=pt(),[l,u]=U.useState(!1),[d,p]=U.useState(!1);U.useEffect(()=>{if(!s)return;const x=k=>{(k.ctrlKey||k.metaKey)&&(k.key==="Enter"?r&&(k.preventDefault(),n()):k.key==="z"&&!k.shiftKey?(k.preventDefault(),a.undo()):(k.key==="y"||k.shiftKey&&k.key==="z"||k.key==="Z")&&(k.preventDefault(),a.redo()))};return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}});const m=()=>{p(!0)},v=()=>{u(!1),p(!1),a.discardAllChanges()},y=()=>{a.undo()},g=()=>{a.redo()},_=o({id:Q("plugin.name"),defaultMessage:"Content-Type Builder"});return f.jsxs(la.Main,{"aria-label":_,children:[f.jsx(la.Header,{label:_}),f.jsx(Sl,{background:"neutral150"}),f.jsxs(la.Content,{children:[f.jsxs(Ce,{padding:5,gap:3,direction:"column",alignItems:"stretch",children:[f.jsx($d.contentTypeBuilder.Save,{children:f.jsxs(Ce,{gap:2,children:[f.jsx(ht,{flex:1,onClick:x=>{x.preventDefault(),n()},type:"submit",disabled:!r||!s,fullWidth:!0,size:"S",children:o({id:"global.save",defaultMessage:"Save"})}),f.jsxs(An.Root,{open:l,onOpenChange:u,children:[f.jsxs(An.Trigger,{size:"S",endIcon:null,paddingTop:"4px",paddingLeft:"7px",paddingRight:"7px",variant:"tertiary",children:[f.jsx(mE,{fill:"neutral500","aria-hidden":!0,focusable:!1}),f.jsx(m1,{tag:"span",children:o({id:"global.more.actions",defaultMessage:"More actions"})})]}),f.jsxs(An.Content,{zIndex:1,children:[f.jsx(An.Item,{disabled:!a.canUndo||!s,onSelect:y,startIcon:f.jsx(QB,{}),children:o({id:"global.last-change.undo",defaultMessage:"Undo last change"})}),f.jsx(An.Item,{disabled:!a.canRedo||!s,onSelect:g,startIcon:f.jsx(Dd,{}),children:o({id:"global.last-change.redo",defaultMessage:"Redo last change"})}),f.jsx(An.Separator,{}),f.jsx(eU,{disabled:!a.canDiscardAll||!s,onSelect:m,children:f.jsxs(Ce,{gap:2,children:[f.jsx(Md,{}),f.jsx(Fe,{children:o({id:"global.last-changes.discard",defaultMessage:"Discard last changes"})})]})})]})]})]})}),f.jsx(g1,{value:t.value,onChange:x=>t.onChange(x.target.value),onClear:()=>t.onChange(""),placeholder:o({id:Q("search.placeholder"),defaultMessage:"Search"}),size:"S",children:void 0,name:"search_contentType",clearLabel:o({id:"clearLabel",defaultMessage:"Clear"}),"aria-label":o({id:Q("search.placeholder"),defaultMessage:"Search"})})]}),f.jsx(la.Sections,{children:e.map(x=>f.jsx(U.Fragment,{children:f.jsx(la.Section,{label:o({id:x.title.id,defaultMessage:x.title.defaultMessage}),link:x.customLink&&{label:o({id:x.customLink?.id,defaultMessage:x.customLink?.defaultMessage}),onClick:x.customLink?.onClick},sectionId:x.name,children:x.links.map(k=>{const A=o({id:k.name,defaultMessage:k.title});return"links"in k?f.jsx(la.SubSection,{label:k.title,children:k.links.map(T=>{const j=o({id:T.name,defaultMessage:T.title});return f.jsx(la.Link,{to:T.to,label:j,endAction:f.jsx(ze,{tag:"span",textAlign:"center",width:"24px",children:f.jsx(I0,{status:T.status})})},T.name)})},k.name):f.jsx(la.Link,{to:k.to,label:A,endAction:f.jsx(ze,{tag:"span",textAlign:"center",width:"24px",children:f.jsx(I0,{status:k.status})})},k.name)})})},x.name))})]}),f.jsx(Za.Root,{open:d,onOpenChange:p,children:f.jsx(Oo,{onConfirm:v,children:o({id:Q("popUpWarning.discardAll.message"),defaultMessage:"Are you sure you want to discard all changes?"})})})]})},R0=()=>{if(crypto.randomUUID)return`ctb-${crypto.randomUUID()}`},nU=({children:e})=>{const[t,n]=U.useState(()=>R0()),r=U.useCallback(()=>{n(R0())},[]),a=U.useMemo(()=>({sessionId:t,regenerateSessionId:r}),[t,r]);return f.jsx(N1.Provider,{value:a,children:e})},rU="timeout",aU=30*1e3,iU=()=>{const{get:e}=v1(),t=async n=>{const r=n??Date.now();if(Date.now()-r>aU)throw new Error(rU);try{if((await e("/content-type-builder/update-schema-status"))?.data?.data?.isUpdating===!0)return new Promise(s=>{setTimeout(()=>t(r).then(s),200)})}catch{return new Promise(s=>{setTimeout(()=>t(r).then(s),200)})}};return t},oU=e=>r6(Object.keys(e).map(t=>({visible:e[t].visible,name:t,title:e[t].info.displayName,plugin:e[t].plugin,uid:t,to:`/plugins/${pa}/content-types/${t}`,kind:e[t].kind,restrictRelationsTo:e[t].restrictRelationsTo,status:e[t].status})).filter(t=>t!==null),t=>gE(t.title)),sU=({components:e,contentTypes:t})=>{const n={newContentTypes:0,editedContentTypes:0,deletedContentTypes:0,newComponents:0,editedComponents:0,deletedComponents:0,newFields:0,editedFields:0,deletedFields:0},r=Object.values(e).filter(s=>["NEW","CHANGED","REMOVED"].includes(s.status)).map(s=>{const o=O0(s),l=o.action;return F0({...s,action:l},n,"component"),o}),a=Object.values(t).filter(s=>["NEW","CHANGED","REMOVED"].includes(s.status)).map(s=>{const o=O0(s),l=o.action;return F0({...s,action:l},n,"contentType"),o});return{requestData:{components:r,contentTypes:a},trackingEventProperties:n}},lU=e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>Array.isArray(n)?n.length>0:typeof n=="object"&&n!==null?Object.keys(n).length>0:n!=null)),cU=e=>"customField"in e?{...e,type:"customField"}:"targetAttribute"in e?{...e,targetAttribute:e.targetAttribute==="-"?null:e.targetAttribute,...e.conditions&&{conditions:e.conditions}}:e,O0=e=>{let t;switch(e.status){case"NEW":t="create";break;case"CHANGED":t="update";break;case"REMOVED":return{action:"delete",uid:e.uid};default:throw new Error("Invalid status")}return{action:t,uid:e.uid,category:"category"in e?e.category:void 0,...Ks(e,["info","options","visible","uid","restrictRelationsTo"]),...e.options,...e.info,attributes:e.attributes.map(n=>{let r;switch(n.status){case"NEW":r="create";break;case"REMOVED":return{action:"delete",name:n.name};case"UNCHANGED":case"CHANGED":default:r="update"}return{action:r,name:n.name,properties:lU(Ks(cU(n),["status","name"]))}})}},F0=(e,t,n)=>{if(!e||typeof e.action!="string")return;const r=n==="contentType";switch(e.action){case"create":r?t.newContentTypes++:t.newComponents++;break;case"update":r?t.editedContentTypes++:t.editedComponents++;break;case"delete":r?t.deletedContentTypes++:t.deletedComponents++;break}Array.isArray(e.attributes)&&(e.action==="delete"?t.deletedFields+=e.attributes.length:e.attributes.forEach(a=>{if(!(!a||typeof a.status!="string"))switch(a.status){case"NEW":t.newFields++;break;case"CHANGED":t.editedFields++;break;case"REMOVED":t.deletedFields++;break}}))},uU=e=>Object.keys(e).reduce((n,r)=>{const a=Jt(e,[r]),s=dU(a);return s.childComponents.length>0&&n.push(s),n},[]),dU=e=>({component:e.uid,childComponents:e.attributes.filter(t=>{const{type:n}=t;return n==="component"}).map(t=>({component:t.component}))}),pU=e=>{const t=Object.keys(e).reduce((n,r)=>{const a=e?.[r]?.attributes??[],s=fU(a,r);return[...n,...s]},[]);return hU(t)},fU=(e,t)=>e.reduce((n,r)=>{const{type:a}=r;return a==="component"&&n.push({component:r.component,parentCompoUid:t}),n},[]),hU=e=>{const t=new Map;return e.forEach(({component:r,parentCompoUid:a})=>{t.has(r)||t.set(r,new Set),t.get(r).add(a)}),Array.from(t.entries()).map(([r,a])=>({component:r,uidsOfAllParents:Array.from(a)}))},mU=(e,t)=>{const n=Object.keys(e).map(r=>Jt(e,[r,...t],""));return vE(n)},gU=e=>e["content-type-builder_dataManagerProvider"]||yE,vU=({children:e})=>{const t=El(),n=y1(gU),r=Ua("DataManagerProvider",le=>le.dispatch),a=bE(),{sessionId:s,regenerateSessionId:o}=Ud(),{components:l,contentTypes:u,reservedNames:d,initialComponents:p,initialContentTypes:m,isLoading:v}=n.current,{toggleNotification:y}=Ri(),{lockAppWithAutoreload:g,unlockAppWithAutoreload:_}=xE(),x=iU(),A=xo("DataManagerProvider",le=>le.getPlugin)("content-type-builder"),T=Xr("DataManagerProvider",le=>le.autoReload),{formatMessage:j}=pt(),{trackUsage:F}=Oi(),O=_E("DataManagerProvider",le=>le.refetchPermissions),{onCloseModal:B}=Ni(),[L,V]=U.useState(!1),q=U.useRef(null),D=U.useMemo(()=>!(bo(l,p)&&bo(u,m)),[l,u,p,m]),X=v1(),M=T,Y=U.useRef();Y.current=async()=>{try{const[le,ne]=await Promise.all([X.get("/content-type-builder/schema"),X.get("/content-type-builder/reserved-names")]),{components:Ge,contentTypes:Je}=le.data.data;t(Gt.init({components:Qh(Ge,de=>({...de,status:"UNCHANGED"})),contentTypes:Qh(Je,de=>({...de,status:"UNCHANGED"})),reservedNames:ne.data})),t(Gt.clearHistory())}catch(le){console.error({err:le}),y({type:"danger",message:j({id:"notification.error",defaultMessage:"An error occurred"})})}},U.useEffect(()=>(Y.current(),q.current=a.pathname,()=>{t(Gt.reloadPlugin())}),[]),U.useEffect(()=>{const le=a.pathname,ne=q.current,Ge="/plugins/content-type-builder";if(ne){const Je=le.includes(Ge);!ne.includes(Ge)&&Je&&o()}q.current=le},[a.pathname,o]),U.useEffect(()=>{T||y({type:"info",message:j({id:Q("notification.info.autoreaload-disable")})})},[T,y,j]);const w=le=>uU(le),P=le=>pU(le),_e=async()=>{await O()},se=async()=>{V(!0);const le=A?.apis?.forms,ne=Object.entries(n.current.contentTypes).reduce((Oe,[ve,Re])=>(Oe[ve]=le.mutateContentTypeSchema(Re,m[ve]),Oe),{}),{requestData:Ge,trackingEventProperties:Je}=sU({components:n.current.components,contentTypes:ne});F("willUpdateCTBSchema",{...Je,ctbSessionId:s});const de=Object.keys(n.current.contentTypes).length>0;g();try{await X.post("/content-type-builder/update-schema",{data:Ge}),de&&F("didCreateGuidedTourCollectionType"),await x(),o(),await Y.current(),await _e()}catch(Oe){console.error({err:Oe}),y({type:"danger",message:j({id:"notification.error",defaultMessage:"An error occurred"})}),F("didUpdateCTBSchema",{...Je,success:!1,ctbSessionId:s})}finally{V(!1),_(),t(wE.util.invalidateTags(["GuidedTourMeta","HomepageKeyStatistics"])),r({type:"set_completed_actions",payload:[Ys.contentTypeBuilder.createSchema]}),F("didUpdateCTBSchema",{...Je,success:!0,ctbSessionId:s})}},ue=U.useMemo(()=>w(l),[l]),z=U.useMemo(()=>P(l),[l]),Se=U.useMemo(()=>mU(l,["category"]),[l]),ae=U.useMemo(()=>n6(l,"category"),[l]),R=U.useMemo(()=>oU(u),[u]),Ie={componentsThatHaveOtherComponentInTheirAttributes:ue,nestedComponents:z,saveSchema:se,reservedNames:d,components:l,contentTypes:u,initialComponents:p,initialContentTypes:m,isSaving:L,isModified:D,isInDevelopmentMode:M,allComponentsCategories:Se,componentsGroupedByCategory:ae,sortedContentTypesList:R,isLoading:v,addAttribute(le){t(Gt.addAttribute(le))},editAttribute(le){t(Gt.editAttribute(le))},addCustomFieldAttribute(le){t(Gt.addCustomFieldAttribute(le))},editCustomFieldAttribute(le){t(Gt.editCustomFieldAttribute(le))},addCreatedComponentToDynamicZone(le){t(Gt.addCreatedComponentToDynamicZone(le))},createSchema(le){t(Gt.createSchema(le))},createComponentSchema({data:le,uid:ne,componentCategory:Ge}){t(Gt.createComponentSchema({data:le,uid:ne,componentCategory:Ge}))},changeDynamicZoneComponents({forTarget:le,targetUid:ne,dynamicZoneTarget:Ge,newComponents:Je}){t(Gt.changeDynamicZoneComponents({forTarget:le,targetUid:ne,dynamicZoneTarget:Ge,newComponents:Je}))},removeAttribute(le){le.forTarget==="contentType"&&F("willDeleteFieldOfContentType"),t(Gt.removeField(le))},removeComponentFromDynamicZone(le){t(Gt.removeComponentFromDynamicZone(le))},deleteComponent(le){window.confirm(j({id:Q("popUpWarning.bodyMessage.component.delete")}))&&(B(),t(Gt.deleteComponent(le)))},deleteContentType(le){window.confirm(j({id:Q("popUpWarning.bodyMessage.contentType.delete")}))&&(B(),t(Gt.deleteContentType(le)))},updateComponentSchema({data:le,componentUID:ne}){t(Gt.updateComponentSchema({data:le,uid:ne}))},updateComponentUid({componentUID:le,newComponentUID:ne}){t(Gt.updateComponentUid({uid:le,newComponentUID:ne}))},updateSchema(le){t(Gt.updateSchema(le))},moveAttribute(le){t(Gt.moveAttribute(le))},applyChange(le){t(Gt.applyChange(le))},history:{undo(){t(Gt.undo())},redo(){t(Gt.redo())},discardAllChanges(){t(Gt.discardAll())},canUndo:n.past.length>0,canRedo:n.future.length>0,canDiscardAll:D}};return f.jsx(Dv.Provider,{value:Ie,children:e})},yU=()=>{const{formatMessage:e}=pt(),{isModified:t,isSaving:n}=Xn(),r=e({id:Q("prompt.unsaved"),defaultMessage:"Are you sure you want to leave? All your modifications will be lost."}),a=kE(s=>s.currentLocation.pathname.startsWith("/plugins/content-type-builder/")&&!s.nextLocation.pathname.startsWith("/plugins/content-type-builder/")&&t);return U.useEffect(()=>{const s=o=>{t&&!n&&(o.preventDefault(),o.returnValue="")};return window.addEventListener("beforeunload",s),()=>window.removeEventListener("beforeunload",s)},[r,t,n]),a.state==="blocked"?f.jsx(Za.Root,{open:!0,onOpenChange:()=>a.reset(),children:f.jsx(Oo,{onConfirm:()=>a.proceed(),children:r})}):null},_x=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),Sd=(e,t)=>e.find(({name:n})=>n===t),bU=(e,t)=>!e||!t?{}:{[e]:t[e]},xU=e=>(e?.inner||[]).reduce((t,n)=>(n.path&&(t[n.path.split("[").join(".").split("]").join("")]={id:n.message,defaultMessage:n.message,values:bU(n?.type,n?.params)}),t),{}),_U=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],wU=({intlLabel:e,name:t,onChange:n,value:r=null})=>{const{formatMessage:a}=pt(),s=r===null||r?.length===0?a({id:"global.none",defaultMessage:"None"}):[...r].sort().map(l=>Da(l)).join(", "),o=e.id?a({id:e.id,defaultMessage:e.defaultMessage}):t;return f.jsxs(et.Root,{name:t,children:[f.jsx(et.Label,{children:o}),f.jsx(b1,{customizeContent:()=>s,onChange:l=>{l.length>0?n({target:{name:t,value:l,type:"allowed-types-select"}}):n({target:{name:t,value:null,type:"allowed-types-select"}})},options:_U,value:r||[]})]})},kU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("rect",{width:31,height:23,x:.5,y:4.5,fill:"#EAF5FF",stroke:"#B8E1FF",rx:2.5}),f.jsx("path",{fill:"#0C75AF",d:"M14.75 11.75a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3.5 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2M13.75 15a1 1 0 1 0 0 2 1 1 0 0 0 0-2m4.5 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2m-4.5 4.25a1 1 0 1 0 0 2 1 1 0 0 0 0-2m4.5 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2"})]}),CU=U.forwardRef(kU),SU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("rect",{width:31,height:23,x:.5,y:4.5,fill:"#EAFBE7",stroke:"#C6F0C2",rx:2.5}),f.jsx("path",{fill:"#328048",d:"M19 11.5h-6a4.5 4.5 0 1 0 0 9h6a4.5 4.5 0 1 0 0-9m0 7a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5"})]}),EU=U.forwardRef(SU),AU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("path",{fill:"#D9822F",d:"M0 4a4 4 0 0 1 4-4h24a4 4 0 0 1 4 4v24a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4z"}),f.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M17.143 18.659v2.912l6.856-3.878v-2.815L17.143 11v2.906l4.16 2.38zm-2.287 0-4.16-2.374 4.16-2.38V11L8 14.877v2.816l6.856 3.878z",clipRule:"evenodd"})]});U.forwardRef(AU);const TU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("rect",{width:31,height:23,x:.5,y:4.5,fill:"#4945FF",stroke:"#4945FF",rx:2.5}),f.jsx("path",{fill:"#fff",d:"M14.328 14.54v-.083c-.04-.937-.75-1.559-1.787-1.559-1.535 0-2.725 1.57-2.725 3.65 0 1.302.71 2.104 1.846 2.104.961 0 1.787-.545 2.063-1.37h1.752c-.37 1.78-1.922 2.935-3.967 2.935-2.121 0-3.504-1.395-3.504-3.545 0-3.123 1.951-5.344 4.646-5.344 1.94 0 3.41 1.283 3.41 2.96 0 .087 0 .163-.011.251zM20.053 20H18.27l1.489-6.943h-2.532l.311-1.512h6.844l-.31 1.512H21.54z"})]}),z0=U.forwardRef(TU),jU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("rect",{width:31,height:23,x:.5,y:4.5,fill:"#F6F6F9",stroke:"#DCDCE4",rx:2.5}),f.jsx("path",{fill:"#666687",d:"M20.5 17.5c-.358 0-.71.085-1.029.25l-1.337-1.04q.11-.326.116-.67l.647-.214a2.25 2.25 0 1 0-.637-1.37l-.486.162A2.25 2.25 0 0 0 16 13.75c-.062 0-.117 0-.176.008l-.278-.625A2.25 2.25 0 1 0 14 13.75c.063 0 .117 0 .176-.008l.278.625a2.24 2.24 0 0 0-.537 2.482l-1.33 1.182a2.25 2.25 0 1 0 .996 1.12l1.33-1.182a2.25 2.25 0 0 0 2.3-.075l1.224.954A2.25 2.25 0 1 0 20.5 17.5m0-4a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5m-7.25-2a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0m-1.75 9.25a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5M15.25 16a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0m5.25 4.5a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5"})]}),IU=U.forwardRef(jU),RU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("rect",{width:31,height:23,x:.5,y:4.5,fill:"#FDF4DC",stroke:"#FAE7B9",rx:2.5}),f.jsx("path",{fill:"#D9822F",d:"M21 10h-1.5v-.5a.5.5 0 0 0-1 0v.5h-5v-.5a.5.5 0 0 0-1 0v.5H11a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1m0 3H11v-2h1.5v.5a.5.5 0 0 0 1 0V11h5v.5a.5.5 0 0 0 1 0V11H21z"})]}),Bs=U.forwardRef(RU),OU=(e,t)=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:f.jsx("path",{fill:"#5865F2",d:"M27.107 5.911a26.5 26.5 0 0 0-6.602-2.031 18 18 0 0 0-.845 1.72 24.6 24.6 0 0 0-7.327 0 18 18 0 0 0-.846-1.72A26.7 26.7 0 0 0 4.88 5.916C.702 12.098-.43 18.126.136 24.068a26.6 26.6 0 0 0 8.097 4.065 19.6 19.6 0 0 0 1.734-2.796c-.947-.354-1.86-.79-2.73-1.304.228-.166.452-.337.669-.504a19.02 19.02 0 0 0 16.188 0q.33.271.67.504c-.872.515-1.788.952-2.736 1.306a19.4 19.4 0 0 0 1.734 2.794 26.5 26.5 0 0 0 8.102-4.062c.665-6.892-1.135-12.864-4.757-18.16M10.684 20.414c-1.578 0-2.882-1.433-2.882-3.194 0-1.762 1.259-3.207 2.877-3.207 1.619 0 2.912 1.445 2.885 3.207s-1.271 3.194-2.88 3.194m10.632 0c-1.581 0-2.88-1.433-2.88-3.194 0-1.762 1.259-3.207 2.88-3.207s2.904 1.445 2.877 3.207-1.269 3.194-2.877 3.194"})});U.forwardRef(OU);const FU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("path",{fill:"#231F20",d:"M15.659.302C7.158.302 0 7.194 0 15.698v15.943l15.656-.015c8.501 0 15.396-7.158 15.396-15.66 0-8.5-6.901-15.664-15.393-15.664"}),f.jsx("path",{fill:"#FFF9AE",d:"M15.81 6.261a9.546 9.546 0 0 0-8.39 14.09l-1.726 5.554 6.2-1.4A9.541 9.541 0 1 0 15.82 6.26z"}),f.jsx("path",{fill:"#00AEEF",d:"M23.381 9.999a9.54 9.54 0 0 1-11.487 14.49l-6.2 1.419 6.312-.746A9.54 9.54 0 0 0 23.381 10"}),f.jsx("path",{fill:"#00A94F",d:"M21.624 8.239a9.54 9.54 0 0 1-9.91 15.61l-6.02 2.059 6.2-1.404a9.54 9.54 0 0 0 9.73-16.265"}),f.jsx("path",{fill:"#F15D22",d:"M7.991 20.562A9.542 9.542 0 0 1 23.387 9.994 9.543 9.543 0 0 0 7.42 20.35l-1.726 5.555z"}),f.jsx("path",{fill:"#E31B23",d:"M7.42 20.35A9.543 9.543 0 0 1 21.624 8.238 9.543 9.543 0 0 0 6.832 20.202l-1.135 5.706z"})]});U.forwardRef(FU);const zU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("rect",{width:31,height:23,x:.5,y:4.5,fill:"#F6F6F9",stroke:"#DCDCE4",rx:2.5}),f.jsx("path",{fill:"#666687",d:"M23.75 16a3.75 3.75 0 0 1-6.402 2.652l-.03-.033-3.742-4.225a2.25 2.25 0 1 0 0 3.212l.193-.218a.75.75 0 1 1 1.125.994l-.21.237-.03.033a3.75 3.75 0 1 1 0-5.304l.03.033 3.742 4.225a2.25 2.25 0 1 0 0-3.212l-.193.218a.751.751 0 1 1-1.125-.995l.21-.236.03-.033A3.75 3.75 0 0 1 23.75 16"})]}),MU=U.forwardRef(zU),NU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("rect",{width:31,height:23,x:.5,y:4.5,fill:"#FCECEA",stroke:"#F5C0B8",rx:2.5}),f.jsx("path",{fill:"#D02B20",d:"M16 9.25a6.75 6.75 0 0 0 0 13.5c1.392 0 2.856-.42 3.915-1.125a.75.75 0 1 0-.83-1.25c-.813.54-1.994.875-3.085.875A5.25 5.25 0 1 1 21.25 16c0 .58-.104 1.067-.293 1.372-.165.265-.375.378-.707.378s-.542-.113-.707-.378c-.187-.305-.293-.791-.293-1.372v-2.5a.75.75 0 0 0-1.468-.216 3.25 3.25 0 1 0 .554 4.973c.433.637 1.09.993 1.914.993 1.542 0 2.5-1.245 2.5-3.25A6.76 6.76 0 0 0 16 9.25m0 8.5a1.75 1.75 0 1 1 0-3.5 1.75 1.75 0 0 1 0 3.5"})]}),$U=U.forwardRef(NU),PU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 217 121",ref:t,...e,children:[f.jsxs("g",{clipPath:"url(#EmptyData_svg__a)",children:[f.jsx("path",{stroke:"#EEEEFA",strokeDasharray:"3.93 4.91",strokeLinecap:"round",strokeWidth:.982,d:"M1.158 99.652h215.018M1.158 80.015h215.018M1.158 59.397h215.018M1.158 38.779h215.018M1.158 20.124h215.018"}),f.jsx("path",{fill:"#D9D8FF",fillOpacity:.8,fillRule:"evenodd",d:"M182.63 25.086c4.112 0 7.446 3.279 7.446 7.323s-3.334 7.324-7.446 7.324h-42.545c4.112 0 7.445 3.279 7.445 7.323s-3.333 7.324-7.445 7.324h23.4c4.112 0 7.445 3.278 7.445 7.323 0 4.044-3.333 7.323-7.445 7.323h-10.821c-5.185 0-9.388 3.28-9.388 7.324q0 2.847 3.162 5.314c1.968 1.536 4.676 1.736 6.861 2.943 2.27 1.255 3.804 3.646 3.804 6.39 0 4.044-3.333 7.323-7.445 7.323H61.376c-4.112 0-7.446-3.279-7.446-7.323s3.334-7.324 7.446-7.324H19.894c-4.112 0-7.445-3.279-7.445-7.323s3.333-7.324 7.445-7.324H62.44c4.112 0 7.445-3.278 7.445-7.323s-3.334-7.324-7.446-7.324H35.85c-4.112 0-7.446-3.278-7.446-7.323 0-4.044 3.334-7.323 7.446-7.323h42.545c-4.112 0-7.445-3.28-7.445-7.324s3.333-7.323 7.445-7.323zm0 29.294c4.112 0 7.446 3.278 7.446 7.323 0 4.044-3.334 7.323-7.446 7.323s-7.445-3.278-7.445-7.323 3.333-7.324 7.445-7.324",clipRule:"evenodd"}),f.jsx("rect",{width:27,height:79.036,x:109.403,y:33.133,fill:"#fff",stroke:"#7B79FF",strokeWidth:2.455,rx:4.173}),f.jsx("rect",{width:27,height:102.6,x:74.058,y:9.57,fill:"#fff",stroke:"#7B79FF",strokeWidth:2.455,rx:4.173}),f.jsx("rect",{width:27,height:58.418,x:39.203,y:53.26,fill:"#fff",stroke:"#7B79FF",strokeWidth:2.455,rx:4.173}),f.jsx("rect",{width:27,height:55.473,x:144.748,y:56.697,fill:"#fff",stroke:"#7B79FF",strokeWidth:2.455,rx:4.173}),f.jsx("rect",{width:21.6,height:53.018,x:41.903,y:55.961,fill:"#EEEEFA",rx:1.964}),f.jsx("rect",{width:21.6,height:73.636,x:112.103,y:35.833,fill:"#EEEEFA",rx:1.964})]}),f.jsx("defs",{children:f.jsx("clipPath",{id:"EmptyData_svg__a",children:f.jsx("path",{fill:"#fff",d:"M.667.797h216v120h-216z"})})})]});U.forwardRef(PU);const DU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 217 121",ref:t,...e,children:[f.jsxs("g",{clipPath:"url(#EmptyDocuments_svg__a)",opacity:.84,children:[f.jsx("path",{fill:"#D9D8FF",fillOpacity:.8,fillRule:"evenodd",d:"M189.917 20.442a7.583 7.583 0 0 1 0 15.167h-43.334a7.584 7.584 0 1 1 0 15.167h23.834a7.583 7.583 0 0 1 0 15.166h-11.022c-5.281 0-9.562 3.396-9.562 7.584q0 2.934 3.19 5.479c2.017 1.608 4.824 1.818 7.065 3.097a7.584 7.584 0 0 1-3.755 14.174H66.417a7.583 7.583 0 1 1 0-15.167h-42.25a7.583 7.583 0 0 1 0-15.167H67.5a7.583 7.583 0 0 0 0-15.166H40.417a7.583 7.583 0 0 1 0-15.167H83.75a7.583 7.583 0 0 1 0-15.167zm0 30.334a7.583 7.583 0 0 1 0 15.166 7.584 7.584 0 0 1 0-15.166",clipRule:"evenodd"}),f.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"m133.228 20.443 10.077 73.496.905 7.373a4.33 4.33 0 0 1-3.773 4.829l-63.44 7.79a4.334 4.334 0 0 1-4.83-3.773l-9.766-79.547a2.167 2.167 0 0 1 1.886-2.414l.023-.003 5.263-.59zm-59.4 6.683 4.97-.557z",clipRule:"evenodd"}),f.jsx("path",{stroke:"#7B79FF",strokeWidth:2.5,d:"m73.829 27.126 4.97-.557m54.429-6.126 10.077 73.496.905 7.373a4.33 4.33 0 0 1-3.773 4.829l-63.44 7.79a4.334 4.334 0 0 1-4.83-3.773l-9.766-79.547a2.167 2.167 0 0 1 1.886-2.414l.023-.003 5.263-.59z"}),f.jsx("path",{fill:"#F0F0FF",fillRule:"evenodd",d:"m130.485 25.068 9.121 66.607.821 6.683c.264 2.152-1.246 4.109-3.373 4.37l-56.812 6.976c-2.128.261-4.066-1.272-4.33-3.425l-8.83-71.908a2.166 2.166 0 0 1 1.887-2.414l7.028-.863",clipRule:"evenodd"}),f.jsx("path",{fill:"#fff",fillRule:"evenodd",stroke:"#7B79FF",strokeWidth:2.5,d:"M135.998 6.63H86.645a2.97 2.97 0 0 0-2.107.872 2.97 2.97 0 0 0-.873 2.107v82.333c0 .823.334 1.568.873 2.107a2.97 2.97 0 0 0 2.106.872h63.917a2.97 2.97 0 0 0 2.107-.872 2.97 2.97 0 0 0 .872-2.107V24.164a2.98 2.98 0 0 0-.873-2.108L138.104 7.502a2.98 2.98 0 0 0-2.106-.872Z",clipRule:"evenodd"}),f.jsx("path",{stroke:"#7B79FF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M136.478 7.879v12.563a3.25 3.25 0 0 0 3.25 3.25h8.595M95.311 78.942h28.167m-28.167-55.25h28.167zm0 13h46.583zm0 14.084h46.583zm0 14.083h46.583z"})]}),f.jsx("defs",{children:f.jsx("clipPath",{id:"EmptyDocuments_svg__a",children:f.jsx("path",{fill:"#fff",d:"M.667.797h216v120h-216z"})})})]}),wx=U.forwardRef(DU),LU=(e,t)=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 193 121",ref:t,...e,children:f.jsxs("g",{opacity:.88,children:[f.jsx("path",{fill:"#DBDBFA",fillRule:"evenodd",d:"M160.947 53.823a4 4 0 0 0-.15-.281c-3.5-5.96-7.289-11.263-11.52-15.858h18.096c4.445 0 8.048 3.613 8.048 8.07 0 4.456-3.603 8.069-8.048 8.069zm-8.493 16.139c-11.562 11.57-31.953 19.597-55.21 19.597-31.435 0-54.384-16.705-55.701-35.736H29.409c-4.445 0-8.048 3.613-8.048 8.07 0 4.456 3.603 8.069 8.048 8.069h11.697c5.604 0 10.148 3.612 10.148 8.069q0 3.786-4.98 6.963c-.942.601-2.034.876-3.123 1.15-.33.083-.658.166-.983.257a8.07 8.07 0 0 0-5.86 7.768c0 4.457 3.602 8.07 8.047 8.07h95.425c4.445 0 8.048-3.613 8.048-8.07 0-4.456-3.603-8.069-8.048-8.069h44.839c4.444 0 8.048-3.613 8.048-8.07 0-4.456-3.604-8.068-8.048-8.068zM68.723 21.546H8.715c-4.445 0-8.048 3.613-8.048 8.07 0 4.456 3.603 8.068 8.048 8.068h37.314c4.606-6.843 12.5-12.477 22.694-16.138M.667 61.892c0-4.456 3.603-8.069 8.048-8.069 4.444 0 8.047 3.613 8.047 8.07 0 4.456-3.603 8.069-8.047 8.069S.667 66.349.667 61.892",clipRule:"evenodd"}),f.jsx("path",{stroke:"#7B79FF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"m158.091 49.212 1.446 2.131"}),f.jsx("path",{fill:"#fff",d:"M154.862 59.69c-45.683-57.683-95.639-25.812-117.374.01-1.404 1.668-1.426 4.117-.15 5.882 47.31 65.454 96.71 29.044 117.704-.133 1.24-1.722 1.138-4.094-.18-5.758"}),f.jsx("path",{fill:"#7B79FF",fillRule:"evenodd",d:"M113.536 28.091c-9.141-2.486-18.085-2.558-26.571-.94-21.301 4.058-39.458 18.707-50.43 31.742-1.794 2.132-1.798 5.217-.206 7.42C48.246 82.798 60.36 92.962 72.218 98.41q1.186.544 2.367 1.027l1.206-2.209a57 57 0 0 1-2.53-1.09c-11.366-5.222-23.168-15.052-34.905-31.291-.961-1.33-.92-3.143.092-4.345 10.764-12.787 28.453-26.985 48.985-30.897 7.905-1.506 16.271-1.495 24.869.745zm-28.277 71.966c7.097 1.397 13.98 1.155 20.536-.279 20.46-4.474 37.826-20.593 48.237-35.062.899-1.25.84-3.007-.146-4.252-10.728-13.547-21.653-22.062-32.351-26.854l1.201-2.2c11.026 4.98 22.21 13.738 33.11 27.502 1.649 2.083 1.795 5.069.215 7.265-10.584 14.708-28.416 31.382-49.732 36.044-7.115 1.556-14.607 1.77-22.323.131z",clipRule:"evenodd"}),f.jsx("path",{stroke:"#7B79FF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M127.159 22.08c13.23 6.32 21.864 14.378 27.624 21.78M34.068 48.642C53.002 23.337 89.197 8.3 117.953 18.635"}),f.jsx("ellipse",{cx:94.98,cy:66.505,fill:"#F0F0FF",rx:18.395,ry:18.444}),f.jsx("path",{fill:"#7B79FF",fillRule:"evenodd",d:"M104.76 44.362a24 24 0 0 0-9.776-2.067c-13.334 0-24.144 10.838-24.144 24.208 0 8.428 4.296 15.85 10.813 20.186l1.203-2.204c-5.741-3.903-9.516-10.498-9.516-17.982 0-11.995 9.696-21.708 21.644-21.708 3.045 0 5.944.631 8.574 1.77zM91.95 87.999q1.488.211 3.034.212c11.947 0 21.643-9.713 21.643-21.708a21.66 21.66 0 0 0-5.222-14.142l1.272-2.33a24.16 24.16 0 0 1 6.45 16.472c0 13.37-10.809 24.207-24.143 24.207-1.47 0-2.908-.131-4.305-.383z",clipRule:"evenodd"}),f.jsx("path",{fill:"#fff",stroke:"#7B79FF",strokeWidth:2.5,d:"M116.729 54.977c0 4.406-3.562 7.972-7.948 7.972s-7.948-3.566-7.948-7.972 3.562-7.972 7.948-7.972 7.948 3.566 7.948 7.972Z"}),f.jsx("path",{fill:"#fff",d:"M110.472 33.635c1.275-2.324 4.078-3.019 6.296-1.56 2.264 1.49 3.053 4.654 1.751 7.027l-31.287 57.05c-1.275 2.324-4.079 3.018-6.296 1.559-2.265-1.49-3.053-4.653-1.751-7.027z"}),f.jsx("rect",{width:3.668,height:134.376,fill:"#7B79FF",rx:1.834,transform:"matrix(.82817 .56048 -.47918 .87772 127.181 .797)"})]})});U.forwardRef(LU);const BU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 217 121",ref:t,...e,children:[f.jsx("g",{clipPath:"url(#EmptyPictures_svg__a)",children:f.jsxs("g",{clipPath:"url(#EmptyPictures_svg__b)",opacity:.88,children:[f.jsx("path",{fill:"#D9D8FF",fillOpacity:.8,fillRule:"evenodd",d:"M119.667 28.797a7 7 0 1 1 0 14h64a7 7 0 1 1 0 14h22a7 7 0 1 1 0 14h-19a7 7 0 1 0 0 14h6a7 7 0 1 1 0 14h-52a7 7 0 0 1-1.5-.161 7 7 0 0 1-1.5.16h-91a7 7 0 0 1 0-14h-39a7 7 0 1 1 0-14h40a7 7 0 0 0 0-14h-25a7 7 0 1 1 0-14h40a7 7 0 1 1 0-14zm90 56a7 7 0 1 1 0 14 7 7 0 0 1 0-14",clipRule:"evenodd"}),f.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"m74.497 103.07-8.622 1.422a4 4 0 0 1-4.518-3.404L50.224 21.866a4 4 0 0 1 3.404-4.518l78.231-10.994a4 4 0 0 1 4.518 3.404c.474 3.377 2.408 16.468 2.571 17.63",clipRule:"evenodd"}),f.jsx("path",{fill:"#F0F0FF",fillRule:"evenodd",d:"m72.472 99.51-3.696.525a3.62 3.62 0 0 1-4.096-3.085l-9.996-71.925a3.646 3.646 0 0 1 3.097-4.107L128.82 10.82a3.62 3.62 0 0 1 4.096 3.085l.859 6.18 9.206 66.599c.306 2.212-1.22 4.257-3.408 4.566l-.07.01z",clipRule:"evenodd"}),f.jsx("path",{stroke:"#7B79FF",strokeLinecap:"round",strokeWidth:2.5,d:"m69.945 103.92-4.07.572a4 4 0 0 1-4.518-3.405L50.223 21.866a4 4 0 0 1 3.405-4.518l78.231-10.994a4 4 0 0 1 4.518 3.404l.956 6.808M138.167 21.177l.5 3.12"}),f.jsx("path",{fill:"#fff",fillRule:"evenodd",stroke:"#7B79FF",strokeWidth:2.5,d:"m165.078 31.096-78.567-8.258a2.74 2.74 0 0 0-2.018.598 2.74 2.74 0 0 0-1.005 1.85l-8.362 79.561a2.748 2.748 0 0 0 2.447 3.023l78.568 8.258a2.74 2.74 0 0 0 2.018-.598 2.74 2.74 0 0 0 1.004-1.85l8.362-79.562a2.74 2.74 0 0 0-.597-2.018 2.74 2.74 0 0 0-1.85-1.004Z",clipRule:"evenodd"}),f.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"m93.657 31.382 62.655 6.585a3 3 0 0 1 2.67 3.297l-5.54 52.71a3 3 0 0 1-3.298 2.67L87.49 90.059a3 3 0 0 1-2.67-3.297l5.54-52.71a3 3 0 0 1 3.297-2.67",clipRule:"evenodd"}),f.jsx("path",{fill:"#F0F0FF",fillRule:"evenodd",d:"m93.407 74.676 9.798-6.609a4 4 0 0 1 5.167.595l7.174 7.722a1 1 0 0 0 1.362.097l15.34-12.43a4 4 0 0 1 5.877.936l9.981 15.438 1.433 2.392-.686 8.124a1 1 0 0 1-1.107.91l-56.963-6.329a1 1 0 0 1-.885-1.085l.755-8.199z",clipRule:"evenodd"}),f.jsx("path",{stroke:"#7B79FF",strokeWidth:2.5,d:"m156.181 39.21-62.655-6.585c-.48-.05-.936.099-1.284.38a1.75 1.75 0 0 0-.64 1.178l-5.54 52.71c-.05.48.1.936.381 1.284s.697.588 1.177.639l62.655 6.585c.481.05.936-.099 1.284-.38s.589-.697.639-1.177l5.54-52.71a1.74 1.74 0 0 0-.38-1.284 1.74 1.74 0 0 0-1.177-.64Z",clipRule:"evenodd"}),f.jsx("path",{fill:"#F0F0FF",stroke:"#7B79FF",strokeWidth:2.5,d:"M105.071 56.714a6 6 0 1 0 1.254-11.936 6 6 0 0 0-1.254 11.936Z"}),f.jsx("path",{stroke:"#7B79FF",strokeLinecap:"round",strokeWidth:2.5,d:"m91.396 76.222 11.809-8.155a4 4 0 0 1 5.167.594l7.174 7.723a1 1 0 0 0 1.362.096l15.34-12.43a4 4 0 0 1 5.877.936l11.064 17.556"})]})}),f.jsxs("defs",{children:[f.jsx("clipPath",{id:"EmptyPictures_svg__a",children:f.jsx("path",{fill:"#fff",d:"M.667.797h216v120h-216z"})}),f.jsx("clipPath",{id:"EmptyPictures_svg__b",children:f.jsx("path",{fill:"#fff",d:"M.667.797h216v120h-216z"})})]})]});U.forwardRef(BU);const UU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("rect",{width:31,height:23,x:.5,y:4.5,fill:"#F6ECFC",stroke:"#E0C1F4",rx:2.5}),f.jsx("path",{fill:"#9736E8",d:"M12.75 12a.75.75 0 0 1 .75-.75h8a.75.75 0 1 1 0 1.5h-8a.75.75 0 0 1-.75-.75m8.75 3.25h-8a.75.75 0 1 0 0 1.5h8a.75.75 0 1 0 0-1.5m0 4h-8a.75.75 0 1 0 0 1.5h8a.75.75 0 1 0 0-1.5M10.75 15a1 1 0 1 0 0 2 1 1 0 0 0 0-2m0-4a1 1 0 1 0 0 2 1 1 0 0 0 0-2m0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2"})]}),M0=U.forwardRef(UU),ZU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("path",{fill:"#1977F3",d:"M32 16c0-8.836-7.164-16-16-16S0 7.164 0 16c0 7.985 5.85 14.605 13.5 15.807v-11.18H9.437V16H13.5v-3.526c0-4.01 2.39-6.226 6.044-6.226 1.75 0 3.582.313 3.582.313V10.5h-2.018c-1.987 0-2.608 1.233-2.608 2.5V16h4.437l-.709 4.626H18.5v11.18C26.15 30.607 32 23.989 32 16"}),f.jsx("path",{fill:"#FEFEFE",d:"M22.228 20.626 22.937 16H18.5v-3.002c0-1.264.619-2.5 2.608-2.5h2.018V6.562s-1.832-.313-3.582-.313c-3.654 0-6.044 2.214-6.044 6.226V16H9.437v4.626H13.5v11.18Q14.724 32 16 32c.85 0 1.685-.068 2.5-.194v-11.18z"})]});U.forwardRef(ZU);const HU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("path",{fill:"#9736E8",d:"M0 4a4 4 0 0 1 4-4h24a4 4 0 0 1 4 4v24a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4z"}),f.jsx("path",{fill:"#fff",d:"M18.037 11.774a28.6 28.6 0 0 0-2.948 2.706c-1.995 2.109-3.55 4.093-4.761 6.06-.289.469-.574.945-.855 1.418a9 9 0 0 0-.463 1.536c-.074.37.275.68.577.395.312-.299.587-.64.851-.985.467-.608.906-1.237 1.342-1.867 3.37.242 7.27-2.048 8.933-4.857a.2.2 0 0 0 .017-.167.18.18 0 0 0-.114-.118c-.809-.27-1.798-.44-2.207-.462-.017 0-.034-.014-.037-.035a.04.04 0 0 1 .024-.043c1.113-.58 1.924-.647 2.877-.505.07.01.134-.046.16-.114.095-.217.356-.87.537-1.404a.2.2 0 0 0-.087-.239c-.71-.384-1.656-.643-2.035-.682-.017 0-.03-.018-.034-.036a.04.04 0 0 1 .024-.043c1.1-.483 1.485-.497 2.364-.302.087.018.17-.05.19-.142.433-1.714.574-3.197.608-3.68a.2.2 0 0 0-.057-.157.18.18 0 0 0-.148-.05c-2.444.356-4.403.865-6.093 1.55-.057.022-.11.072-.11.136.144.551-.242 1.209-.845 1.703a.04.04 0 0 1-.044.018.05.05 0 0 1-.027-.043c.004-.046.158-.665.067-1.116-.013-.064-.033-.125-.084-.16a.17.17 0 0 0-.17-.014c-7.924 3.811-5.922 10.098-5.922 10.098q.015.004.03.007c.895-1.86 1.904-3.232 3.49-5.035 1.178-1.337 2.331-2.425 3.525-3.325.75-.565 2.448-1.738 3.51-2.144a.3.3 0 0 1 .105-.021c.097 0 .177.064.2.16a.26.26 0 0 1-.046.228z"})]});U.forwardRef(HU);const WU=(e,t)=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:f.jsx("path",{fill:"#24292F",fillRule:"evenodd",d:"M15.952 0C7.132 0 0 7.184 0 16.07c0 7.105 4.57 13.118 10.908 15.247.792.16 1.083-.346 1.083-.772 0-.372-.027-1.65-.027-2.98-4.437.958-5.361-1.916-5.361-1.916-.713-1.862-1.77-2.34-1.77-2.34-1.452-.985.106-.985.106-.985 1.61.106 2.456 1.65 2.456 1.65 1.426 2.447 3.724 1.755 4.648 1.33.132-1.038.555-1.757 1.004-2.156-3.54-.372-7.263-1.756-7.263-7.929 0-1.756.634-3.193 1.637-4.31-.158-.399-.713-2.049.16-4.257 0 0 1.346-.426 4.383 1.65 1.3-.352 2.641-.531 3.988-.533 1.347 0 2.72.187 3.988.532 3.038-2.075 4.385-1.65 4.385-1.65.871 2.21.316 3.859.158 4.258 1.03 1.117 1.637 2.554 1.637 4.31 0 6.173-3.723 7.53-7.289 7.93.581.505 1.083 1.463 1.083 2.98 0 2.154-.026 3.884-.026 4.416 0 .426.29.932 1.082.772 6.34-2.13 10.908-8.142 10.908-15.246C31.904 7.184 24.748 0 15.952 0",clipRule:"evenodd"})});U.forwardRef(WU);const qU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("path",{fill:"#AC73E6",d:"M0 4a4 4 0 0 1 4-4h24a4 4 0 0 1 4 4v24a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4z"}),f.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M15.027 13.839c-3.19-.836-6.305-1.064-10.18-.608-1.215.152-1.063 1.975.076 2.203.304.836.456 2.355.912 3.267.987 2.279 5.622 1.975 7.369.835 1.14-.683 1.443-2.279 1.9-3.494.227-.684 1.595-.684 1.822 0 .38 1.215.76 2.81 1.9 3.494 1.747 1.14 6.381 1.444 7.369-.835.456-.912.607-2.431.911-3.267 1.14-.228 1.216-2.051.076-2.203-3.874-.456-6.989-.228-10.18.608-.455.075-1.519.075-1.975 0",clipRule:"evenodd"})]});U.forwardRef(qU);const VU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("path",{fill:"#4945FF",d:"M0 4a4 4 0 0 1 4-4h24a4 4 0 0 1 4 4v24a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4z"}),f.jsx("path",{fill:"#fff",d:"M15.733 8c.343 0 .678.108.963.31s.507.49.639.826c.13.337.165.707.098 1.064a1.9 1.9 0 0 1-.474.942 1.7 1.7 0 0 1-.887.504 1.64 1.64 0 0 1-1.002-.105 1.76 1.76 0 0 1-.778-.678A1.9 1.9 0 0 1 14 9.841a1.9 1.9 0 0 1 .508-1.302c.325-.345.766-.539 1.225-.539M20 24h-8v-2.265h2.933v-6.23H12.8v-2.266h4.267v8.496H20z"})]});U.forwardRef(VU);const GU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("rect",{width:31,height:23,x:.5,y:4.5,fill:"#EAF5FF",stroke:"#B8E1FF",rx:2.5}),f.jsx("path",{fill:"#0C75AF",d:"M11.425 15.468a2.2 2.2 0 0 1-.36.532q.22.24.36.532c.325.67.325 1.457.325 2.218 0 1.621.115 2 1.25 2a.75.75 0 1 1 0 1.5c-1.196 0-2.012-.431-2.425-1.282-.325-.67-.325-1.457-.325-2.218 0-1.621-.115-2-1.25-2a.75.75 0 1 1 0-1.5c1.135 0 1.25-.379 1.25-2 0-.76 0-1.547.325-2.218.413-.85 1.229-1.282 2.425-1.282a.75.75 0 1 1 0 1.5c-1.135 0-1.25.379-1.25 2 0 .76 0 1.547-.325 2.218M23 15.25c-1.135 0-1.25-.379-1.25-2 0-.76 0-1.547-.325-2.218-.413-.85-1.229-1.282-2.425-1.282a.75.75 0 1 0 0 1.5c1.135 0 1.25.379 1.25 2 0 .76 0 1.547.325 2.218q.142.292.363.532a2.2 2.2 0 0 0-.36.532c-.328.67-.328 1.457-.328 2.218 0 1.621-.115 2-1.25 2a.75.75 0 1 0 0 1.5c1.196 0 2.012-.431 2.425-1.282.325-.67.325-1.457.325-2.218 0-1.621.115-2 1.25-2a.75.75 0 1 0 0-1.5"})]}),N0=U.forwardRef(GU),JU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("rect",{width:31,height:23,x:.5,y:4.5,fill:"#EAF5FF",stroke:"#B8E1FF",rx:2.5}),f.jsx("path",{fill:"#0C75AF",d:"M9.75 12a.75.75 0 0 1 .75-.75h11a.75.75 0 1 1 0 1.5h-11a.75.75 0 0 1-.75-.75m.75 3.25h8a.75.75 0 1 0 0-1.5h-8a.75.75 0 1 0 0 1.5m11 1h-11a.75.75 0 1 0 0 1.5h11a.75.75 0 1 0 0-1.5m-3 2.5h-8a.75.75 0 1 0 0 1.5h8a.75.75 0 1 0 0-1.5"})]}),KU=U.forwardRef(JU),YU=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("rect",{width:31,height:23,x:.5,y:4.5,fill:"#F6ECFC",stroke:"#E0C1F4",rx:2.5}),f.jsx("path",{fill:"#9736E8",d:"M21.5 10.5h-11a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-9a1 1 0 0 0-1-1m-3.75 3a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5m-7.25 7v-1.75l3.25-3.25 5 5zm11 0h-1.336l-2.25-2.25 1.25-1.25 2.336 2.336z"})]}),Uu=U.forwardRef(YU),XU=(e,t)=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:f.jsx("path",{fill:"#32324D",d:"M18.05 16.007c0 5.019-4.04 9.087-9.025 9.087-4.984 0-9.025-4.07-9.025-9.087C0 10.99 4.04 6.92 9.025 6.92s9.025 4.069 9.025 9.087M27.95 16.007c0 4.724-2.02 8.555-4.512 8.555s-4.513-3.831-4.513-8.555 2.02-8.555 4.513-8.555 4.512 3.83 4.512 8.555M32 16.007c0 4.231-.71 7.664-1.587 7.664s-1.587-3.432-1.587-7.664.71-7.664 1.587-7.664c.876 0 1.587 3.432 1.587 7.664"})}),QU=U.forwardRef(XU),eZ=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("rect",{width:31,height:23,x:.5,y:4.5,fill:"#FCECEA",stroke:"#F5C0B8",rx:2.5}),f.jsx("path",{fill:"#D02B20",d:"M8.68 20v-6.22h-.096l-1.902 1.322V13.64l2.004-1.392h1.616V20zm3.733 0v-1.09l2.498-2.466c1.09-1.058 1.385-1.45 1.385-1.992v-.017c0-.66-.45-1.122-1.192-1.122-.757 0-1.278.505-1.278 1.24v.028h-1.499l-.005-.022c0-1.488 1.16-2.508 2.857-2.508 1.595 0 2.713.913 2.713 2.25v.016c0 .881-.457 1.612-1.87 2.917l-1.434 1.337v.124h3.416V20zm9.974.172c-1.75 0-2.906-.94-3.013-2.326l-.005-.07h1.552l.005.06c.07.601.623 1.03 1.461 1.03.827 0 1.37-.461 1.37-1.116v-.011c0-.741-.553-1.15-1.493-1.15h-.887v-1.154h.865c.817 0 1.343-.43 1.343-1.059v-.01c0-.645-.446-1.042-1.209-1.042-.762 0-1.273.413-1.337 1.058l-.005.048H19.54l.005-.064c.113-1.386 1.203-2.288 2.83-2.288 1.665 0 2.74.838 2.74 2.073v.01c0 .967-.71 1.596-1.617 1.784v.032c1.155.107 1.907.773 1.907 1.826v.011c0 1.407-1.209 2.358-3.019 2.358"})]}),so=U.forwardRef(eZ),tZ=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("rect",{width:31,height:23,x:.5,y:4.5,fill:"#FDF4DC",stroke:"#FAE7B9",rx:2.5}),f.jsx("path",{fill:"#D9822F",d:"M21 13h-2v-1.5a3 3 0 0 0-6 0V13h-2a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1m-5 5.25a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5M18 13h-4v-1.5a2 2 0 0 1 4 0z"})]}),nZ=U.forwardRef(tZ),rZ=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("path",{fill:"#66B7F1",d:"M0 4a4 4 0 0 1 4-4h24a4 4 0 0 1 4 4v24a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4z"}),f.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M12 10.921a.5.5 0 0 1 .773-.419l8.582 5.579a.5.5 0 0 1 0 .838l-8.582 5.579a.5.5 0 0 1-.773-.42z",clipRule:"evenodd"})]});U.forwardRef(rZ);const aZ=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("path",{fill:"#FF4500",d:"M16 0C7.164 0 0 7.164 0 16a15.95 15.95 0 0 0 4.686 11.314L1.64 30.36c-.605.605-.177 1.639.678 1.639H16c8.836 0 16-7.164 16-16S24.836 0 16 0"}),f.jsx("path",{fill:"#fff",d:"M19.255 7.545a2.668 2.668 0 0 0 5.261-.614 2.666 2.666 0 0 0-5.277-.54 4.307 4.307 0 0 0-3.84 4.277v.013c-2.345.099-4.487.767-6.187 1.82a3.736 3.736 0 1 0-3.869 6.34c.124 4.338 4.85 7.826 10.664 7.826s10.547-3.492 10.664-7.833a3.737 3.737 0 0 0-1.602-7.111c-.857 0-1.645.288-2.275.773-1.715-1.061-3.88-1.729-6.25-1.817v-.01a3.16 3.16 0 0 1 2.71-3.121zM9.062 17.829c.063-1.355.963-2.395 2.01-2.395 1.045 0 1.845 1.098 1.783 2.454-.063 1.354-.844 1.847-1.891 1.847S9 19.184 9.062 17.829m11.883-2.395c1.047 0 1.947 1.04 2.009 2.395s-.855 1.906-1.902 1.906-1.828-.491-1.89-1.848c-.063-1.355.735-2.453 1.783-2.453m-1.245 5.53c.196.02.321.224.245.406a4.268 4.268 0 0 1-7.875 0 .296.296 0 0 1 .245-.406c1.15-.116 2.394-.18 3.692-.18 1.3 0 2.542.064 3.693.18"})]});U.forwardRef(aZ);const iZ=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("rect",{width:31,height:23,x:.5,y:4.5,fill:"#F0F0FF",stroke:"#D9D8FF",rx:2.5}),f.jsx("path",{fill:"#4945FF",d:"M16.523 19.72a.75.75 0 0 1 0 1.063l-.371.371a3.751 3.751 0 1 1-5.305-5.305l1.507-1.507a3.75 3.75 0 0 1 5.146-.155.753.753 0 0 1-1 1.126 2.25 2.25 0 0 0-3.086.091l-1.506 1.505a2.25 2.25 0 0 0 3.183 3.183l.37-.371a.747.747 0 0 1 1.062 0m4.63-8.874a3.755 3.755 0 0 0-5.305 0l-.371.37a.751.751 0 1 0 1.062 1.063l.372-.37a2.25 2.25 0 1 1 3.182 3.182l-1.507 1.507a2.25 2.25 0 0 1-3.086.09.755.755 0 0 0-1.211.315.75.75 0 0 0 .211.81 3.75 3.75 0 0 0 5.144-.152l1.507-1.507a3.756 3.756 0 0 0 .002-5.307z"})]}),oZ=U.forwardRef(iZ),sZ=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("rect",{width:31,height:23,x:.5,y:4.5,fill:"#0C75AF",stroke:"#0C75AF",rx:2.5}),f.jsx("path",{fill:"#fff",d:"M8.523 17.586h1.711c.123.727.844 1.195 1.758 1.195.95 0 1.606-.445 1.606-1.107 0-.492-.352-.797-1.266-1.084l-.879-.276c-1.248-.386-1.963-1.218-1.963-2.308 0-1.547 1.418-2.678 3.328-2.678 1.858 0 3.164 1.078 3.217 2.62h-1.67c-.105-.71-.744-1.184-1.617-1.184-.826 0-1.459.433-1.459 1.03 0 .47.34.815 1.137 1.067l.867.27c1.436.451 2.086 1.154 2.086 2.297 0 1.675-1.418 2.789-3.516 2.789-1.922 0-3.234-.99-3.34-2.631M20.107 20h-1.78l1.487-6.943h-2.53l.31-1.512h6.843l-.31 1.512h-2.531z"})]}),lZ=U.forwardRef(sZ),cZ=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("path",{fill:"#4945FF",d:"M0 11.093c0-5.23 0-7.844 1.625-9.468C3.249 0 5.864 0 11.093 0h9.814c5.23 0 7.844 0 9.468 1.625C32 3.249 32 5.864 32 11.093v9.814c0 5.23 0 7.844-1.625 9.468C28.751 32 26.136 32 20.907 32h-9.814c-5.23 0-7.844 0-9.468-1.625C0 28.751 0 26.136 0 20.907z"}),f.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M22.08 9.707H11.307V15.2H16.8v5.493h5.493V9.92a.213.213 0 0 0-.213-.213",clipRule:"evenodd"}),f.jsx("path",{fill:"#fff",d:"M16.8 15.2h-.213v.213h.213z"}),f.jsx("path",{fill:"#9593FF",d:"M11.307 15.2h5.28c.117 0 .213.096.213.213v5.28h-5.28a.213.213 0 0 1-.213-.213zM16.8 20.693h5.493l-5.31 5.312a.107.107 0 0 1-.183-.076zM11.307 15.2H6.07a.107.107 0 0 1-.076-.182l5.312-5.311z"})]});U.forwardRef(cZ);const uZ=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("rect",{width:31,height:23,x:.5,y:4.5,fill:"#EAFBE7",stroke:"#C6F0C2",rx:2.5}),f.jsx("path",{fill:"#328048",d:"M13.679 11.18a.75.75 0 0 0-1.358 0l-4 8.5a.75.75 0 0 0 1.357.64l.974-2.07h4.695l.974 2.07a.75.75 0 1 0 1.358-.64zm-2.32 5.57 1.64-3.489 1.643 3.489zm9.14-3c-.865 0-1.547.241-2.027.717a.749.749 0 1 0 1.056 1.063c.188-.187.516-.283.972-.283.584 0 1.074.323 1.21.757a3 3 0 0 0-1.21-.254c-1.516 0-2.75 1.121-2.75 2.5s1.234 2.5 2.75 2.5c.479.001.95-.114 1.375-.336A.75.75 0 0 0 23.25 20v-3.75c0-1.379-1.234-2.5-2.75-2.5m0 5.5c-.687 0-1.25-.449-1.25-1s.563-1 1.25-1 1.25.449 1.25 1-.562 1-1.25 1"})]}),$0=U.forwardRef(uZ),dZ=(e,t)=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:[f.jsx("rect",{width:31,height:23,x:.5,y:4.5,fill:"#F0F0FF",stroke:"#D9D8FF",rx:2.5}),f.jsx("path",{fill:"#4945FF",d:"M18 9a5.005 5.005 0 0 0-4.756 6.549l-3.598 3.597a.5.5 0 0 0-.146.354V22a.5.5 0 0 0 .5.5h2.5a.5.5 0 0 0 .5-.5v-1h1a.5.5 0 0 0 .5-.5v-1h1a.5.5 0 0 0 .354-.146l.597-.598A5 5 0 1 0 18 9m1.25 4.75a1 1 0 1 1 0-2 1 1 0 0 1 0 2"})]}),pZ=U.forwardRef(dZ),fZ=(e,t)=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:16,height:16,ref:t,...e,children:f.jsxs("g",{fillRule:"evenodd",clipRule:"evenodd",children:[f.jsx("path",{fill:"#FAFAFA",d:"M6.566 6.533c.064.092 1.557 2.264 3.317 4.828l3.617 5.268c.23.334.418.614.418.622s-.086.114-.19.234-.4.462-.654.76l-3.258 3.787c-1.153 1.34-1.32 1.534-2.197 2.556-.47.546-.919 1.068-1 1.16s-.146.177-.146.189c0 .014.295.021.83.021h.83l.911-1.062 1.1-1.279a888 888 0 0 0 2.243-2.61c.043-.048.377-.437.744-.864s.676-.787.689-.8l.431-.502a9 9 0 0 1 .424-.478c.009 0 1.164 1.672 2.567 3.717l2.608 3.797.055.08h2.846c2.34.001 2.843-.004 2.834-.027-.01-.025-1.373-2.013-4.87-7.103-2.517-3.665-2.852-4.157-2.843-4.182.01-.024.353-.425 2.607-3.049l1.779-2.07c.062-.07.388-.45.724-.84l1.96-2.283c.027-.035-.02-.038-.814-.038h-.842l-.375.437a1174 1174 0 0 1-2.23 2.594c-.084.096-.506.586-.938 1.09a129 129 0 0 1-1.004 1.167c-.186.22-.374.44-1.239 1.442-.38.44-.399.459-.43.418-.02-.023-1.132-1.64-2.473-3.594L12.16 6.366H6.45zm2.228 1.165 1.186 1.7c1.196 1.71 5.895 8.436 8.917 12.763a421 421 0 0 0 1.783 2.54c.02.022.301.026 1.314.022l1.287-.005-3.37-4.823-5.963-8.534-2.593-3.712-1.3-.005-1.3-.006z"}),f.jsx("path",{fill:"#040404",d:"M0 16v16l16.005-.005 16.006-.006.005-15.994L32.022 0H0zm.01.01c0 8.8.003 12.4.006 8s.003-11.6 0-16-.005-.8-.005 8m6.556-9.477c.064.092 1.557 2.264 3.317 4.828l3.617 5.268c.23.334.418.614.418.622s-.086.114-.19.234-.399.462-.654.76l-2.014 2.34-1.244 1.447c-1.153 1.34-1.32 1.534-2.197 2.556-.469.546-.918 1.068-1 1.16-.08.092-.146.177-.146.189 0 .014.295.021.83.021h.83l.911-1.062c.502-.585.996-1.16 1.1-1.279a888 888 0 0 0 2.243-2.61c.043-.048.377-.437.744-.864l.689-.8.431-.502a9 9 0 0 1 .424-.478c.009 0 1.164 1.672 2.567 3.717l2.608 3.797.056.08h2.845c2.34.001 2.843-.004 2.834-.027-.01-.025-1.373-2.013-4.87-7.103-2.517-3.665-2.852-4.157-2.842-4.182.009-.024.352-.425 2.606-3.049l1.78-2.07.723-.84 1.96-2.283c.027-.035-.02-.038-.814-.038h-.842l-.375.437a1129 1129 0 0 1-2.23 2.594c-.084.096-.506.586-.938 1.09a129 129 0 0 1-1.004 1.167c-.186.22-.374.44-1.239 1.442-.38.44-.399.459-.43.418-.02-.023-1.132-1.64-2.473-3.594L12.16 6.366H6.45zm2.228 1.165 1.186 1.7 8.918 12.763a416 416 0 0 0 1.782 2.54c.02.022.301.026 1.314.022l1.287-.005-3.37-4.823-5.963-8.534-2.593-3.712-1.3-.005-1.3-.006z"})]})}),hZ=U.forwardRef(fZ),P0={biginteger:so,blocks:CU,boolean:EU,collectionType:z0,component:IU,contentType:z0,date:Bs,datetime:Bs,decimal:so,dynamiczone:MU,email:$U,enum:M0,enumeration:M0,file:Uu,files:Uu,float:so,integer:so,json:N0,JSON:N0,media:Uu,number:so,password:nZ,relation:oZ,richtext:KU,singleType:lZ,string:$0,text:$0,time:Bs,timestamp:Bs,uid:pZ},mZ=gt(ze)`
  svg {
    height: 100%;
    width: 100%;
  }
`,Io=({type:e,customField:t=null,...n})=>{const r=xo("AttributeIcon",s=>s.customFields.get);let a=P0[e];if(t){const o=r(t)?.icon;o&&(a=o)}return P0[e]?f.jsx(mZ,{width:"3.2rem",height:"3.2rem",shrink:0,...n,"aria-hidden":!0,children:f.jsx(ze,{tag:a})}):null},kx=gt(ze)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    cursor: pointer;
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,gZ=[],vZ=()=>f.jsx(Ce,{grow:1,justifyContent:"flex-end",children:f.jsxs(Ce,{gap:1,hasRadius:!0,background:"alternative100",padding:"0.2rem 0.4rem",children:[f.jsx(Cl,{width:"1rem",height:"1rem",fill:"alternative600"}),f.jsx(Fe,{textColor:"alternative600",variant:"sigma",children:"New"})]})}),yZ=({type:e="text"})=>{const{formatMessage:t}=pt(),{onClickSelectField:n}=Ni(),r=()=>{n({attributeType:e,step:e==="component"?"1":null})};return f.jsx(kx,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:r,children:f.jsxs(Ce,{children:[f.jsx(Io,{type:e}),f.jsxs(ze,{paddingLeft:4,width:"100%",children:[f.jsxs(Ce,{justifyContent:"space-between",children:[f.jsx(Fe,{fontWeight:"bold",textColor:"neutral800",children:t({id:Q(`attribute.${e}`),defaultMessage:e})}),gZ.includes(e)&&f.jsx(vZ,{})]}),f.jsx(Ce,{children:f.jsx(Fe,{variant:"pi",textColor:"neutral600",children:t({id:Q(`attribute.${e}.description`),defaultMessage:"A type for modeling data"})})})]})]})})},bZ=({attributes:e})=>f.jsx(Ld,{tagName:"button",children:f.jsx(Ce,{direction:"column",alignItems:"stretch",gap:8,children:e.map((t,n)=>f.jsx(pr.Root,{gap:3,children:t.map(r=>f.jsx(pr.Item,{col:6,xs:12,direction:"column",alignItems:"stretch",children:f.jsx(yZ,{type:r})},r))},n))})}),xZ=({customFieldUid:e,customField:t})=>{const{type:n,intlLabel:r,intlDescription:a}=t,{formatMessage:s}=pt(),{onClickSelectCustomField:o}=Ni(),l=()=>{o({attributeType:n,customFieldUid:e})};return f.jsx(kx,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:l,children:f.jsxs(Ce,{children:[f.jsx(Io,{type:n,customField:e}),f.jsxs(ze,{paddingLeft:4,children:[f.jsx(Ce,{children:f.jsx(Fe,{fontWeight:"bold",textColor:"neutral800",children:s(r)})}),f.jsx(Ce,{children:f.jsx(Fe,{variant:"pi",textColor:"neutral600",children:s(a)})})]})]})})},_Z=gt(ze)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,wZ=()=>f.jsx(Ce,{wrap:"wrap",gap:4,children:[...Array(4)].map((e,t)=>f.jsx(_Z,{height:"138px",width:"375px",hasRadius:!0},`empty-card-${t}`))}),kZ=()=>{const{formatMessage:e}=pt();return f.jsxs(ze,{position:"relative",children:[f.jsx(wZ,{}),f.jsx(ze,{position:"absolute",top:6,width:"100%",children:f.jsxs(Ce,{alignItems:"center",justifyContent:"center",direction:"column",children:[f.jsx(wx,{width:"160px",height:"88px"}),f.jsx(ze,{paddingTop:6,paddingBottom:4,children:f.jsxs(ze,{textAlign:"center",children:[f.jsx(Fe,{variant:"delta",tag:"p",textColor:"neutral600",children:e({id:Q("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})}),f.jsx(ze,{paddingTop:4,children:f.jsx(Fe,{variant:"delta",tag:"p",textColor:"neutral600",children:e({id:Q("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."})})})]})}),f.jsx(CE,{tag:c1,to:`/marketplace?${SE.stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:f.jsx(da,{}),children:e({id:Q("modalForm.empty.button"),defaultMessage:"Add custom fields"})})]})})]})},CZ=()=>{const{formatMessage:e}=pt(),t=xo("CustomFieldsList",a=>a.customFields.getAll),n=Object.entries(t());if(!n.length)return f.jsx(kZ,{});const r=n.sort((a,s)=>a[1].name>s[1].name?1:-1);return f.jsx(Ld,{tagName:"button",children:f.jsxs(Ce,{direction:"column",alignItems:"stretch",gap:3,children:[f.jsx(pr.Root,{gap:3,children:r.map(([a,s])=>f.jsx(pr.Item,{col:6,xs:12,direction:"column",alignItems:"stretch",children:f.jsx(xZ,{customFieldUid:a,customField:s},a)},a))}),f.jsx(wl,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0,children:e({id:Q("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"})})]})})},SZ=({attributes:e,forTarget:t,kind:n})=>{const{formatMessage:r}=pt(),a=Q("modalForm.tabs.default"),s=Q("modalForm.tabs.custom"),o=t.includes("component")?"component":n,l=Q(`modalForm.sub-header.chooseAttribute.${o}`);return f.jsx(pn.Body,{children:f.jsxs(ur.Root,{variant:"simple",defaultValue:"default",children:[f.jsxs(Ce,{justifyContent:"space-between",children:[f.jsx(Fe,{variant:"beta",tag:"h2",children:r({id:l,defaultMessage:"Select a field"})}),f.jsxs(ur.List,{children:[f.jsx(ur.Trigger,{value:"default",children:r({id:a,defaultMessage:"Default"})}),f.jsx(ur.Trigger,{value:"custom",children:r({id:s,defaultMessage:"Custom"})})]})]}),f.jsx(Sl,{marginBottom:6}),f.jsx(ur.Content,{value:"default",children:f.jsx(bZ,{attributes:e})}),f.jsx(ur.Content,{value:"custom",children:f.jsx(CZ,{})})]})})},EZ=({intlLabel:e,name:t,options:n,onChange:r,value:a=null})=>{const{formatMessage:s}=pt(),o=e.id?s({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):t,l=u=>{let d="";u==="true"&&(d=!0),u==="false"&&(d=!1),r({target:{name:t,value:d,type:"select-default-boolean"}})};return f.jsxs(et.Root,{name:t,children:[f.jsx(et.Label,{children:o}),f.jsx(Yr,{onChange:l,value:(a===null?"":a).toString(),children:n.map(({metadatas:{intlLabel:u,disabled:d,hidden:p},key:m,value:v})=>f.jsx(qn,{value:v,disabled:d,hidden:p,children:u.defaultMessage},m))})]})},AZ=gt(Ce)`
  position: relative;
  align-items: stretch;

  label {
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;

    ${x1()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    border-radius: ${({theme:e})=>e.borderRadius};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    color: ${({theme:e})=>e.colors.primary600};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,Ip=({intlLabel:e,name:t,onChange:n,radios:r=[],value:a})=>{const{formatMessage:s}=pt();return f.jsxs(Ce,{direction:"column",alignItems:"stretch",gap:2,children:[f.jsx(Fe,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:t,tag:"label",children:s(e)}),f.jsx(AZ,{gap:4,alignItems:"stretch",children:r.map(o=>f.jsxs("label",{htmlFor:o.value.toString(),className:"container",children:[f.jsx("input",{id:o.value.toString(),name:t,className:"option-input",checked:o.value===a,value:o.value,onChange:n,type:"radio"},o.value),f.jsx(ze,{className:"option",padding:4,children:f.jsxs(Ce,{children:[f.jsx(ze,{paddingRight:4,children:f.jsx("span",{className:"checkmark"})}),f.jsxs(Ce,{direction:"column",alignItems:"stretch",gap:2,children:[f.jsx(Fe,{fontWeight:"bold",children:s(o.title)}),f.jsx(Fe,{variant:"pi",textColor:"neutral600",children:s(o.description)})]})]})})]},o.value))})]})},TZ=({onChange:e,name:t,intlLabel:n,...r})=>{const a=s=>{const o=s.target.value!=="false";e({target:{name:t,value:o,type:"boolean-radio-group"}})};return f.jsx(Ip,{...r,name:t,onChange:a,intlLabel:n})},jZ=({error:e,intlLabel:t,modifiedData:n,name:r,onChange:a,value:s=null})=>{const{formatMessage:o}=pt(),l=t.id?o({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):r,u=n.type==="biginteger"?"text":"number",d=!n.type,p=e?o({id:e,defaultMessage:e}):"";return f.jsxs(Ce,{direction:"column",alignItems:"stretch",gap:2,children:[f.jsx(kl,{id:r,name:r,onCheckedChange:m=>{a({target:{name:r,value:m?u==="text"?"0":0:null}})},checked:s!==null,children:l}),s!==null&&f.jsx(ze,{paddingLeft:6,style:{maxWidth:"200px"},children:u==="text"?f.jsxs(et.Root,{error:p,name:r,children:[f.jsx(Kr,{"aria-label":l,disabled:d,onChange:a,value:s===null?"":s,type:"text"}),f.jsx(et.Error,{})]}):f.jsxs(et.Root,{error:p,name:r,children:[f.jsx(_1,{"aria-label":l,disabled:d,onValueChange:m=>{a({target:{name:r,value:m??0,type:u}})},value:s||0}),f.jsx(et.Error,{})]})})]})},IZ=({onChange:e,...t})=>{const{formatMessage:n}=pt(),{toggleNotification:r}=Ri(),a=s=>{r({type:"info",message:n({id:Q("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."})}),e(s)};return f.jsx(Ip,{...t,onChange:a})},RZ=({description:e,disabled:t=!1,intlLabel:n,isCreating:r,name:a,onChange:s,value:o=!1})=>{const{formatMessage:l}=pt(),[u,d]=U.useState(!1),p=n.id?l({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):a,m=e?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",v=()=>{s({target:{name:a,value:!1}}),d(!1)},y=g=>{if(!g&&!r){d(!0);return}s({target:{name:a,value:!!g}})};return f.jsxs(f.Fragment,{children:[f.jsxs(et.Root,{hint:m,name:a,children:[f.jsx(kl,{checked:o,disabled:t,onCheckedChange:y,children:p}),f.jsx(et.Hint,{})]}),f.jsx(Za.Root,{open:u,onOpenChange:g=>d(g),children:f.jsx(Oo,{endAction:f.jsx(ht,{onClick:v,variant:"danger",width:"100%",justifyContent:"center",children:l({id:Q("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"})}),children:l({id:Q("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."})})})]})},OZ=({deleteComponent:e,deleteContentType:t,isAttributeModal:n,isCustomFieldModal:r,isComponentAttribute:a,isComponentToDzModal:s,isContentTypeModal:o,isCreatingComponent:l,isCreatingComponentAttribute:u,isCreatingComponentInDz:d,isCreatingComponentWhileAddingAField:p,isCreatingContentType:m,isCreatingDz:v,isComponentModal:y,isDzAttribute:g,isEditingAttribute:_,isInFirstComponentStep:x,onSubmitAddComponentAttribute:k,onSubmitAddComponentToDz:A,onSubmitCreateContentType:T,onSubmitCreateComponent:j,onSubmitCreateDz:F,onSubmitEditAttribute:O,onSubmitEditComponent:B,onSubmitEditContentType:L,onSubmitEditCustomFieldAttribute:V,onSubmitEditDz:q,onClickFinish:D})=>{const{formatMessage:X}=pt();return s?d?f.jsx(ht,{variant:"secondary",type:"submit",onClick:M=>{M.preventDefault(),A(M,!0)},startIcon:f.jsx(da,{}),children:X({id:Q("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})}):f.jsx(ht,{variant:"default",type:"submit",onClick:M=>{M.preventDefault(),A(M,!1)},children:X({id:"global.finish",defaultMessage:"Finish"})}):n&&g&&!v?f.jsx(ht,{variant:"default",type:"submit",onClick:M=>{M.preventDefault(),D(),q(M,!1)},children:X({id:"global.finish",defaultMessage:"Finish"})}):n&&g&&v?f.jsx(f.Fragment,{children:f.jsx(ht,{variant:"secondary",type:"submit",onClick:M=>{M.preventDefault(),F(M,!0)},startIcon:f.jsx(da,{}),children:X({id:Q("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"})})}):n&&a?x?f.jsx(ht,{variant:"secondary",type:"submit",onClick:M=>{M.preventDefault(),k(M,!0)},children:X(u?{id:Q("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:Q("form.button.select-component"),defaultMessage:"Configure the component"})}):f.jsxs(Ce,{gap:2,children:[f.jsx(ht,{variant:"secondary",type:"submit",onClick:M=>{M.preventDefault(),k(M,!0)},startIcon:f.jsx(da,{}),children:X(p?{id:Q("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:Q("form.button.add-field"),defaultMessage:"Add another field"})}),f.jsx(ht,{variant:"default",type:"button",onClick:M=>{M.preventDefault(),D(),k(M,!1)},children:X({id:"global.finish",defaultMessage:"Finish"})})]}):n&&!a&&!g?f.jsxs(Ce,{gap:2,children:[f.jsx(ht,{type:_?"button":"submit",variant:"secondary",onClick:M=>{M.preventDefault(),O(M,!0)},startIcon:f.jsx(da,{}),children:X({id:Q("form.button.add-field"),defaultMessage:"Add another field"})}),f.jsx(ht,{type:_?"submit":"button",variant:"default",onClick:M=>{M.preventDefault(),D(),O(M,!1)},children:X({id:"global.finish",defaultMessage:"Finish"})})]}):o?f.jsxs(Ce,{gap:2,children:[!m&&f.jsxs(f.Fragment,{children:[f.jsx(ht,{type:"button",variant:"danger",onClick:M=>{M.preventDefault(),t()},children:X({id:"global.delete",defaultMessage:"Delete"})}),f.jsx(ht,{type:"submit",variant:"default",onClick:M=>{M.preventDefault(),L(M,!1)},children:X({id:"global.finish",defaultMessage:"Finish"})})]}),m&&f.jsx(ht,{type:"submit",variant:"secondary",onClick:M=>{M.preventDefault(),T(M,!0)},children:X({id:"global.continue",defaultMessage:"Continue"})})]}):y?f.jsxs(Ce,{gap:2,children:[!l&&f.jsxs(f.Fragment,{children:[f.jsx(ht,{type:"button",variant:"danger",onClick:M=>{M.preventDefault(),e()},children:X({id:"global.delete",defaultMessage:"Delete"})}),f.jsx(ht,{type:"submit",variant:"default",onClick:M=>{M.preventDefault(),B(M,!1)},children:X({id:"global.finish",defaultMessage:"Finish"})})]}),l&&f.jsx(ht,{type:"submit",variant:"secondary",onClick:M=>{M.preventDefault(),j(M,!0)},children:X({id:"global.continue",defaultMessage:"Continue"})})]}):r?f.jsxs(Ce,{gap:2,children:[f.jsx(ht,{type:_?"button":"submit",variant:"secondary",onClick:M=>{M.preventDefault(),V(M,!0)},startIcon:f.jsx(da,{}),children:X({id:Q("form.button.add-field"),defaultMessage:"Add another field"})}),f.jsx(ht,{type:_?"submit":"button",variant:"default",onClick:M=>{M.preventDefault(),D(),V(M,!1)},children:X({id:"global.finish",defaultMessage:"Finish"})})]}):null},FZ=({actionType:e=null,attributeName:t,attributeType:n,contentTypeKind:r,dynamicZoneTarget:a,forTarget:s,modalType:o=null,targetUid:l,customFieldUid:u=null,showBackLink:d=!1})=>{const{formatMessage:p}=pt(),{components:m,contentTypes:v}=Xn(),{onOpenModalAddField:y}=Ni();let g="component",_=[];const x=s==="component"?m[l]:v[l],k=x?.info.displayName;if(o==="contentType"&&(g=r),["component"].includes(o||"")&&(g="component"),["component","contentType"].includes(o||"")){let T=Q(`modalForm.component.header-${e}`);return o==="contentType"&&(T=Q(`modalForm.${r}.header-create`)),e==="edit"&&(T=Q("modalForm.header-edit")),f.jsx(pn.Header,{children:f.jsxs(Ce,{children:[f.jsx(ze,{children:f.jsx(Io,{type:g})}),f.jsx(ze,{paddingLeft:3,children:f.jsx(pn.Title,{children:p({id:T},{name:k})})})]})})}return _=[{label:k,info:{category:"category"in x&&x?.category||"",name:x?.info?.displayName}}],o==="chooseAttribute"&&(g=s==="component"?"component":"kind"in x?x.kind:""),o==="addComponentToDynamicZone"&&(g="dynamiczone",_.push({label:a})),(o==="attribute"||o==="customField")&&(g=n,_.push({label:t})),f.jsx(pn.Header,{children:f.jsxs(Ce,{gap:3,children:[d&&f.jsx(wl,{"aria-label":p({id:Q("modalForm.header.back"),defaultMessage:"Back"}),startIcon:f.jsx(w1,{}),onClick:()=>y({forTarget:s,targetUid:l}),href:"#back",isExternal:!1}),f.jsx(Io,{type:g,customField:u}),f.jsx(EE,{label:_.map(({label:T})=>T).join(","),children:_.map(({label:T,info:j},F,O)=>{if(T=Da(T),!T)return null;const B=`${T}.${F}`;return j?.category&&(T=`${T} (${Da(j.category)} - ${Da(j.name)})`),f.jsx(AE,{isCurrent:F===O.length-1,children:T},B)})})]})})},zZ=({modalType:e,forTarget:t,kind:n,actionType:r,step:a})=>{switch(e){case"chooseAttribute":return Q(`modalForm.sub-header.chooseAttribute.${t?.includes("component")?"component":n||"collectionType"}`);case"attribute":return Q(`modalForm.sub-header.attribute.${r}${a!=="null"&&a!==null&&r!=="edit"?".step":""}`);case"customField":return Q(`modalForm.sub-header.attribute.${r}`);case"addComponentToDynamicZone":return Q("modalForm.sub-header.addComponentToDynamicZone");default:return Q("configurations")}},MZ=({actionType:e,modalType:t,forTarget:n,kind:r,step:a,attributeType:s,attributeName:o,customField:l})=>{const{formatMessage:u}=pt(),d=t==="customField"?l?.intlLabel:{id:Q(`attribute.${s}`)};return f.jsxs(Ce,{direction:"column",alignItems:"flex-start",paddingBottom:1,gap:1,children:[f.jsx(Fe,{tag:"h2",variant:"beta",children:u({id:zZ({actionType:e,forTarget:n,kind:r,step:a,modalType:t}),defaultMessage:"Add new field"},{type:d?Da(u(d)):"",name:Da(o),step:a})}),f.jsx(Fe,{variant:"pi",textColor:"neutral600",children:u({id:Q(`attribute.${s}.description`),defaultMessage:"A type for modeling data"})})]})},Cx={alien:xA,apps:bA,archive:yA,arrowDown:vA,arrowLeft:w1,arrowRight:gA,arrowUp:f1,attachment:Pd,bell:mA,bold:hA,book:fA,briefcase:pA,brush:ou,bulletList:dA,calendar:uA,car:cA,cast:lA,chartBubble:sA,chartCircle:oA,chartPie:iA,check:u1,clock:aA,cloud:rA,code:h1,cog:nA,collapse:tA,command:eA,connector:Q3,crop:X3,crown:Y3,cup:K3,cursor:J3,dashboard:G3,database:V3,discuss:q3,doctor:W3,earth:H3,emotionHappy:Z3,emotionUnhappy:U3,envelop:B3,exit:L3,expand:s1,eye:I1,feather:em,file:D3,fileError:P3,filePdf:$3,fileXls:N3,fileZip:o1,fileCsv:M3,filter:z3,folder:zd,gate:F3,gift:O3,globe:R3,grid:I3,handHeart:j3,hashtag:T3,headphone:A3,heart:E3,house:S3,information:C3,italic:k3,key:w3,landscape:_3,layer:x3,layout:b3,lightbulb:y3,link:v3,lock:g3,magic:m3,manyToMany:j1,manyToOne:T1,manyWays:A1,medium:QU,message:h3,microphone:f3,monitor:p3,moon:d3,music:u3,oneToMany:E1,oneToOne:S1,oneWay:C1,paint:ou,paintBrush:ou,paperPlane:c3,pencil:l3,phone:s3,picture:o3,pin:i3,pinMap:a3,plane:r3,play:n3,plus:da,priceTag:t3,puzzle:e3,question:QE,quote:XE,refresh:Dd,restaurant:YE,rocket:KE,rotate:JE,scissors:GE,search:k1,seed:VE,server:qE,shield:WE,shirt:HE,shoppingCart:ZE,slideshow:UE,stack:BE,star:LE,store:DE,strikeThrough:PE,sun:$E,television:NE,thumbDown:p1,thumbUp:d1,train:ME,twitter:hZ,typhoon:zE,underline:FE,user:OE,volumeMute:RE,volumeUp:IE,walk:jE,wheelchair:TE,write:em},NZ=gt(Ce)`
  label {
    ${x1()}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,$Z=({iconKey:e,name:t,onChange:n,isSelected:r,ariaLabel:a})=>{const s=Cx[e];return f.jsx(et.Root,{name:t,required:!1,children:f.jsxs(et.Label,{children:[f.jsxs(m1,{children:[a,f.jsx(et.Input,{type:"radio",checked:r,onChange:n,value:e,"aria-checked":r})]}),f.jsx(Al,{label:e,children:f.jsx(Ce,{padding:2,cursor:"pointer",hasRadius:!0,background:r?"primary200":void 0,children:f.jsx(s,{width:"2rem",height:"2rem",fill:r?"primary600":"neutral300"})})})]})})},PZ=({intlLabel:e,name:t,onChange:n,value:r=""})=>{const{formatMessage:a}=pt(),[s,o]=U.useState(!1),[l,u]=U.useState(""),d=Object.keys(Cx),[p,m]=U.useState(d),v=U.useRef(null),y=U.useRef(null),g=()=>{o(!s)},_=({target:{value:A}})=>{u(A),m(()=>d.filter(T=>T.toLowerCase().includes(A.toLowerCase())))},x=()=>{g(),u(""),m(d)},k=()=>{n({target:{name:t,value:""}})};return U.useEffect(()=>{s&&y.current?.focus()},[s]),f.jsxs(f.Fragment,{children:[f.jsxs(Ce,{justifyContent:"space-between",paddingBottom:2,children:[f.jsx(Fe,{variant:"pi",fontWeight:"bold",textColor:"neutral800",tag:"label",children:a(e)}),f.jsxs(Ce,{gap:1,children:[s?f.jsx(g1,{ref:y,name:"searchbar",placeholder:a({id:Q("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{l||g()},onChange:_,value:l,onClear:x,clearLabel:a({id:Q("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"}),children:a({id:Q("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})}):f.jsx(fr,{ref:v,onClick:g,withTooltip:!1,label:a({id:Q("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),variant:"ghost",children:f.jsx(k1,{})}),r&&f.jsx(Al,{label:a({id:Q("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"}),children:f.jsx(fr,{onClick:k,withTooltip:!1,label:a({id:Q("IconPicker.remove.button"),defaultMessage:"Remove the selected icon"}),variant:"ghost",children:f.jsx(Fd,{})})})]})]}),f.jsx(NZ,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center",children:p.length>0?p.map(A=>f.jsx($Z,{iconKey:A,name:t,onChange:n,isSelected:A===r,ariaLabel:a({id:Q("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:A})},A)):f.jsx(ze,{padding:4,grow:2,children:f.jsx(Fe,{variant:"delta",textColor:"neutral600",textAlign:"center",children:a({id:Q("IconPicker.emptyState.label"),defaultMessage:"No icon found"})})})})]})},DZ=({description:e,error:t,intlLabel:n,modifiedData:r,name:a,onChange:s,value:o})=>{const{formatMessage:l}=pt(),u=U.useRef(s),d=r?.displayName||"",p=U.useRef(d),m=U.useRef(o);U.useEffect(()=>{if(d&&d!==p.current){const _=R1(d);let x=_;try{x=Ci(_,2)}catch{}u.current({target:{name:a,value:x}}),m.current=x,p.current=d}else d||(u.current({target:{name:a,value:""}}),m.current="",p.current="")},[d,a,o]);const v=t?l({id:t,defaultMessage:t}):"",y=e?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",g=l(n);return f.jsxs(et.Root,{error:v,hint:y,name:a,children:[f.jsx(et.Label,{children:g}),f.jsx(Kr,{onChange:s,value:o||"",type:"text"}),f.jsx(et.Error,{})]})},D0=e=>{if(e instanceof Date&&L0(e))return e;if(typeof e=="string"||typeof e=="number"){const t=new Date(e);if(L0(t))return t}},L0=e=>!isNaN(e.getTime()),LZ=e=>{const[t,n]=e.split(":");return`${t}:${n}`},BZ=e=>e.split(":").length===2?`${e}:00.000`:e,UZ=e=>{if(e)return e.split(":").length>2?LZ(e):e},ZZ=e=>{if(e)return BZ(e)},HZ=({value:e})=>UZ(e),B0=(e,t,n,r)=>{const a=ZZ(r);e({target:{name:t,value:a,type:n}})},WZ=({autoComplete:e,customInputs:t,description:n,disabled:r,intlLabel:a,labelAction:s,error:o,name:l,onChange:u,onDelete:d,options:p=[],placeholder:m,required:v,step:y,type:g,value:_,isNullable:x,autoFocus:k,attribute:A,attributeName:T,conditionFields:j,...F})=>{const{formatMessage:O}=pt(),B=(ue,z)=>{if(ue&&(z==="minLength"&&z in ue||z==="maxLength"&&z in ue||z==="max"&&z in ue||z==="min"&&z in ue))return ue[z]},{hint:L}=qZ({description:n,fieldSchema:{minLength:B(A,"minLength"),maxLength:B(A,"maxLength"),max:B(A,"max"),min:B(A,"min")},type:A?.type||g}),[V,q]=U.useState(!1),D=t?t[g]:null,X=_??void 0,M=X??"";function Y(ue){if(!ue)return null;if(typeof ue=="string")return O({id:ue,defaultMessage:ue});const z={...ue.values};return O({id:ue.id,defaultMessage:ue?.defaultMessage??ue.id},z)}const w=Y(o)??void 0;if(D)return f.jsx(D,{...F,attribute:A,description:n,hint:L,disabled:r,intlLabel:a,labelAction:s,error:w||"",name:l,onChange:u,onDelete:d,options:p,required:v,placeholder:m,type:g,value:X,autoFocus:k,attributeName:T,conditionFields:j});const P=a.id?O({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):l,_e=m?O({id:m.id,defaultMessage:m.defaultMessage},{...m.values}):"",se=()=>{switch(g){case"json":return f.jsx(EA,{value:X,disabled:r,onChange:ue=>{const z=A&&"required"in A&&!A?.required&&!ue.length?null:ue;u({target:{name:l,value:z}},!1)},minHeight:"25.2rem",maxHeight:"50.4rem"});case"bool":return f.jsx(SA,{checked:_===null?null:_||!1,disabled:r,offLabel:O({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"False"}),onLabel:O({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"True"}),onChange:ue=>{u({target:{name:l,value:ue.target.checked}})}});case"checkbox":return f.jsx(kl,{disabled:r,onCheckedChange:ue=>{u({target:{name:l,value:ue}})},checked:!!X,children:P});case"datetime":{const ue=D0(X);return f.jsx(CA,{clearLabel:O({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,onChange:z=>{const Se=z?z.toISOString():null;u({target:{name:l,value:Se,type:g}})},onClear:()=>u({target:{name:l,value:null,type:g}}),placeholder:_e,value:ue})}case"date":{const ue=D0(X);return f.jsx(kA,{clearLabel:O({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,onChange:z=>{u({target:{name:l,value:z?a6(z,{representation:"date"}):null,type:g}})},onClear:()=>u({target:{name:l,value:null,type:g}}),placeholder:_e,value:ue})}case"number":return f.jsx(_1,{disabled:r,onValueChange:ue=>{u({target:{name:l,value:ue,type:g}})},placeholder:_e,step:y,value:X,autoFocus:k});case"email":return f.jsx(Kr,{autoComplete:e,disabled:r,onChange:ue=>{u({target:{name:l,value:ue.target.value,type:g}})},placeholder:_e,type:"email",value:M,autoFocus:k});case"timestamp":case"text":case"string":return f.jsx(Kr,{autoComplete:e,disabled:r,onChange:ue=>{u({target:{name:l,value:ue.target.value,type:g}})},placeholder:_e,type:"text",value:M,autoFocus:k});case"password":return f.jsx(Kr,{autoComplete:e,disabled:r,endAction:f.jsx("button",{"aria-label":O({id:"Auth.form.password.show-password",defaultMessage:"Show password"}),onClick:()=>{q(ue=>!ue)},style:{border:"none",padding:0,background:"transparent"},type:"button",children:V?f.jsx(I1,{fill:"neutral500"}):f.jsx(wA,{fill:"neutral500"})}),onChange:ue=>{u({target:{name:l,value:ue.target.value,type:g}})},placeholder:_e,type:V?"text":"password",value:M});case"select":return f.jsx(Yr,{disabled:r,onChange:ue=>{u({target:{name:l,value:ue,type:"select"}})},placeholder:_e,value:X,children:p.map(({metadatas:{intlLabel:ue,disabled:z,hidden:Se},key:ae,value:R})=>f.jsx(qn,{value:R,disabled:z,hidden:Se,children:O(ue)},ae))});case"textarea":return f.jsx(Nd,{disabled:r,onChange:ue=>u({target:{name:l,value:ue.target.value,type:g}}),placeholder:_e,value:M});case"time":{const ue=HZ({value:X});return f.jsx(_A,{clearLabel:O({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,onChange:z=>B0(u,l,g,z),onClear:()=>B0(u,l,g,void 0),value:ue})}default:return f.jsx(Kr,{disabled:!0,placeholder:"Not supported",type:"text",value:""})}};return f.jsxs(et.Root,{error:w,name:l,hint:L,required:v,children:[g!=="checkbox"?f.jsx(et.Label,{action:s,children:P}):null,se(),f.jsx(et.Error,{}),f.jsx(et.Hint,{})]})},qZ=({description:e,fieldSchema:t,type:n})=>{const{formatMessage:r}=pt(),a=()=>e?.id?r({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"";return{hint:(()=>{const{maximum:o,minimum:l}=GZ(t),u=VZ({type:n,minimum:l,maximum:o}),d=typeof l=="number",p=typeof o=="number",m=p&&d,v=p||d;return!e?.id&&!v?"":r({id:"content-manager.form.Input.hint.text",defaultMessage:"{min, select, undefined {} other {min. {min}}}{divider}{max, select, undefined {} other {max. {max}}}{unit}{br}{description}"},{min:l,max:o,description:a(),unit:u?.message&&v?r(u.message,u.values):null,divider:m?r({id:"content-manager.form.Input.hint.minMaxDivider",defaultMessage:" / "}):null,br:v?f.jsx("br",{}):null})})()}},VZ=({type:e,minimum:t,maximum:n})=>{if(e&&!["string","uid","richtext","email","password","text"].includes(e))return{};const r=Math.max(t||0,n||0);return{message:{id:"content-manager.form.Input.hint.character.unit",defaultMessage:"{maxValue, plural, one { character} other { characters}}"},values:{maxValue:r}}},GZ=e=>{if(!e)return{maximum:void 0,minimum:void 0};const{minLength:t,maxLength:n,max:r,min:a}=e;let s,o;const l=Number(a),u=Number(t);Number.isNaN(l)?Number.isNaN(u)||(s=u):s=l;const d=Number(r),p=Number(n);return Number.isNaN(d)?Number.isNaN(p)||(o=p):o=d,{maximum:o,minimum:s}},Ed=U.memo(WZ,bo),JZ=({oneThatIsCreatingARelationWithAnother:e,target:t})=>{const{contentTypes:n,sortedContentTypesList:r}=Xn(),a=El(),s=r.filter(_x),o=n[t];if(!o)return null;const l=({uid:u,plugin:d,title:p,restrictRelationsTo:m})=>()=>{const v=d?`${d}_${p}`:p;a(rn.onChangeRelationTarget({target:{value:u,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:v,targetContentTypeAllowedRelations:m}}))};return f.jsxs(An.Root,{children:[f.jsx(KZ,{children:`${o.info.displayName} ${o.plugin?`(from: ${o.plugin})`:""}`}),f.jsx(An.Content,{zIndex:"popover",children:s.map(({uid:u,title:d,restrictRelationsTo:p,plugin:m})=>f.jsxs(An.Item,{onSelect:l({uid:u,plugin:m,title:d,restrictRelationsTo:p}),children:[d,"",m&&f.jsxs(f.Fragment,{children:["(from: ",m,")"]})]},u))})]})},KZ=gt(An.Trigger)`
  max-width: 16.8rem;
  span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,U0=({disabled:e=!1,error:t,header:n,isMain:r=!1,name:a,onChange:s,oneThatIsCreatingARelationWithAnother:o="",target:l,value:u=""})=>f.jsxs(ze,{background:"neutral100",hasRadius:!0,borderColor:"neutral200",children:[f.jsx(Ce,{paddingTop:r?4:1,paddingBottom:r?3:1,justifyContent:"center",children:r?f.jsx(Fe,{variant:"pi",fontWeight:"bold",textColor:"neutral800",children:n}):f.jsx(JZ,{target:l,oneThatIsCreatingARelationWithAnother:o})}),f.jsx(Sl,{background:"neutral200"}),f.jsx(ze,{padding:4,children:f.jsx(Ed,{disabled:e,error:t?.id||null,intlLabel:{id:Q("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:a,onChange:s,type:"text",value:u})})]});var YZ=TA,XZ=AA,QZ="[object RegExp]";function eH(e){return XZ(e)&&YZ(e)==QZ}var tH=eH,nH=tH,rH=jA,Z0=IA,H0=Z0&&Z0.isRegExp,aH=H0?rH(H0):nH,iH=aH,oH=RA,sH=oH("length"),lH=sH,Sx="\\ud800-\\udfff",cH="\\u0300-\\u036f",uH="\\ufe20-\\ufe2f",dH="\\u20d0-\\u20ff",pH=cH+uH+dH,fH="\\ufe0e\\ufe0f",hH="["+Sx+"]",Ad="["+pH+"]",Td="\\ud83c[\\udffb-\\udfff]",mH="(?:"+Ad+"|"+Td+")",Ex="[^"+Sx+"]",Ax="(?:\\ud83c[\\udde6-\\uddff]){2}",Tx="[\\ud800-\\udbff][\\udc00-\\udfff]",gH="\\u200d",jx=mH+"?",Ix="["+fH+"]?",vH="(?:"+gH+"(?:"+[Ex,Ax,Tx].join("|")+")"+Ix+jx+")*",yH=Ix+jx+vH,bH="(?:"+[Ex+Ad+"?",Ad,Ax,Tx,hH].join("|")+")",W0=RegExp(Td+"(?="+Td+")|"+bH+yH,"g");function xH(e){for(var t=W0.lastIndex=0;W0.test(e);)++t;return t}var _H=xH,wH=lH,kH=O1,CH=_H;function SH(e){return kH(e)?CH(e):wH(e)}var EH=SH,q0=zA,AH=$A,TH=O1,jH=OA,IH=iH,RH=EH,OH=NA,FH=FA,V0=MA,zH=30,MH="...",NH=/\w*$/;function $H(e,t){var n=zH,r=MH;if(jH(t)){var a="separator"in t?t.separator:a;n="length"in t?FH(t.length):n,r="omission"in t?q0(t.omission):r}e=V0(e);var s=e.length;if(TH(e)){var o=OH(e);s=o.length}if(n>=s)return e;var l=n-RH(r);if(l<1)return r;var u=o?AH(o,0,l).join(""):e.slice(0,l);if(a===void 0)return u+r;if(o&&(l+=u.length-l),IH(a)){if(e.slice(l).search(a)){var d,p=u;for(a.global||(a=RegExp(a.source,V0(NH.exec(a))+"g")),a.lastIndex=0;d=a.exec(p);)var m=d.index;u=u.slice(0,m===void 0?l:m)}}else if(e.indexOf(q0(a),l)!=l){var v=u.lastIndexOf(a);v>-1&&(u=u.slice(0,v))}return u+r}var PH=$H;const G0=Wa(PH),DH=gt(ze)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,LH=gt(ze)`
  background: ${({theme:e,$isSelected:t})=>e.colors[t?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,$isSelected:t})=>e.colors[t?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  flex: 0 0 2.4rem;
  svg {
    width: 2.4rem;
    height: 2.4rem;
    max-width: unset;
    path {
      fill: ${({theme:e,$isSelected:t})=>e.colors[t?"primary700":"neutral500"]};
    }
  }
  cursor: pointer;
  &:disabled {
    cursor: not-allowed;
    background: ${({theme:e})=>e.colors.neutral150};

    svg {
      path {
        fill: ${({theme:e})=>e.colors.neutral300};
      }
    }
  }
  display: flex;
  justify-content: center;
  align-items: center;
`,BH=gt(Ce)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,UH={oneWay:C1,oneToOne:S1,oneToMany:E1,manyToOne:T1,manyToMany:j1,manyWay:A1},ZH=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],HH=["oneWay","manyWay"],WH=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:t,relationType:n,target:r,targetUid:a})=>{const s=El(),{formatMessage:o}=pt(),{contentTypes:l}=Xn(),d=(e==="component"?"component":Jt(l,[a,"kind"],""))==="collectionType"?ZH:HH,p=n==="manyToOne",m=Jt(l,[r,"info","displayName"],"unknown"),v=p?m:t,y=p?t:m,g=Ci(v,n==="manyToMany"?2:1),_=Jt(l,[r,"restrictRelationsTo"],null),x=Ci(y,["manyToMany","oneToMany","manyToOne","manyWay"].includes(n)?2:1);return n?f.jsxs(Ce,{style:{flex:1},children:[f.jsx(DH,{children:f.jsx(Ce,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center",children:f.jsx(Ld,{tagName:"button",children:f.jsx(Ce,{gap:3,children:d.map(k=>{const A=UH[k],T=_===null||_.includes(k);return f.jsx(LH,{tag:"button",$isSelected:n===k,disabled:!T,onClick:()=>{T&&s(rn.onChangeRelationType({target:{oneThatIsCreatingARelationWithAnother:t,value:k}}))},padding:2,type:"button","aria-label":o({id:Q(`relation.${k}`)}),"aria-pressed":n===k,"data-relation-type":k,children:f.jsx(A,{"aria-hidden":"true"},k)},k)})})})})}),f.jsxs(BH,{justifyContent:"center",children:[f.jsxs(Fe,{children:[G0(g,{length:24}),""]}),f.jsxs(Fe,{textColor:"primary600",children:[o({id:Q(`relation.${n}`)}),""]}),f.jsx(Fe,{children:G0(x,{length:24})})]})]}):null},qH=({formErrors:e,mainBoxHeader:t,modifiedData:n,naturePickerType:r,onChange:a,targetUid:s})=>{const o=Bd(n.relation,n.targetAttribute);return f.jsxs(Ce,{style:{position:"relative"},children:[f.jsx(U0,{isMain:!0,header:t,error:e?.name||null,name:"name",onChange:a,value:n?.name||""}),f.jsx(WH,{naturePickerType:r,oneThatIsCreatingARelationWithAnother:t,relationType:o,target:n.target,targetUid:s}),f.jsx(U0,{disabled:["oneWay","manyWay"].includes(o),error:e?.targetAttribute||null,name:"targetAttribute",onChange:a,oneThatIsCreatingARelationWithAnother:t,target:n.target,value:n?.targetAttribute||""})]})},VH=({error:e=null,intlLabel:t,name:n,onChange:r,value:a=void 0,isCreating:s,dynamicZoneTarget:o})=>{const{formatMessage:l}=pt(),{allComponentsCategories:u}=Xn(),[d,p]=U.useState(u),m=e?l({id:e,defaultMessage:e}):"",v=l(t),y=_=>{r({target:{name:n,value:_,type:"select-category"}})},g=_=>{p(x=>[...x,_]),y(_)};return f.jsxs(et.Root,{error:m,name:n,children:[f.jsx(et.Label,{children:v}),f.jsx(PA,{disabled:!s&&!o,onChange:y,onCreateOption:g,value:a,creatable:!0,children:d.map(_=>f.jsx(DA,{value:_,children:_},_))}),f.jsx(et.Error,{})]})},jd=(e,t)=>t.find(n=>n.component===e),Rx=(e,t,n=0)=>{const r=jd(e,t);if(!r||!r.childComponents||r.childComponents.length===0)return n;let a=n;return r.childComponents.forEach(s=>{const o=Rx(s.component,t,n+1);o>a&&(a=o)}),a},Ox=(e,t)=>{const n=(s,o)=>{const l=[];if(l.push(o),!s.uidsOfAllParents)return l;for(const u of s.uidsOfAllParents){const d=jd(u,t);d&&l.push(...n(d,o+1))}return l},r=jd(e,t);return r?Math.max(...n(r,1)):0},GH=({error:e=null,intlLabel:t,isAddingAComponentToAnotherComponent:n,isCreating:r,isCreatingComponentWhileAddingAField:a,componentToCreate:s,name:o,onChange:l,targetUid:u,forTarget:d,value:p})=>{const{formatMessage:m}=pt(),v=e?m({id:e,defaultMessage:e}):"",y=m(t),{componentsGroupedByCategory:g,componentsThatHaveOtherComponentInTheirAttributes:_,nestedComponents:x}=Xn(),k=d==="component";let A=Object.entries(g).reduce((T,j)=>{const[F,O]=j,B=O.map(L=>({uid:L.uid,label:L.info.displayName,categoryName:F}));return[...T,...B]},[]);return n&&(A=A.filter(({uid:T})=>{const j=Rx(T,_),F=Ox(u,x);return j+F<=F1})),k&&(A=A.filter(T=>T.uid!==u)),a&&(A=[{uid:p,label:s?.displayName,categoryName:s?.category}]),f.jsxs(et.Root,{error:v,name:o,children:[f.jsx(et.Label,{children:y}),f.jsx(Yr,{disabled:a||!r,onChange:T=>{l({target:{name:o,value:T,type:"select-category"}})},value:p||"",children:A.map(T=>f.jsx(qn,{value:T.uid,children:`${T.categoryName} - ${T.label}`},T.uid))}),f.jsx(et.Error,{})]})},JH=({dynamicZoneTarget:e,intlLabel:t,name:n,onChange:r,value:a,targetUid:s})=>{const{formatMessage:o}=pt(),{componentsGroupedByCategory:l,contentTypes:u}=Xn(),d=Sd(u[s].attributes,e);if(!d)return null;const p="components"in d?d?.components:[],m=Object.keys(l).reduce((g,_)=>{const x=l[_].filter(({uid:k})=>!p.includes(k));return x.length>0&&(g[_]=x),g},{}),v=Object.entries(m).reduce((g,_)=>{const[x,k]=_,A={label:x,children:k.map(({uid:T,info:{displayName:j}})=>({label:j,value:T}))};return g.push(A),g},[]),y=o({id:Q("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:a?.length??0});return f.jsxs(et.Root,{name:n,children:[f.jsx(et.Label,{children:o(t)}),f.jsx(b1,{id:"select1",customizeContent:()=>y,onChange:g=>{r({target:{name:n,value:g,type:"select-components"}})},options:v,value:a||[]})]})},KH=({intlLabel:e,error:t=void 0,modifiedData:n,name:r,onChange:a,options:s,value:o=""})=>{const{formatMessage:l}=pt(),u=l(e),d=t?l({id:t,defaultMessage:t}):"",p=m=>{a({target:{name:r,value:m,type:"select"}}),o&&n.default!==void 0&&n.default!==null&&a({target:{name:"default",value:null}})};return f.jsxs(et.Root,{error:d,name:r,children:[f.jsx(et.Label,{children:u}),f.jsx(Yr,{onChange:p,value:o||"",children:s.map(({metadatas:{intlLabel:m,disabled:v,hidden:y},key:g,value:_})=>f.jsx(qn,{value:_,disabled:v,hidden:y,children:l({id:m.id,defaultMessage:m.defaultMessage},m.values)},g))}),f.jsx(et.Error,{})]})},YH=({intlLabel:e,error:t=void 0,modifiedData:n,name:r,onChange:a,options:s,value:o=""})=>{const{formatMessage:l}=pt(),u=l(e),d=t?l({id:t,defaultMessage:t}):"",p=m=>{a({target:{name:r,value:m,type:"select"}}),o&&(m==="biginteger"&&o!=="biginteger"&&(n.default!==void 0&&n.default!==null&&a({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&a({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&a({target:{name:"min",value:null}})),typeof m=="string"&&["decimal","float","integer"].includes(m)&&o==="biginteger"&&(n.default!==void 0&&n.default!==null&&a({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&a({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&a({target:{name:"min",value:null}})))};return f.jsxs(et.Root,{error:d,name:r,children:[f.jsx(et.Label,{children:u}),f.jsx(Yr,{onChange:p,value:o||"",children:s.map(({metadatas:{intlLabel:m,disabled:v,hidden:y},key:g,value:_})=>f.jsx(qn,{value:_,disabled:v,hidden:y,children:l(m)},g))}),f.jsx(et.Error,{})]})},XH=({description:e=null,error:t=null,intlLabel:n,modifiedData:r,name:a,onChange:s,value:o=null})=>{const{formatMessage:l}=pt(),u=U.useRef(s),d=U.useRef(o),p=U.useRef(r?.displayName||""),m=r?.displayName||"";U.useEffect(()=>{if(m&&m!==p.current){const _=R1(m);u.current({target:{name:a,value:_}}),d.current=_,p.current=m}else m||(u.current({target:{name:a,value:""}}),d.current="",p.current="")},[m,a,o]);const v=t?l({id:t,defaultMessage:t}):"",y=e?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",g=l(n);return f.jsxs(et.Root,{error:v,hint:y,name:a,children:[f.jsx(et.Label,{children:g}),f.jsx(Kr,{onChange:s,value:o||"",type:"text"}),f.jsx(et.Error,{}),f.jsx(et.Hint,{})]})},BW=(e,t)=>{const n=[];return Object.entries(e).forEach(([r,a])=>{if(a.attributes){const s=Array.isArray(a.attributes)?a.attributes.reduce((o,l,u)=>(o[u.toString()]=l,o),{}):a.attributes;Object.entries(s).forEach(([o,l])=>{l.conditions?.visible&&Object.entries(l.conditions.visible).forEach(([,u])=>{const[d]=u;d&&d.var===t&&n.push({contentTypeUid:r,contentType:a.info.displayName,attribute:l.name||o})})})}}),n},QH=(e,t,n)=>{if(!e?.visible)return"";const[[r,a]]=Object.entries(e.visible),[s,o]=a,l=t.find(v=>v.name===s.var),u=l?l.name:s.var,d=r==="=="?"is":"is not",p=String(o);return`If ${u} ${d} ${p}, then ${r==="=="?"Show":"Hide"} ${n}`},eW=(e,t)=>e.filter(n=>{const r=n.type==="boolean"||n.type==="enumeration",a=n.name!==t;return r&&a}).map(n=>({name:n.name,type:n.type,enum:n.type==="enumeration"?n.enum:void 0})),J0=({form:e,formErrors:t,genericInputProps:n,modifiedData:r,onChange:a})=>{const{formatMessage:s}=pt();return f.jsx(f.Fragment,{children:e.map((o,l)=>o.items.length===0?null:f.jsxs(ze,{children:[o.sectionTitle&&f.jsx(ze,{paddingBottom:4,children:f.jsx(Fe,{variant:"delta",tag:"h3",children:s(o.sectionTitle)})}),o.intlLabel&&f.jsx(Fe,{variant:"pi",textColor:"neutral600",children:s(o.intlLabel)}),f.jsx(pr.Root,{gap:4,children:o.items.map((u,d)=>{const p=`${l}.${d}`,m=Jt(r,u.name,void 0),v=Object.keys(t).find(g=>g===u.name),y=v?t[v].id:Jt(t,[...u.name.split(".").filter(g=>g!=="componentToCreate"),"id"],null);if(u.type==="pushRight")return f.jsx(pr.Item,{col:u.size||6,xs:12,direction:"column",alignItems:"stretch",children:f.jsx("div",{})},u.name||p);if(u.type==="condition-form"){const g=Jt(r,u.name),_=n.contentTypeSchema?.attributes||[];if(!n.contentTypeSchema)return console.warn("contentTypeSchema is undefined, skipping condition form"),null;const x=eW(_,r.name),k=s({id:"form.attribute.condition.no-fields",defaultMessage:"No boolean or enumeration fields available to set conditions on."});return f.jsx(pr.Item,{col:u.size||12,xs:12,direction:"column",alignItems:"stretch",children:!g||Object.keys(g).length===0?f.jsxs(ze,{children:[g&&Object.keys(g).length>0&&f.jsx(Fe,{variant:"sigma",textColor:"neutral800",marginBottom:2,children:QH(g,x,n.attributeName||r.name)}),f.jsx(Al,{label:k,children:f.jsx(ht,{marginTop:g&&Object.keys(g).length>0?0:4,fullWidth:!0,variant:"secondary",onClick:()=>{a({target:{name:u.name,value:{visible:{"==":[{var:""},""]}}}})},startIcon:f.jsx("span",{"aria-hidden":!0,children:""}),disabled:x.length===0,children:s({id:"form.attribute.condition.apply",defaultMessage:"Apply condition"})})})]}):f.jsx(Ed,{...u,...n,error:y,onChange:a,value:m,autoFocus:d===0,attributeName:r.name,conditionFields:x,onDelete:()=>{a({target:{name:u.name}})}})},u.name||p)}return f.jsx(pr.Item,{col:u.size||6,xs:12,direction:"column",alignItems:"stretch",children:f.jsx(Ed,{...u,...n,error:y,onChange:a,value:m,autoFocus:d===0})},u.name||p)})})]},l))})},tW=({description:e=null,disabled:t=!1,error:n="",intlLabel:r,labelAction:a,name:s,onChange:o,placeholder:l=null,value:u=""})=>{const{formatMessage:d}=pt(),p=n?d({id:n,defaultMessage:n}):"",m=e?d({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",v=d(r),y=l?d({id:l.id,defaultMessage:l.defaultMessage},{...l.values}):"",g=Array.isArray(u)?u.join(`
`):"",_=x=>{const k=x.target.value.split(`
`);o({target:{name:s,value:k}})};return f.jsxs(et.Root,{error:p,hint:m,name:s,children:[f.jsx(et.Label,{action:a,children:v}),f.jsx(Nd,{disabled:t,onChange:_,placeholder:y,value:g}),f.jsx(et.Error,{}),f.jsx(et.Hint,{})]})},nW=({disabled:e,tooltipMessage:t,onClick:n,marginTop:r=4})=>{const{formatMessage:a}=pt(),s=f.jsx(ht,{marginTop:r,fullWidth:!0,variant:"secondary",disabled:e,onClick:n,startIcon:f.jsx("span",{"aria-hidden":!0,children:""}),children:a({id:"form.attribute.condition.apply",defaultMessage:"Apply condition"})});return t?f.jsx(Al,{description:t,children:s}):s},rW=gt(Io)`
  width: 16px !important;
  height: 16px !important;
  svg {
    width: 16px !important;
    height: 16px !important;
  }
`,aW=e=>{if(!e?.visible)return{dependsOn:"",operator:"is",value:"",action:"show"};const[[t,n]]=Object.entries(e.visible),[r,a]=n;return{dependsOn:r.var,operator:t==="=="?"is":"isNot",value:a,action:"show"}},iW=e=>{if(!e.dependsOn)return null;const t=z1(),n={dependsOn:e.dependsOn,operator:e.operator,value:e.value};try{return t.validate(n),{visible:{[e.operator==="is"&&e.action==="show"||e.operator==="isNot"&&e.action==="hide"?"==":"!="]:[{var:e.dependsOn},e.value]}}}catch{return null}},oW=({name:e,value:t,onChange:n,onDelete:r,attributeName:a,conditionFields:s=[]})=>{const{formatMessage:o}=pt(),[l,u]=U.useState(aW(t)),[d,p]=U.useState(!1),m=!!t?.visible;Array.isArray(s)||(s=[]);const v=s.find(F=>F.name===l.dependsOn),y=v?.type==="enumeration",g=F=>{u(F);const O=z1(),B={dependsOn:F.dependsOn,operator:F.operator,value:F.value};try{O.validate(B);const L=F.operator==="is"&&F.action==="show"||F.operator==="isNot"&&F.action==="hide"?"==":"!=",V=F.dependsOn?{visible:{[L]:[{var:F.dependsOn},F.value]}}:null;V&&n({target:{name:e,value:V}})}catch{}},_=()=>{const F={dependsOn:"",operator:"is",value:"",action:"show"};u(F),n({target:{name:e,value:iW(F)}})},x=()=>{u({dependsOn:"",operator:"is",value:"",action:"show"}),n({target:{name:e,value:null}}),r(),p(!1)},k=F=>{const O=F?.toString()||"",L=s.find(q=>q.name===O)?.type==="enumeration",V={...l,dependsOn:O,value:O?L?"":!1:l.value};g(V)},A=F=>{const O=F?.toString()||"is",B={...l,operator:O};g(B)},T=F=>{const O=y?F?.toString():F?.toString()==="true",B={...l,value:O};g(B)},j=F=>{const O=F?.toString()||"show",B={...l,action:O};g(B)};return m?f.jsx(ze,{marginTop:2,children:f.jsxs(ze,{background:"neutral0",hasRadius:!0,borderColor:"neutral200",borderWidth:.5,borderStyle:"solid",children:[f.jsxs(Ce,{justifyContent:"space-between",alignItems:"center",padding:4,children:[f.jsx(Fe,{variant:"sigma",textColor:"neutral800",children:o({id:Q("form.attribute.condition.title"),defaultMessage:"Condition for {name}"},{name:f.jsx("strong",{children:a})})}),f.jsxs(Za.Root,{open:d,onOpenChange:p,children:[f.jsx(Za.Trigger,{children:f.jsx(fr,{label:"Delete",children:f.jsx(Fd,{})})}),f.jsx(Oo,{onConfirm:x,children:o({id:Q("popUpWarning.bodyMessage.delete-condition"),defaultMessage:"Are you sure you want to delete this condition?"})})]})]}),f.jsxs(ze,{background:"neutral100",padding:4,children:[f.jsx(ze,{paddingBottom:2,children:f.jsx(Fe,{variant:"sigma",textColor:"neutral600",style:{textTransform:"uppercase",letterSpacing:1},children:o({id:Q("form.attribute.condition.if"),defaultMessage:"IF"})})}),f.jsxs(Ce,{gap:4,children:[f.jsx(ze,{minWidth:0,flex:1,children:f.jsx(et.Root,{name:`${e}.field`,children:f.jsx(Yr,{value:l.dependsOn,onChange:k,placeholder:o({id:Q("form.attribute.condition.field"),defaultMessage:"field"}),children:s.map(F=>f.jsx(qn,{value:F.name,children:f.jsxs(Ce,{gap:2,alignItems:"center",children:[f.jsx(rW,{type:F.type}),f.jsx("span",{children:F.name})]})},F.name))})})}),f.jsx(ze,{minWidth:0,flex:1,children:f.jsx(et.Root,{name:`${e}.operator`,children:f.jsxs(Yr,{value:l.operator,onChange:A,disabled:!l.dependsOn,placeholder:o({id:Q("form.attribute.condition.operator"),defaultMessage:"condition"}),children:[f.jsx(qn,{value:"is",children:o({id:Q("form.attribute.condition.operator.is"),defaultMessage:"is"})}),f.jsx(qn,{value:"isNot",children:o({id:Q("form.attribute.condition.operator.isNot"),defaultMessage:"is not"})})]})})}),f.jsx(ze,{minWidth:0,flex:1,children:f.jsx(et.Root,{name:`${e}.value`,children:f.jsx(Yr,{value:l.value?.toString()||"",onChange:T,disabled:!l.dependsOn,placeholder:o({id:Q("form.attribute.condition.value"),defaultMessage:"value"}),children:y&&v?.enum?v.enum.map(F=>f.jsx(qn,{value:F,children:F},F)):f.jsxs(f.Fragment,{children:[f.jsx(qn,{value:"true",children:o({id:Q("form.attribute.condition.value.true"),defaultMessage:"true"})}),f.jsx(qn,{value:"false",children:o({id:Q("form.attribute.condition.value.false"),defaultMessage:"false"})})]})})})})]})]}),f.jsxs(ze,{background:"neutral100",padding:4,children:[f.jsx(ze,{paddingBottom:4,children:f.jsx(Fe,{variant:"sigma",textColor:"neutral600",style:{textTransform:"uppercase",letterSpacing:1},children:o({id:Q("form.attribute.condition.then"),defaultMessage:"THEN"})})}),f.jsx(ze,{paddingBottom:4,children:f.jsx(et.Root,{name:`${e}.action`,children:f.jsxs(Yr,{value:l.action,onChange:j,placeholder:o({id:Q("form.attribute.condition.action"),defaultMessage:"action"}),children:[f.jsxs(qn,{value:"show",children:["Show ",f.jsx("span",{style:{fontWeight:"bold"},children:a||e})]}),f.jsxs(qn,{value:"hide",children:["Hide ",f.jsx("span",{style:{fontWeight:"bold"},children:a||e})]})]})})})]})]})}):f.jsx(ze,{padding:4,margin:4,hasRadius:!0,background:"neutral0",borderColor:"neutral200",children:f.jsx(nW,{onClick:_})})},Or={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:Q("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},sW={sections:[{sectionTitle:null,items:[Or]}]},Ii={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:Q("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:Q("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:Q("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},Ue={default:{name:"default",type:"text",intlLabel:{id:Q("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:Q("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:Q("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:Q("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:Q("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:Q("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:Q("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:Q("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:Q("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:Q("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:Q("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:Q("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:Q("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},xn={sectionTitle:{id:Q("form.attribute.condition.title"),defaultMessage:"Condition"},intlLabel:{id:Q("form.attribute.condition.description"),defaultMessage:"Toggle field settings depending on the value of another boolean or enumeration field."},items:[{name:"conditions",type:"condition-form",intlLabel:{id:Q("form.attribute.condition.label"),defaultMessage:"Conditions"},validations:{required:!0}}]},lW={blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ue.required,Ue.private]},xn]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:Q("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ue.required,Ue.private]},xn]}},component({repeatable:e},t){if(t==="1")return{sections:Ii.advanced()};if(e){const n={...Ue.min,intlLabel:{id:Q("form.attribute.item.minimumComponents"),defaultMessage:"Minimum components"}},r={...Ue.max,intlLabel:{id:Q("form.attribute.item.maximumComponents"),defaultMessage:"Maximum components"}};return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ue.required,Ue.private,n,r]},xn]}}return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ue.required,Ue.private]},xn]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...Ue.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ue.required,Ue.unique,Ue.private]},xn]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ue.required,Ue.max,Ue.min]},xn]}},email(){return{sections:[{sectionTitle:null,items:[{...Ue.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ue.required,Ue.unique,Ue.maxLength,Ue.minLength,Ue.private]},xn]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:Q("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((t,n)=>e.enum.indexOf(t)===n&&t).map(t=>({key:t,value:t,metadatas:{intlLabel:{id:`${t}.no-override`,defaultMessage:t}}}))]},{intlLabel:{id:Q("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:Q("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ue.required,Ue.private]},xn]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ue.required,Ue.private]},xn]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:Q("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ue.required,Ue.private]},xn]}},number(e){const t=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:t,intlLabel:{id:Q("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ue.required,Ue.unique,Ue.max,Ue.min,Ue.private]},xn]}},password(){return{sections:[{sectionTitle:null,items:[Ue.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ue.required,Ue.maxLength,Ue.minLength,Ue.private]},xn]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ue.private]},xn]}},richtext(){return{sections:[{sectionTitle:null,items:[Ue.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ue.required,Ue.maxLength,Ue.minLength,Ue.private]},xn]}},text(){return{sections:[{sectionTitle:null,items:[Ue.default,Ue.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ue.required,Ue.unique,Ue.maxLength,Ue.minLength,Ue.private]},xn]}},uid(e){return{sections:[{sectionTitle:null,items:[{...Ue.default,disabled:!!e.targetField,type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ue.required,Ue.maxLength,Ue.minLength,Ue.private,Ue.regex]},xn]}}},Id={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:Q("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:Q("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:Q("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:Q("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},cW={component(e,t){if(t==="1"){const n=e.createComponent===!0?Ii.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Id]},...n]}}return{sections:[{sectionTitle:null,items:[Or,{name:"component",type:"select-component",intlLabel:{id:Q("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:Q("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:Q("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:Q("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:Q("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Or,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:Q("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:Q("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:Q("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Or]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:Q("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:Q("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Or]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:Q("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:Q("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:Q("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:Q("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Or,{intlLabel:{id:Q("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:Q("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:Q("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:Q("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:Q("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Or]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:Q("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:Q("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:Q("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:Q("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Or]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:Q("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:Q("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:Q("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:Q("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,t,n){const r=n.filter(({type:a})=>["string","text"].includes(a)).map(({name:a})=>({key:a,value:a,metadatas:{intlLabel:{id:`${a}.no-override`,defaultMessage:a}}}));return{sections:[{sectionTitle:null,items:[{...Or,placeholder:{id:Q("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:Q("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...r]}]}]}}},K0={advanced:lW,base:cW};var uW=LA;function dW(e){return e&&e.length?uW(e):[]}var pW=dW;const fW=Wa(pW),Zu=e=>e?BA(e,{decamelize:!1,lowercase:!1,separator:"_"}):"";var _l={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */_l.exports;(function(e,t){(function(){function n(K,fe,E){switch(E.length){case 0:return K.call(fe);case 1:return K.call(fe,E[0]);case 2:return K.call(fe,E[0],E[1]);case 3:return K.call(fe,E[0],E[1],E[2])}return K.apply(fe,E)}function r(K,fe,E,Ne){for(var qe=-1,Pe=K==null?0:K.length;++qe<Pe;){var jn=K[qe];fe(Ne,jn,E(jn),K)}return Ne}function a(K,fe){for(var E=-1,Ne=K==null?0:K.length;++E<Ne&&fe(K[E],E,K)!==!1;);return K}function s(K,fe){for(var E=K==null?0:K.length;E--&&fe(K[E],E,K)!==!1;);return K}function o(K,fe){for(var E=-1,Ne=K==null?0:K.length;++E<Ne;)if(!fe(K[E],E,K))return!1;return!0}function l(K,fe){for(var E=-1,Ne=K==null?0:K.length,qe=0,Pe=[];++E<Ne;){var jn=K[E];fe(jn,E,K)&&(Pe[qe++]=jn)}return Pe}function u(K,fe){return!!(K!=null&&K.length)&&T(K,fe,0)>-1}function d(K,fe,E){for(var Ne=-1,qe=K==null?0:K.length;++Ne<qe;)if(E(fe,K[Ne]))return!0;return!1}function p(K,fe){for(var E=-1,Ne=K==null?0:K.length,qe=Array(Ne);++E<Ne;)qe[E]=fe(K[E],E,K);return qe}function m(K,fe){for(var E=-1,Ne=fe.length,qe=K.length;++E<Ne;)K[qe+E]=fe[E];return K}function v(K,fe,E,Ne){var qe=-1,Pe=K==null?0:K.length;for(Ne&&Pe&&(E=K[++qe]);++qe<Pe;)E=fe(E,K[qe],qe,K);return E}function y(K,fe,E,Ne){var qe=K==null?0:K.length;for(Ne&&qe&&(E=K[--qe]);qe--;)E=fe(E,K[qe],qe,K);return E}function g(K,fe){for(var E=-1,Ne=K==null?0:K.length;++E<Ne;)if(fe(K[E],E,K))return!0;return!1}function _(K){return K.split("")}function x(K){return K.match(e_)||[]}function k(K,fe,E){var Ne;return E(K,function(qe,Pe,jn){if(fe(qe,Pe,jn))return Ne=Pe,!1}),Ne}function A(K,fe,E,Ne){for(var qe=K.length,Pe=E+(Ne?1:-1);Ne?Pe--:++Pe<qe;)if(fe(K[Pe],Pe,K))return Pe;return-1}function T(K,fe,E){return fe===fe?ve(K,fe,E):A(K,F,E)}function j(K,fe,E,Ne){for(var qe=E-1,Pe=K.length;++qe<Pe;)if(Ne(K[qe],fe))return qe;return-1}function F(K){return K!==K}function O(K,fe){var E=K==null?0:K.length;return E?D(K,fe)/E:Ga}function B(K){return function(fe){return fe==null?C:fe[K]}}function L(K){return function(fe){return K==null?C:K[fe]}}function V(K,fe,E,Ne,qe){return qe(K,function(Pe,jn,uc){E=Ne?(Ne=!1,Pe):fe(E,Pe,jn,uc)}),E}function q(K,fe){var E=K.length;for(K.sort(fe);E--;)K[E]=K[E].value;return K}function D(K,fe){for(var E,Ne=-1,qe=K.length;++Ne<qe;){var Pe=fe(K[Ne]);Pe!==C&&(E=E===C?Pe:E+Pe)}return E}function X(K,fe){for(var E=-1,Ne=Array(K);++E<K;)Ne[E]=fe(E);return Ne}function M(K,fe){return p(fe,function(E){return[E,K[E]]})}function Y(K){return K&&K.slice(0,S(K)+1).replace(nc,"")}function w(K){return function(fe){return K(fe)}}function P(K,fe){return p(fe,function(E){return K[E]})}function _e(K,fe){return K.has(fe)}function se(K,fe){for(var E=-1,Ne=K.length;++E<Ne&&T(fe,K[E],0)>-1;);return E}function ue(K,fe){for(var E=K.length;E--&&T(fe,K[E],0)>-1;);return E}function z(K,fe){for(var E=K.length,Ne=0;E--;)K[E]===fe&&++Ne;return Ne}function Se(K){return"\\"+$_[K]}function ae(K,fe){return K==null?C:K[fe]}function R(K){return I_.test(K)}function Ie(K){return R_.test(K)}function le(K){for(var fe,E=[];!(fe=K.next()).done;)E.push(fe.value);return E}function ne(K){var fe=-1,E=Array(K.size);return K.forEach(function(Ne,qe){E[++fe]=[qe,Ne]}),E}function Ge(K,fe){return function(E){return K(fe(E))}}function Je(K,fe){for(var E=-1,Ne=K.length,qe=0,Pe=[];++E<Ne;){var jn=K[E];jn!==fe&&jn!==ie||(K[E]=ie,Pe[qe++]=E)}return Pe}function de(K){var fe=-1,E=Array(K.size);return K.forEach(function(Ne){E[++fe]=Ne}),E}function Oe(K){var fe=-1,E=Array(K.size);return K.forEach(function(Ne){E[++fe]=[Ne,Ne]}),E}function ve(K,fe,E){for(var Ne=E-1,qe=K.length;++Ne<qe;)if(K[Ne]===fe)return Ne;return-1}function Re(K,fe,E){for(var Ne=E+1;Ne--;)if(K[Ne]===fe)return Ne;return Ne}function Ye(K){return R(K)?ce(K):B_(K)}function Ve(K){return R(K)?W(K):_(K)}function S(K){for(var fe=K.length;fe--&&Kx.test(K.charAt(fe)););return fe}function ce(K){for(var fe=sc.lastIndex=0;sc.test(K);)++fe;return fe}function W(K){return K.match(sc)||[]}function $(K){return K.match(j_)||[]}var C,J="4.17.21",ge=200,be="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ee="Expected a function",re="Invalid `variable` option passed into `_.template`",he="__lodash_hash_undefined__",Z=500,ie="__lodash_placeholder__",ke=1,Te=2,Be=4,ft=1,Ct=2,vt=1,tt=2,cn=4,yt=8,At=16,lt=32,gr=64,Tn=128,Nr=256,Qr=512,$r=30,ea="...",Lo=800,Ul=16,$i=1,Bo=2,Uo=3,Pr=1/0,Cr=9007199254740991,Zl=17976931348623157e292,Ga=NaN,Qn=4294967295,Hl=Qn-1,Wl=Qn>>>1,We=[["ary",Tn],["bind",vt],["bindKey",tt],["curry",yt],["curryRight",At],["flip",Qr],["partial",lt],["partialRight",gr],["rearg",Nr]],xt="[object Arguments]",Qt="[object Array]",ct="[object AsyncFunction]",Zt="[object Boolean]",Ht="[object Date]",hn="[object DOMException]",Ja="[object Error]",Ka="[object Function]",Zo="[object GeneratorFunction]",er="[object Map]",wa="[object Number]",Mx="[object Null]",Dr="[object Object]",Rp="[object Promise]",Nx="[object Proxy]",Pi="[object RegExp]",vr="[object Set]",Di="[object String]",Ho="[object Symbol]",$x="[object Undefined]",Li="[object WeakMap]",Px="[object WeakSet]",Bi="[object ArrayBuffer]",Ya="[object DataView]",ql="[object Float32Array]",Vl="[object Float64Array]",Gl="[object Int8Array]",Jl="[object Int16Array]",Kl="[object Int32Array]",Yl="[object Uint8Array]",Xl="[object Uint8ClampedArray]",Ql="[object Uint16Array]",ec="[object Uint32Array]",Dx=/\b__p \+= '';/g,Lx=/\b(__p \+=) '' \+/g,Bx=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Op=/&(?:amp|lt|gt|quot|#39);/g,Fp=/[&<>"']/g,Ux=RegExp(Op.source),Zx=RegExp(Fp.source),Hx=/<%-([\s\S]+?)%>/g,Wx=/<%([\s\S]+?)%>/g,zp=/<%=([\s\S]+?)%>/g,qx=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vx=/^\w*$/,Gx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tc=/[\\^$.*+?()[\]{}|]/g,Jx=RegExp(tc.source),nc=/^\s+/,Kx=/\s/,Yx=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xx=/\{\n\/\* \[wrapped with (.+)\] \*/,Qx=/,? & /,e_=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,t_=/[()=,{}\[\]\/\s]/,n_=/\\(\\)?/g,r_=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Mp=/\w*$/,a_=/^[-+]0x[0-9a-f]+$/i,i_=/^0b[01]+$/i,o_=/^\[object .+?Constructor\]$/,s_=/^0o[0-7]+$/i,l_=/^(?:0|[1-9]\d*)$/,c_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wo=/($^)/,u_=/['\n\r\u2028\u2029\\]/g,qo="\\ud800-\\udfff",d_="\\u0300-\\u036f",p_="\\ufe20-\\ufe2f",f_="\\u20d0-\\u20ff",Np=d_+p_+f_,$p="\\u2700-\\u27bf",Pp="a-z\\xdf-\\xf6\\xf8-\\xff",h_="\\xac\\xb1\\xd7\\xf7",m_="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",g_="\\u2000-\\u206f",v_=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dp="A-Z\\xc0-\\xd6\\xd8-\\xde",Lp="\\ufe0e\\ufe0f",Bp=h_+m_+g_+v_,rc="[']",y_="["+qo+"]",Up="["+Bp+"]",Vo="["+Np+"]",Zp="\\d+",b_="["+$p+"]",Hp="["+Pp+"]",Wp="[^"+qo+Bp+Zp+$p+Pp+Dp+"]",ac="\\ud83c[\\udffb-\\udfff]",x_="(?:"+Vo+"|"+ac+")",qp="[^"+qo+"]",ic="(?:\\ud83c[\\udde6-\\uddff]){2}",oc="[\\ud800-\\udbff][\\udc00-\\udfff]",Xa="["+Dp+"]",Vp="\\u200d",Gp="(?:"+Hp+"|"+Wp+")",__="(?:"+Xa+"|"+Wp+")",Jp="(?:"+rc+"(?:d|ll|m|re|s|t|ve))?",Kp="(?:"+rc+"(?:D|LL|M|RE|S|T|VE))?",Yp=x_+"?",Xp="["+Lp+"]?",w_="(?:"+Vp+"(?:"+[qp,ic,oc].join("|")+")"+Xp+Yp+")*",k_="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",C_="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Qp=Xp+Yp+w_,S_="(?:"+[b_,ic,oc].join("|")+")"+Qp,E_="(?:"+[qp+Vo+"?",Vo,ic,oc,y_].join("|")+")",A_=RegExp(rc,"g"),T_=RegExp(Vo,"g"),sc=RegExp(ac+"(?="+ac+")|"+E_+Qp,"g"),j_=RegExp([Xa+"?"+Hp+"+"+Jp+"(?="+[Up,Xa,"$"].join("|")+")",__+"+"+Kp+"(?="+[Up,Xa+Gp,"$"].join("|")+")",Xa+"?"+Gp+"+"+Jp,Xa+"+"+Kp,C_,k_,Zp,S_].join("|"),"g"),I_=RegExp("["+Vp+qo+Np+Lp+"]"),R_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,O_=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],F_=-1,$t={};$t[ql]=$t[Vl]=$t[Gl]=$t[Jl]=$t[Kl]=$t[Yl]=$t[Xl]=$t[Ql]=$t[ec]=!0,$t[xt]=$t[Qt]=$t[Bi]=$t[Zt]=$t[Ya]=$t[Ht]=$t[Ja]=$t[Ka]=$t[er]=$t[wa]=$t[Dr]=$t[Pi]=$t[vr]=$t[Di]=$t[Li]=!1;var Ot={};Ot[xt]=Ot[Qt]=Ot[Bi]=Ot[Ya]=Ot[Zt]=Ot[Ht]=Ot[ql]=Ot[Vl]=Ot[Gl]=Ot[Jl]=Ot[Kl]=Ot[er]=Ot[wa]=Ot[Dr]=Ot[Pi]=Ot[vr]=Ot[Di]=Ot[Ho]=Ot[Yl]=Ot[Xl]=Ot[Ql]=Ot[ec]=!0,Ot[Ja]=Ot[Ka]=Ot[Li]=!1;var z_={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},M_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},N_={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},P_=parseFloat,D_=parseInt,ef=typeof Vn=="object"&&Vn&&Vn.Object===Object&&Vn,L_=typeof self=="object"&&self&&self.Object===Object&&self,mn=ef||L_||Function("return this")(),lc=t&&!t.nodeType&&t,ka=lc&&!0&&e&&!e.nodeType&&e,tf=ka&&ka.exports===lc,cc=tf&&ef.process,tr=function(){try{var K=ka&&ka.require&&ka.require("util").types;return K||cc&&cc.binding&&cc.binding("util")}catch{}}(),nf=tr&&tr.isArrayBuffer,rf=tr&&tr.isDate,af=tr&&tr.isMap,of=tr&&tr.isRegExp,sf=tr&&tr.isSet,lf=tr&&tr.isTypedArray,B_=B("length"),U_=L(z_),Z_=L(M_),H_=L(N_),W_=function K(fe){function E(i){if(en(i)&&!nt(i)&&!(i instanceof Pe)){if(i instanceof qe)return i;if(Tt.call(i,"__wrapped__"))return nh(i)}return new qe(i)}function Ne(){}function qe(i,c){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=C}function Pe(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Qn,this.__views__=[]}function jn(){var i=new Pe(this.__wrapped__);return i.__actions__=In(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=In(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=In(this.__views__),i}function uc(){if(this.__filtered__){var i=new Pe(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function q_(){var i=this.__wrapped__.value(),c=this.__dir__,h=nt(i),b=c<0,I=h?i.length:0,N=tk(0,I,this.__views__),H=N.start,G=N.end,te=G-H,ye=b?G:H-1,me=this.__iteratees__,we=me.length,Me=0,De=vn(te,this.__takeCount__);if(!h||!b&&I==te&&De==te)return jf(i,this.__actions__);var Ze=[];e:for(;te--&&Me<De;){ye+=c;for(var rt=-1,He=i[ye];++rt<we;){var ut=me[rt],dt=ut.iteratee,bn=ut.type,zn=dt(He);if(bn==Bo)He=zn;else if(!zn){if(bn==$i)continue e;break e}}Ze[Me++]=He}return Ze}function Ca(i){var c=-1,h=i==null?0:i.length;for(this.clear();++c<h;){var b=i[c];this.set(b[0],b[1])}}function V_(){this.__data__=Qi?Qi(null):{},this.size=0}function G_(i){var c=this.has(i)&&delete this.__data__[i];return this.size-=c?1:0,c}function J_(i){var c=this.__data__;if(Qi){var h=c[i];return h===he?C:h}return Tt.call(c,i)?c[i]:C}function K_(i){var c=this.__data__;return Qi?c[i]!==C:Tt.call(c,i)}function Y_(i,c){var h=this.__data__;return this.size+=this.has(i)?0:1,h[i]=Qi&&c===C?he:c,this}function Lr(i){var c=-1,h=i==null?0:i.length;for(this.clear();++c<h;){var b=i[c];this.set(b[0],b[1])}}function X_(){this.__data__=[],this.size=0}function Q_(i){var c=this.__data__,h=Go(c,i);return!(h<0)&&(h==c.length-1?c.pop():ws.call(c,h,1),--this.size,!0)}function ew(i){var c=this.__data__,h=Go(c,i);return h<0?C:c[h][1]}function tw(i){return Go(this.__data__,i)>-1}function nw(i,c){var h=this.__data__,b=Go(h,i);return b<0?(++this.size,h.push([i,c])):h[b][1]=c,this}function Br(i){var c=-1,h=i==null?0:i.length;for(this.clear();++c<h;){var b=i[c];this.set(b[0],b[1])}}function rw(){this.size=0,this.__data__={hash:new Ca,map:new(Yi||Lr),string:new Ca}}function aw(i){var c=os(this,i).delete(i);return this.size-=c?1:0,c}function iw(i){return os(this,i).get(i)}function ow(i){return os(this,i).has(i)}function sw(i,c){var h=os(this,i),b=h.size;return h.set(i,c),this.size+=h.size==b?0:1,this}function Sa(i){var c=-1,h=i==null?0:i.length;for(this.__data__=new Br;++c<h;)this.add(i[c])}function lw(i){return this.__data__.set(i,he),this}function cw(i){return this.__data__.has(i)}function yr(i){this.size=(this.__data__=new Lr(i)).size}function uw(){this.__data__=new Lr,this.size=0}function dw(i){var c=this.__data__,h=c.delete(i);return this.size=c.size,h}function pw(i){return this.__data__.get(i)}function fw(i){return this.__data__.has(i)}function hw(i,c){var h=this.__data__;if(h instanceof Lr){var b=h.__data__;if(!Yi||b.length<ge-1)return b.push([i,c]),this.size=++h.size,this;h=this.__data__=new Br(b)}return h.set(i,c),this.size=h.size,this}function cf(i,c){var h=nt(i),b=!h&&Ra(i),I=!h&&!b&&oa(i),N=!h&&!b&&!I&&ci(i),H=h||b||I||N,G=H?X(i.length,u5):[],te=G.length;for(var ye in i)!c&&!Tt.call(i,ye)||H&&(ye=="length"||I&&(ye=="offset"||ye=="parent")||N&&(ye=="buffer"||ye=="byteLength"||ye=="byteOffset")||Wr(ye,te))||G.push(ye);return G}function uf(i){var c=i.length;return c?i[xc(0,c-1)]:C}function mw(i,c){return ss(In(i),Ea(c,0,i.length))}function gw(i){return ss(In(i))}function dc(i,c,h){(h===C||br(i[c],h))&&(h!==C||c in i)||Ur(i,c,h)}function Ui(i,c,h){var b=i[c];Tt.call(i,c)&&br(b,h)&&(h!==C||c in i)||Ur(i,c,h)}function Go(i,c){for(var h=i.length;h--;)if(br(i[h][0],c))return h;return-1}function vw(i,c,h,b){return ia(i,function(I,N,H){c(b,I,h(I),H)}),b}function df(i,c){return i&&Er(c,fn(c),i)}function yw(i,c){return i&&Er(c,On(c),i)}function Ur(i,c,h){c=="__proto__"&&ks?ks(i,c,{configurable:!0,enumerable:!0,value:h,writable:!0}):i[c]=h}function pc(i,c){for(var h=-1,b=c.length,I=un(b),N=i==null;++h<b;)I[h]=N?C:Dc(i,c[h]);return I}function Ea(i,c,h){return i===i&&(h!==C&&(i=i<=h?i:h),c!==C&&(i=i>=c?i:c)),i}function nr(i,c,h,b,I,N){var H,G=c&ke,te=c&Te,ye=c&Be;if(h&&(H=I?h(i,b,I,N):h(i)),H!==C)return H;if(!Vt(i))return i;var me=nt(i);if(me){if(H=rk(i),!G)return In(i,H)}else{var we=yn(i),Me=we==Ka||we==Zo;if(oa(i))return Rf(i,G);if(we==Dr||we==xt||Me&&!I){if(H=te||Me?{}:Jf(i),!G)return te?Vw(i,yw(H,i)):qw(i,df(H,i))}else{if(!Ot[we])return I?i:{};H=ak(i,we,G)}}N||(N=new yr);var De=N.get(i);if(De)return De;N.set(i,H),qh(i)?i.forEach(function(He){H.add(nr(He,c,h,He,i,N))}):Wh(i)&&i.forEach(function(He,ut){H.set(ut,nr(He,c,h,ut,i,N))});var Ze=ye?te?Rc:Ic:te?On:fn,rt=me?C:Ze(i);return a(rt||i,function(He,ut){rt&&(ut=He,He=i[ut]),Ui(H,ut,nr(He,c,h,ut,i,N))}),H}function bw(i){var c=fn(i);return function(h){return pf(h,i,c)}}function pf(i,c,h){var b=h.length;if(i==null)return!b;for(i=Pt(i);b--;){var I=h[b],N=c[I],H=i[I];if(H===C&&!(I in i)||!N(H))return!1}return!0}function ff(i,c,h){if(typeof i!="function")throw new or(ee);return to(function(){i.apply(C,h)},c)}function Zi(i,c,h,b){var I=-1,N=u,H=!0,G=i.length,te=[],ye=c.length;if(!G)return te;h&&(c=p(c,w(h))),b?(N=d,H=!1):c.length>=ge&&(N=_e,H=!1,c=new Sa(c));e:for(;++I<G;){var me=i[I],we=h==null?me:h(me);if(me=b||me!==0?me:0,H&&we===we){for(var Me=ye;Me--;)if(c[Me]===we)continue e;te.push(me)}else N(c,we,b)||te.push(me)}return te}function xw(i,c){var h=!0;return ia(i,function(b,I,N){return h=!!c(b,I,N)}),h}function Jo(i,c,h){for(var b=-1,I=i.length;++b<I;){var N=i[b],H=c(N);if(H!=null&&(G===C?H===H&&!Zn(H):h(H,G)))var G=H,te=N}return te}function _w(i,c,h,b){var I=i.length;for(h=at(h),h<0&&(h=-h>I?0:I+h),b=b===C||b>I?I:at(b),b<0&&(b+=I),b=h>b?0:xh(b);h<b;)i[h++]=c;return i}function hf(i,c){var h=[];return ia(i,function(b,I,N){c(b,I,N)&&h.push(b)}),h}function gn(i,c,h,b,I){var N=-1,H=i.length;for(h||(h=ok),I||(I=[]);++N<H;){var G=i[N];c>0&&h(G)?c>1?gn(G,c-1,h,b,I):m(I,G):b||(I[I.length]=G)}return I}function Sr(i,c){return i&&Xc(i,c,fn)}function fc(i,c){return i&&$h(i,c,fn)}function Ko(i,c){return l(c,function(h){return qr(i[h])})}function Aa(i,c){c=na(c,i);for(var h=0,b=c.length;i!=null&&h<b;)i=i[Ar(c[h++])];return h&&h==b?i:C}function mf(i,c,h){var b=c(i);return nt(i)?b:m(b,h(i))}function wn(i){return i==null?i===C?$x:Mx:Ia&&Ia in Pt(i)?ek(i):pk(i)}function hc(i,c){return i>c}function ww(i,c){return i!=null&&Tt.call(i,c)}function kw(i,c){return i!=null&&c in Pt(i)}function Cw(i,c,h){return i>=vn(c,h)&&i<dn(c,h)}function mc(i,c,h){for(var b=h?d:u,I=i[0].length,N=i.length,H=N,G=un(N),te=1/0,ye=[];H--;){var me=i[H];H&&c&&(me=p(me,w(c))),te=vn(me.length,te),G[H]=!h&&(c||I>=120&&me.length>=120)?new Sa(H&&me):C}me=i[0];var we=-1,Me=G[0];e:for(;++we<I&&ye.length<te;){var De=me[we],Ze=c?c(De):De;if(De=h||De!==0?De:0,!(Me?_e(Me,Ze):b(ye,Ze,h))){for(H=N;--H;){var rt=G[H];if(!(rt?_e(rt,Ze):b(i[H],Ze,h)))continue e}Me&&Me.push(Ze),ye.push(De)}}return ye}function Sw(i,c,h,b){return Sr(i,function(I,N,H){c(b,h(I),N,H)}),b}function Hi(i,c,h){c=na(c,i),i=Qf(i,c);var b=i==null?i:i[Ar(ar(c))];return b==null?C:n(b,i,h)}function gf(i){return en(i)&&wn(i)==xt}function Ew(i){return en(i)&&wn(i)==Bi}function Aw(i){return en(i)&&wn(i)==Ht}function Wi(i,c,h,b,I){return i===c||(i==null||c==null||!en(i)&&!en(c)?i!==i&&c!==c:Tw(i,c,h,b,Wi,I))}function Tw(i,c,h,b,I,N){var H=nt(i),G=nt(c),te=H?Qt:yn(i),ye=G?Qt:yn(c);te=te==xt?Dr:te,ye=ye==xt?Dr:ye;var me=te==Dr,we=ye==Dr,Me=te==ye;if(Me&&oa(i)){if(!oa(c))return!1;H=!0,me=!1}if(Me&&!me)return N||(N=new yr),H||ci(i)?Vf(i,c,h,b,I,N):Xw(i,c,te,h,b,I,N);if(!(h&ft)){var De=me&&Tt.call(i,"__wrapped__"),Ze=we&&Tt.call(c,"__wrapped__");if(De||Ze){var rt=De?i.value():i,He=Ze?c.value():c;return N||(N=new yr),I(rt,He,h,b,N)}}return!!Me&&(N||(N=new yr),Qw(i,c,h,b,I,N))}function jw(i){return en(i)&&yn(i)==er}function gc(i,c,h,b){var I=h.length,N=I,H=!b;if(i==null)return!N;for(i=Pt(i);I--;){var G=h[I];if(H&&G[2]?G[1]!==i[G[0]]:!(G[0]in i))return!1}for(;++I<N;){G=h[I];var te=G[0],ye=i[te],me=G[1];if(H&&G[2]){if(ye===C&&!(te in i))return!1}else{var we=new yr;if(b)var Me=b(ye,me,te,i,c,we);if(!(Me===C?Wi(me,ye,ft|Ct,b,we):Me))return!1}}return!0}function vf(i){return!(!Vt(i)||lk(i))&&(qr(i)?m5:o_).test(ja(i))}function Iw(i){return en(i)&&wn(i)==Pi}function Rw(i){return en(i)&&yn(i)==vr}function Ow(i){return en(i)&&ps(i.length)&&!!$t[wn(i)]}function yf(i){return typeof i=="function"?i:i==null?Fn:typeof i=="object"?nt(i)?_f(i[0],i[1]):xf(i):Eh(i)}function vc(i){if(!Gi(i))return _5(i);var c=[];for(var h in Pt(i))Tt.call(i,h)&&h!="constructor"&&c.push(h);return c}function Fw(i){if(!Vt(i))return dk(i);var c=Gi(i),h=[];for(var b in i)(b!="constructor"||!c&&Tt.call(i,b))&&h.push(b);return h}function yc(i,c){return i<c}function bf(i,c){var h=-1,b=Rn(i)?un(i.length):[];return ia(i,function(I,N,H){b[++h]=c(I,N,H)}),b}function xf(i){var c=Oc(i);return c.length==1&&c[0][2]?Yf(c[0][0],c[0][1]):function(h){return h===i||gc(h,i,c)}}function _f(i,c){return Fc(i)&&Kf(c)?Yf(Ar(i),c):function(h){var b=Dc(h,i);return b===C&&b===c?Lc(h,i):Wi(c,b,ft|Ct)}}function Yo(i,c,h,b,I){i!==c&&Xc(c,function(N,H){if(I||(I=new yr),Vt(N))zw(i,c,H,h,Yo,b,I);else{var G=b?b(Mc(i,H),N,H+"",i,c,I):C;G===C&&(G=N),dc(i,H,G)}},On)}function zw(i,c,h,b,I,N,H){var G=Mc(i,h),te=Mc(c,h),ye=H.get(te);if(ye)return dc(i,h,ye),C;var me=N?N(G,te,h+"",i,c,H):C,we=me===C;if(we){var Me=nt(te),De=!Me&&oa(te),Ze=!Me&&!De&&ci(te);me=te,Me||De||Ze?nt(G)?me=G:nn(G)?me=In(G):De?(we=!1,me=Rf(te,!0)):Ze?(we=!1,me=Of(te,!0)):me=[]:Ji(te)||Ra(te)?(me=G,Ra(G)?me=_h(G):Vt(G)&&!qr(G)||(me=Jf(te))):we=!1}we&&(H.set(te,me),I(me,te,b,N,H),H.delete(te)),dc(i,h,me)}function wf(i,c){var h=i.length;if(h)return c+=c<0?h:0,Wr(c,h)?i[c]:C}function kf(i,c,h){c=c.length?p(c,function(I){return nt(I)?function(N){return Aa(N,I.length===1?I[0]:I)}:I}):[Fn];var b=-1;return c=p(c,w(Ke())),q(bf(i,function(I,N,H){return{criteria:p(c,function(G){return G(I)}),index:++b,value:I}}),function(I,N){return Ww(I,N,h)})}function Mw(i,c){return Cf(i,c,function(h,b){return Lc(i,b)})}function Cf(i,c,h){for(var b=-1,I=c.length,N={};++b<I;){var H=c[b],G=Aa(i,H);h(G,H)&&qi(N,na(H,i),G)}return N}function Nw(i){return function(c){return Aa(c,i)}}function bc(i,c,h,b){var I=b?j:T,N=-1,H=c.length,G=i;for(i===c&&(c=In(c)),h&&(G=p(i,w(h)));++N<H;)for(var te=0,ye=c[N],me=h?h(ye):ye;(te=I(G,me,te,b))>-1;)G!==i&&ws.call(G,te,1),ws.call(i,te,1);return i}function Sf(i,c){for(var h=i?c.length:0,b=h-1;h--;){var I=c[h];if(h==b||I!==N){var N=I;Wr(I)?ws.call(i,I,1):kc(i,I)}}return i}function xc(i,c){return i+Ss(zh()*(c-i+1))}function $w(i,c,h,b){for(var I=-1,N=dn(Cs((c-i)/(h||1)),0),H=un(N);N--;)H[b?N:++I]=i,i+=h;return H}function _c(i,c){var h="";if(!i||c<1||c>Cr)return h;do c%2&&(h+=i),c=Ss(c/2),c&&(i+=i);while(c);return h}function ot(i,c){return tu(Xf(i,c,Fn),i+"")}function Pw(i){return uf(ri(i))}function Dw(i,c){var h=ri(i);return ss(h,Ea(c,0,h.length))}function qi(i,c,h,b){if(!Vt(i))return i;c=na(c,i);for(var I=-1,N=c.length,H=N-1,G=i;G!=null&&++I<N;){var te=Ar(c[I]),ye=h;if(te==="__proto__"||te==="constructor"||te==="prototype")return i;if(I!=H){var me=G[te];ye=b?b(me,te,G):C,ye===C&&(ye=Vt(me)?me:Wr(c[I+1])?[]:{})}Ui(G,te,ye),G=G[te]}return i}function Lw(i){return ss(ri(i))}function rr(i,c,h){var b=-1,I=i.length;c<0&&(c=-c>I?0:I+c),h=h>I?I:h,h<0&&(h+=I),I=c>h?0:h-c>>>0,c>>>=0;for(var N=un(I);++b<I;)N[b]=i[b+c];return N}function Bw(i,c){var h;return ia(i,function(b,I,N){return h=c(b,I,N),!h}),!!h}function Xo(i,c,h){var b=0,I=i==null?b:i.length;if(typeof c=="number"&&c===c&&I<=Wl){for(;b<I;){var N=b+I>>>1,H=i[N];H!==null&&!Zn(H)&&(h?H<=c:H<c)?b=N+1:I=N}return I}return wc(i,c,Fn,h)}function wc(i,c,h,b){var I=0,N=i==null?0:i.length;if(N===0)return 0;c=h(c);for(var H=c!==c,G=c===null,te=Zn(c),ye=c===C;I<N;){var me=Ss((I+N)/2),we=h(i[me]),Me=we!==C,De=we===null,Ze=we===we,rt=Zn(we);if(H)var He=b||Ze;else He=ye?Ze&&(b||Me):G?Ze&&Me&&(b||!De):te?Ze&&Me&&!De&&(b||!rt):!De&&!rt&&(b?we<=c:we<c);He?I=me+1:N=me}return vn(N,Hl)}function Ef(i,c){for(var h=-1,b=i.length,I=0,N=[];++h<b;){var H=i[h],G=c?c(H):H;if(!h||!br(G,te)){var te=G;N[I++]=H===0?0:H}}return N}function Af(i){return typeof i=="number"?i:Zn(i)?Ga:+i}function Un(i){if(typeof i=="string")return i;if(nt(i))return p(i,Un)+"";if(Zn(i))return Mh?Mh.call(i):"";var c=i+"";return c=="0"&&1/i==-Pr?"-0":c}function ta(i,c,h){var b=-1,I=u,N=i.length,H=!0,G=[],te=G;if(h)H=!1,I=d;else if(N>=ge){var ye=c?null:O5(i);if(ye)return de(ye);H=!1,I=_e,te=new Sa}else te=c?[]:G;e:for(;++b<N;){var me=i[b],we=c?c(me):me;if(me=h||me!==0?me:0,H&&we===we){for(var Me=te.length;Me--;)if(te[Me]===we)continue e;c&&te.push(we),G.push(me)}else I(te,we,h)||(te!==G&&te.push(we),G.push(me))}return G}function kc(i,c){return c=na(c,i),i=Qf(i,c),i==null||delete i[Ar(ar(c))]}function Tf(i,c,h,b){return qi(i,c,h(Aa(i,c)),b)}function Qo(i,c,h,b){for(var I=i.length,N=b?I:-1;(b?N--:++N<I)&&c(i[N],N,i););return h?rr(i,b?0:N,b?N+1:I):rr(i,b?N+1:0,b?I:N)}function jf(i,c){var h=i;return h instanceof Pe&&(h=h.value()),v(c,function(b,I){return I.func.apply(I.thisArg,m([b],I.args))},h)}function Cc(i,c,h){var b=i.length;if(b<2)return b?ta(i[0]):[];for(var I=-1,N=un(b);++I<b;)for(var H=i[I],G=-1;++G<b;)G!=I&&(N[I]=Zi(N[I]||H,i[G],c,h));return ta(gn(N,1),c,h)}function If(i,c,h){for(var b=-1,I=i.length,N=c.length,H={};++b<I;)h(H,i[b],b<N?c[b]:C);return H}function Sc(i){return nn(i)?i:[]}function Ec(i){return typeof i=="function"?i:Fn}function na(i,c){return nt(i)?i:Fc(i,c)?[i]:Uh(St(i))}function ra(i,c,h){var b=i.length;return h=h===C?b:h,!c&&h>=b?i:rr(i,c,h)}function Rf(i,c){if(c)return i.slice();var h=i.length,b=jh?jh(h):new i.constructor(h);return i.copy(b),b}function Ac(i){var c=new i.constructor(i.byteLength);return new xs(c).set(new xs(i)),c}function Uw(i,c){return new i.constructor(c?Ac(i.buffer):i.buffer,i.byteOffset,i.byteLength)}function Zw(i){var c=new i.constructor(i.source,Mp.exec(i));return c.lastIndex=i.lastIndex,c}function Hw(i){return eo?Pt(eo.call(i)):{}}function Of(i,c){return new i.constructor(c?Ac(i.buffer):i.buffer,i.byteOffset,i.length)}function Ff(i,c){if(i!==c){var h=i!==C,b=i===null,I=i===i,N=Zn(i),H=c!==C,G=c===null,te=c===c,ye=Zn(c);if(!G&&!ye&&!N&&i>c||N&&H&&te&&!G&&!ye||b&&H&&te||!h&&te||!I)return 1;if(!b&&!N&&!ye&&i<c||ye&&h&&I&&!b&&!N||G&&h&&I||!H&&I||!te)return-1}return 0}function Ww(i,c,h){for(var b=-1,I=i.criteria,N=c.criteria,H=I.length,G=h.length;++b<H;){var te=Ff(I[b],N[b]);if(te)return b>=G?te:te*(h[b]=="desc"?-1:1)}return i.index-c.index}function zf(i,c,h,b){for(var I=-1,N=i.length,H=h.length,G=-1,te=c.length,ye=dn(N-H,0),me=un(te+ye),we=!b;++G<te;)me[G]=c[G];for(;++I<H;)(we||I<N)&&(me[h[I]]=i[I]);for(;ye--;)me[G++]=i[I++];return me}function Mf(i,c,h,b){for(var I=-1,N=i.length,H=-1,G=h.length,te=-1,ye=c.length,me=dn(N-G,0),we=un(me+ye),Me=!b;++I<me;)we[I]=i[I];for(var De=I;++te<ye;)we[De+te]=c[te];for(;++H<G;)(Me||I<N)&&(we[De+h[H]]=i[I++]);return we}function In(i,c){var h=-1,b=i.length;for(c||(c=un(b));++h<b;)c[h]=i[h];return c}function Er(i,c,h,b){var I=!h;h||(h={});for(var N=-1,H=c.length;++N<H;){var G=c[N],te=b?b(h[G],i[G],G,h,i):C;te===C&&(te=i[G]),I?Ur(h,G,te):Ui(h,G,te)}return h}function qw(i,c){return Er(i,eu(i),c)}function Vw(i,c){return Er(i,Lh(i),c)}function es(i,c){return function(h,b){var I=nt(h)?r:vw,N=c?c():{};return I(h,i,Ke(b,2),N)}}function ei(i){return ot(function(c,h){var b=-1,I=h.length,N=I>1?h[I-1]:C,H=I>2?h[2]:C;for(N=i.length>3&&typeof N=="function"?(I--,N):C,H&&kn(h[0],h[1],H)&&(N=I<3?C:N,I=1),c=Pt(c);++b<I;){var G=h[b];G&&i(c,G,b,N)}return c})}function Nf(i,c){return function(h,b){if(h==null)return h;if(!Rn(h))return i(h,b);for(var I=h.length,N=c?I:-1,H=Pt(h);(c?N--:++N<I)&&b(H[N],N,H)!==!1;);return h}}function $f(i){return function(c,h,b){for(var I=-1,N=Pt(c),H=b(c),G=H.length;G--;){var te=H[i?G:++I];if(h(N[te],te,N)===!1)break}return c}}function Gw(i,c,h){function b(){return(this&&this!==mn&&this instanceof b?N:i).apply(I?h:this,arguments)}var I=c&vt,N=Vi(i);return b}function Pf(i){return function(c){c=St(c);var h=R(c)?Ve(c):C,b=h?h[0]:c.charAt(0),I=h?ra(h,1).join(""):c.slice(1);return b[i]()+I}}function ti(i){return function(c){return v(Sh(Ch(c).replace(A_,"")),i,"")}}function Vi(i){return function(){var c=arguments;switch(c.length){case 0:return new i;case 1:return new i(c[0]);case 2:return new i(c[0],c[1]);case 3:return new i(c[0],c[1],c[2]);case 4:return new i(c[0],c[1],c[2],c[3]);case 5:return new i(c[0],c[1],c[2],c[3],c[4]);case 6:return new i(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new i(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var h=li(i.prototype),b=i.apply(h,c);return Vt(b)?b:h}}function Jw(i,c,h){function b(){for(var N=arguments.length,H=un(N),G=N,te=ni(b);G--;)H[G]=arguments[G];var ye=N<3&&H[0]!==te&&H[N-1]!==te?[]:Je(H,te);return N-=ye.length,N<h?Zf(i,c,ts,b.placeholder,C,H,ye,C,C,h-N):n(this&&this!==mn&&this instanceof b?I:i,this,H)}var I=Vi(i);return b}function Df(i){return function(c,h,b){var I=Pt(c);if(!Rn(c)){var N=Ke(h,3);c=fn(c),h=function(G){return N(I[G],G,I)}}var H=i(c,h,b);return H>-1?I[N?c[H]:H]:C}}function Lf(i){return Hr(function(c){var h=c.length,b=h,I=qe.prototype.thru;for(i&&c.reverse();b--;){var N=c[b];if(typeof N!="function")throw new or(ee);if(I&&!H&&is(N)=="wrapper")var H=new qe([],!0)}for(b=H?b:h;++b<h;){N=c[b];var G=is(N),te=G=="wrapper"?Qc(N):C;H=te&&zc(te[0])&&te[1]==(Tn|yt|lt|Nr)&&!te[4].length&&te[9]==1?H[is(te[0])].apply(H,te[3]):N.length==1&&zc(N)?H[G]():H.thru(N)}return function(){var ye=arguments,me=ye[0];if(H&&ye.length==1&&nt(me))return H.plant(me).value();for(var we=0,Me=h?c[we].apply(this,ye):me;++we<h;)Me=c[we].call(this,Me);return Me}})}function ts(i,c,h,b,I,N,H,G,te,ye){function me(){for(var ut=arguments.length,dt=un(ut),bn=ut;bn--;)dt[bn]=arguments[bn];if(Ze)var zn=ni(me),sa=z(dt,zn);if(b&&(dt=zf(dt,b,I,Ze)),N&&(dt=Mf(dt,N,H,Ze)),ut-=sa,Ze&&ut<ye)return Zf(i,c,ts,me.placeholder,h,dt,Je(dt,zn),G,te,ye-ut);var tn=Me?h:this,sr=De?tn[i]:i;return ut=dt.length,G?dt=fk(dt,G):rt&&ut>1&&dt.reverse(),we&&te<ut&&(dt.length=te),this&&this!==mn&&this instanceof me&&(sr=He||Vi(sr)),sr.apply(tn,dt)}var we=c&Tn,Me=c&vt,De=c&tt,Ze=c&(yt|At),rt=c&Qr,He=De?C:Vi(i);return me}function Bf(i,c){return function(h,b){return Sw(h,i,c(b),{})}}function ns(i,c){return function(h,b){var I;if(h===C&&b===C)return c;if(h!==C&&(I=h),b!==C){if(I===C)return b;typeof h=="string"||typeof b=="string"?(h=Un(h),b=Un(b)):(h=Af(h),b=Af(b)),I=i(h,b)}return I}}function Tc(i){return Hr(function(c){return c=p(c,w(Ke())),ot(function(h){var b=this;return i(c,function(I){return n(I,b,h)})})})}function rs(i,c){c=c===C?" ":Un(c);var h=c.length;if(h<2)return h?_c(c,i):c;var b=_c(c,Cs(i/Ye(c)));return R(c)?ra(Ve(b),0,i).join(""):b.slice(0,i)}function Kw(i,c,h,b){function I(){for(var G=-1,te=arguments.length,ye=-1,me=b.length,we=un(me+te),Me=this&&this!==mn&&this instanceof I?H:i;++ye<me;)we[ye]=b[ye];for(;te--;)we[ye++]=arguments[++G];return n(Me,N?h:this,we)}var N=c&vt,H=Vi(i);return I}function Uf(i){return function(c,h,b){return b&&typeof b!="number"&&kn(c,h,b)&&(h=b=C),c=Vr(c),h===C?(h=c,c=0):h=Vr(h),b=b===C?c<h?1:-1:Vr(b),$w(c,h,b,i)}}function as(i){return function(c,h){return typeof c=="string"&&typeof h=="string"||(c=ir(c),h=ir(h)),i(c,h)}}function Zf(i,c,h,b,I,N,H,G,te,ye){var me=c&yt,we=me?H:C,Me=me?C:H,De=me?N:C,Ze=me?C:N;c|=me?lt:gr,c&=~(me?gr:lt),c&cn||(c&=-4);var rt=[i,c,I,De,we,Ze,Me,G,te,ye],He=h.apply(C,rt);return zc(i)&&Bh(He,rt),He.placeholder=b,eh(He,i,c)}function jc(i){var c=ai[i];return function(h,b){if(h=ir(h),b=b==null?0:vn(at(b),292),b&&Fh(h)){var I=(St(h)+"e").split("e");return I=(St(c(I[0]+"e"+(+I[1]+b)))+"e").split("e"),+(I[0]+"e"+(+I[1]-b))}return c(h)}}function Hf(i){return function(c){var h=yn(c);return h==er?ne(c):h==vr?Oe(c):M(c,i(c))}}function Zr(i,c,h,b,I,N,H,G){var te=c&tt;if(!te&&typeof i!="function")throw new or(ee);var ye=b?b.length:0;if(ye||(c&=-97,b=I=C),H=H===C?H:dn(at(H),0),G=G===C?G:at(G),ye-=I?I.length:0,c&gr){var me=b,we=I;b=I=C}var Me=te?C:Qc(i),De=[i,c,h,b,I,me,we,N,H,G];if(Me&&uk(De,Me),i=De[0],c=De[1],h=De[2],b=De[3],I=De[4],G=De[9]=De[9]===C?te?0:i.length:dn(De[9]-ye,0),!G&&c&(yt|At)&&(c&=-25),c&&c!=vt)Ze=c==yt||c==At?Jw(i,c,G):c!=lt&&c!=(vt|lt)||I.length?ts.apply(C,De):Kw(i,c,h,b);else var Ze=Gw(i,c,h);return eh((Me?Ph:Bh)(Ze,De),i,c)}function Wf(i,c,h,b){return i===C||br(i,ii[h])&&!Tt.call(b,h)?c:i}function qf(i,c,h,b,I,N){return Vt(i)&&Vt(c)&&(N.set(c,i),Yo(i,c,C,qf,N),N.delete(c)),i}function Yw(i){return Ji(i)?C:i}function Vf(i,c,h,b,I,N){var H=h&ft,G=i.length,te=c.length;if(G!=te&&!(H&&te>G))return!1;var ye=N.get(i),me=N.get(c);if(ye&&me)return ye==c&&me==i;var we=-1,Me=!0,De=h&Ct?new Sa:C;for(N.set(i,c),N.set(c,i);++we<G;){var Ze=i[we],rt=c[we];if(b)var He=H?b(rt,Ze,we,c,i,N):b(Ze,rt,we,i,c,N);if(He!==C){if(He)continue;Me=!1;break}if(De){if(!g(c,function(ut,dt){if(!_e(De,dt)&&(Ze===ut||I(Ze,ut,h,b,N)))return De.push(dt)})){Me=!1;break}}else if(Ze!==rt&&!I(Ze,rt,h,b,N)){Me=!1;break}}return N.delete(i),N.delete(c),Me}function Xw(i,c,h,b,I,N,H){switch(h){case Ya:if(i.byteLength!=c.byteLength||i.byteOffset!=c.byteOffset)return!1;i=i.buffer,c=c.buffer;case Bi:return!(i.byteLength!=c.byteLength||!N(new xs(i),new xs(c)));case Zt:case Ht:case wa:return br(+i,+c);case Ja:return i.name==c.name&&i.message==c.message;case Pi:case Di:return i==c+"";case er:var G=ne;case vr:var te=b&ft;if(G||(G=de),i.size!=c.size&&!te)return!1;var ye=H.get(i);if(ye)return ye==c;b|=Ct,H.set(i,c);var me=Vf(G(i),G(c),b,I,N,H);return H.delete(i),me;case Ho:if(eo)return eo.call(i)==eo.call(c)}return!1}function Qw(i,c,h,b,I,N){var H=h&ft,G=Ic(i),te=G.length;if(te!=Ic(c).length&&!H)return!1;for(var ye=te;ye--;){var me=G[ye];if(!(H?me in c:Tt.call(c,me)))return!1}var we=N.get(i),Me=N.get(c);if(we&&Me)return we==c&&Me==i;var De=!0;N.set(i,c),N.set(c,i);for(var Ze=H;++ye<te;){me=G[ye];var rt=i[me],He=c[me];if(b)var ut=H?b(He,rt,me,c,i,N):b(rt,He,me,i,c,N);if(!(ut===C?rt===He||I(rt,He,h,b,N):ut)){De=!1;break}Ze||(Ze=me=="constructor")}if(De&&!Ze){var dt=i.constructor,bn=c.constructor;dt!=bn&&"constructor"in i&&"constructor"in c&&!(typeof dt=="function"&&dt instanceof dt&&typeof bn=="function"&&bn instanceof bn)&&(De=!1)}return N.delete(i),N.delete(c),De}function Hr(i){return tu(Xf(i,C,ih),i+"")}function Ic(i){return mf(i,fn,eu)}function Rc(i){return mf(i,On,Lh)}function is(i){for(var c=i.name+"",h=si[c],b=Tt.call(si,c)?h.length:0;b--;){var I=h[b],N=I.func;if(N==null||N==i)return I.name}return c}function ni(i){return(Tt.call(E,"placeholder")?E:i).placeholder}function Ke(){var i=E.iteratee||Uc;return i=i===Uc?yf:i,arguments.length?i(arguments[0],arguments[1]):i}function os(i,c){var h=i.__data__;return sk(c)?h[typeof c=="string"?"string":"hash"]:h.map}function Oc(i){for(var c=fn(i),h=c.length;h--;){var b=c[h],I=i[b];c[h]=[b,I,Kf(I)]}return c}function Ta(i,c){var h=ae(i,c);return vf(h)?h:C}function ek(i){var c=Tt.call(i,Ia),h=i[Ia];try{i[Ia]=C;var b=!0}catch{}var I=ys.call(i);return b&&(c?i[Ia]=h:delete i[Ia]),I}function tk(i,c,h){for(var b=-1,I=h.length;++b<I;){var N=h[b],H=N.size;switch(N.type){case"drop":i+=H;break;case"dropRight":c-=H;break;case"take":c=vn(c,i+H);break;case"takeRight":i=dn(i,c-H)}}return{start:i,end:c}}function nk(i){var c=i.match(Xx);return c?c[1].split(Qx):[]}function Gf(i,c,h){c=na(c,i);for(var b=-1,I=c.length,N=!1;++b<I;){var H=Ar(c[b]);if(!(N=i!=null&&h(i,H)))break;i=i[H]}return N||++b!=I?N:(I=i==null?0:i.length,!!I&&ps(I)&&Wr(H,I)&&(nt(i)||Ra(i)))}function rk(i){var c=i.length,h=new i.constructor(c);return c&&typeof i[0]=="string"&&Tt.call(i,"index")&&(h.index=i.index,h.input=i.input),h}function Jf(i){return typeof i.constructor!="function"||Gi(i)?{}:li(_s(i))}function ak(i,c,h){var b=i.constructor;switch(c){case Bi:return Ac(i);case Zt:case Ht:return new b(+i);case Ya:return Uw(i,h);case ql:case Vl:case Gl:case Jl:case Kl:case Yl:case Xl:case Ql:case ec:return Of(i,h);case er:return new b;case wa:case Di:return new b(i);case Pi:return Zw(i);case vr:return new b;case Ho:return Hw(i)}}function ik(i,c){var h=c.length;if(!h)return i;var b=h-1;return c[b]=(h>1?"& ":"")+c[b],c=c.join(h>2?", ":" "),i.replace(Yx,`{
/* [wrapped with `+c+`] */
`)}function ok(i){return nt(i)||Ra(i)||!!(Oh&&i&&i[Oh])}function Wr(i,c){var h=typeof i;return c=c??Cr,!!c&&(h=="number"||h!="symbol"&&l_.test(i))&&i>-1&&i%1==0&&i<c}function kn(i,c,h){if(!Vt(h))return!1;var b=typeof c;return!!(b=="number"?Rn(h)&&Wr(c,h.length):b=="string"&&c in h)&&br(h[c],i)}function Fc(i,c){if(nt(i))return!1;var h=typeof i;return!(h!="number"&&h!="symbol"&&h!="boolean"&&i!=null&&!Zn(i))||Vx.test(i)||!qx.test(i)||c!=null&&i in Pt(c)}function sk(i){var c=typeof i;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?i!=="__proto__":i===null}function zc(i){var c=is(i),h=E[c];if(typeof h!="function"||!(c in Pe.prototype))return!1;if(i===h)return!0;var b=Qc(h);return!!b&&i===b[0]}function lk(i){return!!Th&&Th in i}function Gi(i){var c=i&&i.constructor;return i===(typeof c=="function"&&c.prototype||ii)}function Kf(i){return i===i&&!Vt(i)}function Yf(i,c){return function(h){return h!=null&&h[i]===c&&(c!==C||i in Pt(h))}}function ck(i){var c=us(i,function(b){return h.size===Z&&h.clear(),b}),h=c.cache;return c}function uk(i,c){var h=i[1],b=c[1],I=h|b,N=I<(vt|tt|Tn),H=b==Tn&&h==yt||b==Tn&&h==Nr&&i[7].length<=c[8]||b==(Tn|Nr)&&c[7].length<=c[8]&&h==yt;if(!N&&!H)return i;b&vt&&(i[2]=c[2],I|=h&vt?0:cn);var G=c[3];if(G){var te=i[3];i[3]=te?zf(te,G,c[4]):G,i[4]=te?Je(i[3],ie):c[4]}return G=c[5],G&&(te=i[5],i[5]=te?Mf(te,G,c[6]):G,i[6]=te?Je(i[5],ie):c[6]),G=c[7],G&&(i[7]=G),b&Tn&&(i[8]=i[8]==null?c[8]:vn(i[8],c[8])),i[9]==null&&(i[9]=c[9]),i[0]=c[0],i[1]=I,i}function dk(i){var c=[];if(i!=null)for(var h in Pt(i))c.push(h);return c}function pk(i){return ys.call(i)}function Xf(i,c,h){return c=dn(c===C?i.length-1:c,0),function(){for(var b=arguments,I=-1,N=dn(b.length-c,0),H=un(N);++I<N;)H[I]=b[c+I];I=-1;for(var G=un(c+1);++I<c;)G[I]=b[I];return G[c]=h(H),n(i,this,G)}}function Qf(i,c){return c.length<2?i:Aa(i,rr(c,0,-1))}function fk(i,c){for(var h=i.length,b=vn(c.length,h),I=In(i);b--;){var N=c[b];i[b]=Wr(N,h)?I[N]:C}return i}function Mc(i,c){if((c!=="constructor"||typeof i[c]!="function")&&c!="__proto__")return i[c]}function eh(i,c,h){var b=c+"";return tu(i,ik(b,hk(nk(b),h)))}function th(i){var c=0,h=0;return function(){var b=w5(),I=Ul-(b-h);if(h=b,I>0){if(++c>=Lo)return arguments[0]}else c=0;return i.apply(C,arguments)}}function ss(i,c){var h=-1,b=i.length,I=b-1;for(c=c===C?b:c;++h<c;){var N=xc(h,I),H=i[N];i[N]=i[h],i[h]=H}return i.length=c,i}function Ar(i){if(typeof i=="string"||Zn(i))return i;var c=i+"";return c=="0"&&1/i==-Pr?"-0":c}function ja(i){if(i!=null){try{return vs.call(i)}catch{}try{return i+""}catch{}}return""}function hk(i,c){return a(We,function(h){var b="_."+h[0];c&h[1]&&!u(i,b)&&i.push(b)}),i.sort()}function nh(i){if(i instanceof Pe)return i.clone();var c=new qe(i.__wrapped__,i.__chain__);return c.__actions__=In(i.__actions__),c.__index__=i.__index__,c.__values__=i.__values__,c}function mk(i,c,h){c=(h?kn(i,c,h):c===C)?1:dn(at(c),0);var b=i==null?0:i.length;if(!b||c<1)return[];for(var I=0,N=0,H=un(Cs(b/c));I<b;)H[N++]=rr(i,I,I+=c);return H}function gk(i){for(var c=-1,h=i==null?0:i.length,b=0,I=[];++c<h;){var N=i[c];N&&(I[b++]=N)}return I}function vk(){var i=arguments.length;if(!i)return[];for(var c=un(i-1),h=arguments[0],b=i;b--;)c[b-1]=arguments[b];return m(nt(h)?In(h):[h],gn(c,1))}function yk(i,c,h){var b=i==null?0:i.length;return b?(c=h||c===C?1:at(c),rr(i,c<0?0:c,b)):[]}function bk(i,c,h){var b=i==null?0:i.length;return b?(c=h||c===C?1:at(c),c=b-c,rr(i,0,c<0?0:c)):[]}function xk(i,c){return i&&i.length?Qo(i,Ke(c,3),!0,!0):[]}function _k(i,c){return i&&i.length?Qo(i,Ke(c,3),!0):[]}function wk(i,c,h,b){var I=i==null?0:i.length;return I?(h&&typeof h!="number"&&kn(i,c,h)&&(h=0,b=I),_w(i,c,h,b)):[]}function rh(i,c,h){var b=i==null?0:i.length;if(!b)return-1;var I=h==null?0:at(h);return I<0&&(I=dn(b+I,0)),A(i,Ke(c,3),I)}function ah(i,c,h){var b=i==null?0:i.length;if(!b)return-1;var I=b-1;return h!==C&&(I=at(h),I=h<0?dn(b+I,0):vn(I,b-1)),A(i,Ke(c,3),I,!0)}function ih(i){return i!=null&&i.length?gn(i,1):[]}function kk(i){return i!=null&&i.length?gn(i,Pr):[]}function Ck(i,c){return i!=null&&i.length?(c=c===C?1:at(c),gn(i,c)):[]}function Sk(i){for(var c=-1,h=i==null?0:i.length,b={};++c<h;){var I=i[c];b[I[0]]=I[1]}return b}function oh(i){return i&&i.length?i[0]:C}function Ek(i,c,h){var b=i==null?0:i.length;if(!b)return-1;var I=h==null?0:at(h);return I<0&&(I=dn(b+I,0)),T(i,c,I)}function Ak(i){return i!=null&&i.length?rr(i,0,-1):[]}function Tk(i,c){return i==null?"":x5.call(i,c)}function ar(i){var c=i==null?0:i.length;return c?i[c-1]:C}function jk(i,c,h){var b=i==null?0:i.length;if(!b)return-1;var I=b;return h!==C&&(I=at(h),I=I<0?dn(b+I,0):vn(I,b-1)),c===c?Re(i,c,I):A(i,F,I,!0)}function Ik(i,c){return i&&i.length?wf(i,at(c)):C}function sh(i,c){return i&&i.length&&c&&c.length?bc(i,c):i}function Rk(i,c,h){return i&&i.length&&c&&c.length?bc(i,c,Ke(h,2)):i}function Ok(i,c,h){return i&&i.length&&c&&c.length?bc(i,c,C,h):i}function Fk(i,c){var h=[];if(!i||!i.length)return h;var b=-1,I=[],N=i.length;for(c=Ke(c,3);++b<N;){var H=i[b];c(H,b,i)&&(h.push(H),I.push(b))}return Sf(i,I),h}function Nc(i){return i==null?i:C5.call(i)}function zk(i,c,h){var b=i==null?0:i.length;return b?(h&&typeof h!="number"&&kn(i,c,h)?(c=0,h=b):(c=c==null?0:at(c),h=h===C?b:at(h)),rr(i,c,h)):[]}function Mk(i,c){return Xo(i,c)}function Nk(i,c,h){return wc(i,c,Ke(h,2))}function $k(i,c){var h=i==null?0:i.length;if(h){var b=Xo(i,c);if(b<h&&br(i[b],c))return b}return-1}function Pk(i,c){return Xo(i,c,!0)}function Dk(i,c,h){return wc(i,c,Ke(h,2),!0)}function Lk(i,c){if(i!=null&&i.length){var h=Xo(i,c,!0)-1;if(br(i[h],c))return h}return-1}function Bk(i){return i&&i.length?Ef(i):[]}function Uk(i,c){return i&&i.length?Ef(i,Ke(c,2)):[]}function Zk(i){var c=i==null?0:i.length;return c?rr(i,1,c):[]}function Hk(i,c,h){return i&&i.length?(c=h||c===C?1:at(c),rr(i,0,c<0?0:c)):[]}function Wk(i,c,h){var b=i==null?0:i.length;return b?(c=h||c===C?1:at(c),c=b-c,rr(i,c<0?0:c,b)):[]}function qk(i,c){return i&&i.length?Qo(i,Ke(c,3),!1,!0):[]}function Vk(i,c){return i&&i.length?Qo(i,Ke(c,3)):[]}function Gk(i){return i&&i.length?ta(i):[]}function Jk(i,c){return i&&i.length?ta(i,Ke(c,2)):[]}function Kk(i,c){return c=typeof c=="function"?c:C,i&&i.length?ta(i,C,c):[]}function $c(i){if(!i||!i.length)return[];var c=0;return i=l(i,function(h){if(nn(h))return c=dn(h.length,c),!0}),X(c,function(h){return p(i,B(h))})}function lh(i,c){if(!i||!i.length)return[];var h=$c(i);return c==null?h:p(h,function(b){return n(c,C,b)})}function Yk(i,c){return If(i||[],c||[],Ui)}function Xk(i,c){return If(i||[],c||[],qi)}function ch(i){var c=E(i);return c.__chain__=!0,c}function Qk(i,c){return c(i),i}function ls(i,c){return c(i)}function e4(){return ch(this)}function t4(){return new qe(this.value(),this.__chain__)}function n4(){this.__values__===C&&(this.__values__=bh(this.value()));var i=this.__index__>=this.__values__.length;return{done:i,value:i?C:this.__values__[this.__index__++]}}function r4(){return this}function a4(i){for(var c,h=this;h instanceof Ne;){var b=nh(h);b.__index__=0,b.__values__=C,c?I.__wrapped__=b:c=b;var I=b;h=h.__wrapped__}return I.__wrapped__=i,c}function i4(){var i=this.__wrapped__;if(i instanceof Pe){var c=i;return this.__actions__.length&&(c=new Pe(this)),c=c.reverse(),c.__actions__.push({func:ls,args:[Nc],thisArg:C}),new qe(c,this.__chain__)}return this.thru(Nc)}function o4(){return jf(this.__wrapped__,this.__actions__)}function s4(i,c,h){var b=nt(i)?o:xw;return h&&kn(i,c,h)&&(c=C),b(i,Ke(c,3))}function l4(i,c){return(nt(i)?l:hf)(i,Ke(c,3))}function c4(i,c){return gn(cs(i,c),1)}function u4(i,c){return gn(cs(i,c),Pr)}function d4(i,c,h){return h=h===C?1:at(h),gn(cs(i,c),h)}function uh(i,c){return(nt(i)?a:ia)(i,Ke(c,3))}function dh(i,c){return(nt(i)?s:Nh)(i,Ke(c,3))}function p4(i,c,h,b){i=Rn(i)?i:ri(i),h=h&&!b?at(h):0;var I=i.length;return h<0&&(h=dn(I+h,0)),fs(i)?h<=I&&i.indexOf(c,h)>-1:!!I&&T(i,c,h)>-1}function cs(i,c){return(nt(i)?p:bf)(i,Ke(c,3))}function f4(i,c,h,b){return i==null?[]:(nt(c)||(c=c==null?[]:[c]),h=b?C:h,nt(h)||(h=h==null?[]:[h]),kf(i,c,h))}function h4(i,c,h){var b=nt(i)?v:V,I=arguments.length<3;return b(i,Ke(c,4),h,I,ia)}function m4(i,c,h){var b=nt(i)?y:V,I=arguments.length<3;return b(i,Ke(c,4),h,I,Nh)}function g4(i,c){return(nt(i)?l:hf)(i,ds(Ke(c,3)))}function v4(i){return(nt(i)?uf:Pw)(i)}function y4(i,c,h){return c=(h?kn(i,c,h):c===C)?1:at(c),(nt(i)?mw:Dw)(i,c)}function b4(i){return(nt(i)?gw:Lw)(i)}function x4(i){if(i==null)return 0;if(Rn(i))return fs(i)?Ye(i):i.length;var c=yn(i);return c==er||c==vr?i.size:vc(i).length}function _4(i,c,h){var b=nt(i)?g:Bw;return h&&kn(i,c,h)&&(c=C),b(i,Ke(c,3))}function w4(i,c){if(typeof c!="function")throw new or(ee);return i=at(i),function(){if(--i<1)return c.apply(this,arguments)}}function ph(i,c,h){return c=h?C:c,c=i&&c==null?i.length:c,Zr(i,Tn,C,C,C,C,c)}function fh(i,c){var h;if(typeof c!="function")throw new or(ee);return i=at(i),function(){return--i>0&&(h=c.apply(this,arguments)),i<=1&&(c=C),h}}function hh(i,c,h){c=h?C:c;var b=Zr(i,yt,C,C,C,C,C,c);return b.placeholder=hh.placeholder,b}function mh(i,c,h){c=h?C:c;var b=Zr(i,At,C,C,C,C,C,c);return b.placeholder=mh.placeholder,b}function gh(i,c,h){function b(tn){var sr=Me,no=De;return Me=De=C,dt=tn,rt=i.apply(no,sr)}function I(tn){return dt=tn,He=to(G,c),bn?b(tn):rt}function N(tn){var sr=tn-ut,no=tn-dt,Xh=c-sr;return zn?vn(Xh,Ze-no):Xh}function H(tn){var sr=tn-ut,no=tn-dt;return ut===C||sr>=c||sr<0||zn&&no>=Ze}function G(){var tn=Ts();return H(tn)?te(tn):(He=to(G,N(tn)),C)}function te(tn){return He=C,sa&&Me?b(tn):(Me=De=C,rt)}function ye(){He!==C&&Dh(He),dt=0,Me=ut=De=He=C}function me(){return He===C?rt:te(Ts())}function we(){var tn=Ts(),sr=H(tn);if(Me=arguments,De=this,ut=tn,sr){if(He===C)return I(ut);if(zn)return Dh(He),He=to(G,c),b(ut)}return He===C&&(He=to(G,c)),rt}var Me,De,Ze,rt,He,ut,dt=0,bn=!1,zn=!1,sa=!0;if(typeof i!="function")throw new or(ee);return c=ir(c)||0,Vt(h)&&(bn=!!h.leading,zn="maxWait"in h,Ze=zn?dn(ir(h.maxWait)||0,c):Ze,sa="trailing"in h?!!h.trailing:sa),we.cancel=ye,we.flush=me,we}function k4(i){return Zr(i,Qr)}function us(i,c){if(typeof i!="function"||c!=null&&typeof c!="function")throw new or(ee);var h=function(){var b=arguments,I=c?c.apply(this,b):b[0],N=h.cache;if(N.has(I))return N.get(I);var H=i.apply(this,b);return h.cache=N.set(I,H)||N,H};return h.cache=new(us.Cache||Br),h}function ds(i){if(typeof i!="function")throw new or(ee);return function(){var c=arguments;switch(c.length){case 0:return!i.call(this);case 1:return!i.call(this,c[0]);case 2:return!i.call(this,c[0],c[1]);case 3:return!i.call(this,c[0],c[1],c[2])}return!i.apply(this,c)}}function C4(i){return fh(2,i)}function S4(i,c){if(typeof i!="function")throw new or(ee);return c=c===C?c:at(c),ot(i,c)}function E4(i,c){if(typeof i!="function")throw new or(ee);return c=c==null?0:dn(at(c),0),ot(function(h){var b=h[c],I=ra(h,0,c);return b&&m(I,b),n(i,this,I)})}function A4(i,c,h){var b=!0,I=!0;if(typeof i!="function")throw new or(ee);return Vt(h)&&(b="leading"in h?!!h.leading:b,I="trailing"in h?!!h.trailing:I),gh(i,c,{leading:b,maxWait:c,trailing:I})}function T4(i){return ph(i,1)}function j4(i,c){return ru(Ec(c),i)}function I4(){if(!arguments.length)return[];var i=arguments[0];return nt(i)?i:[i]}function R4(i){return nr(i,Be)}function O4(i,c){return c=typeof c=="function"?c:C,nr(i,Be,c)}function F4(i){return nr(i,ke|Be)}function z4(i,c){return c=typeof c=="function"?c:C,nr(i,ke|Be,c)}function M4(i,c){return c==null||pf(i,c,fn(c))}function br(i,c){return i===c||i!==i&&c!==c}function Rn(i){return i!=null&&ps(i.length)&&!qr(i)}function nn(i){return en(i)&&Rn(i)}function N4(i){return i===!0||i===!1||en(i)&&wn(i)==Zt}function $4(i){return en(i)&&i.nodeType===1&&!Ji(i)}function P4(i){if(i==null)return!0;if(Rn(i)&&(nt(i)||typeof i=="string"||typeof i.splice=="function"||oa(i)||ci(i)||Ra(i)))return!i.length;var c=yn(i);if(c==er||c==vr)return!i.size;if(Gi(i))return!vc(i).length;for(var h in i)if(Tt.call(i,h))return!1;return!0}function D4(i,c){return Wi(i,c)}function L4(i,c,h){h=typeof h=="function"?h:C;var b=h?h(i,c):C;return b===C?Wi(i,c,C,h):!!b}function Pc(i){if(!en(i))return!1;var c=wn(i);return c==Ja||c==hn||typeof i.message=="string"&&typeof i.name=="string"&&!Ji(i)}function B4(i){return typeof i=="number"&&Fh(i)}function qr(i){if(!Vt(i))return!1;var c=wn(i);return c==Ka||c==Zo||c==ct||c==Nx}function vh(i){return typeof i=="number"&&i==at(i)}function ps(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Cr}function Vt(i){var c=typeof i;return i!=null&&(c=="object"||c=="function")}function en(i){return i!=null&&typeof i=="object"}function U4(i,c){return i===c||gc(i,c,Oc(c))}function Z4(i,c,h){return h=typeof h=="function"?h:C,gc(i,c,Oc(c),h)}function H4(i){return yh(i)&&i!=+i}function W4(i){if(F5(i))throw new Vc(be);return vf(i)}function q4(i){return i===null}function V4(i){return i==null}function yh(i){return typeof i=="number"||en(i)&&wn(i)==wa}function Ji(i){if(!en(i)||wn(i)!=Dr)return!1;var c=_s(i);if(c===null)return!0;var h=Tt.call(c,"constructor")&&c.constructor;return typeof h=="function"&&h instanceof h&&vs.call(h)==f5}function G4(i){return vh(i)&&i>=-Cr&&i<=Cr}function fs(i){return typeof i=="string"||!nt(i)&&en(i)&&wn(i)==Di}function Zn(i){return typeof i=="symbol"||en(i)&&wn(i)==Ho}function J4(i){return i===C}function K4(i){return en(i)&&yn(i)==Li}function Y4(i){return en(i)&&wn(i)==Px}function bh(i){if(!i)return[];if(Rn(i))return fs(i)?Ve(i):In(i);if(Ki&&i[Ki])return le(i[Ki]());var c=yn(i);return(c==er?ne:c==vr?de:ri)(i)}function Vr(i){return i?(i=ir(i),i===Pr||i===-Pr?(i<0?-1:1)*Zl:i===i?i:0):i===0?i:0}function at(i){var c=Vr(i),h=c%1;return c===c?h?c-h:c:0}function xh(i){return i?Ea(at(i),0,Qn):0}function ir(i){if(typeof i=="number")return i;if(Zn(i))return Ga;if(Vt(i)){var c=typeof i.valueOf=="function"?i.valueOf():i;i=Vt(c)?c+"":c}if(typeof i!="string")return i===0?i:+i;i=Y(i);var h=i_.test(i);return h||s_.test(i)?D_(i.slice(2),h?2:8):a_.test(i)?Ga:+i}function _h(i){return Er(i,On(i))}function X4(i){return i?Ea(at(i),-Cr,Cr):i===0?i:0}function St(i){return i==null?"":Un(i)}function Q4(i,c){var h=li(i);return c==null?h:df(h,c)}function eC(i,c){return k(i,Ke(c,3),Sr)}function tC(i,c){return k(i,Ke(c,3),fc)}function nC(i,c){return i==null?i:Xc(i,Ke(c,3),On)}function rC(i,c){return i==null?i:$h(i,Ke(c,3),On)}function aC(i,c){return i&&Sr(i,Ke(c,3))}function iC(i,c){return i&&fc(i,Ke(c,3))}function oC(i){return i==null?[]:Ko(i,fn(i))}function sC(i){return i==null?[]:Ko(i,On(i))}function Dc(i,c,h){var b=i==null?C:Aa(i,c);return b===C?h:b}function lC(i,c){return i!=null&&Gf(i,c,ww)}function Lc(i,c){return i!=null&&Gf(i,c,kw)}function fn(i){return Rn(i)?cf(i):vc(i)}function On(i){return Rn(i)?cf(i,!0):Fw(i)}function cC(i,c){var h={};return c=Ke(c,3),Sr(i,function(b,I,N){Ur(h,c(b,I,N),b)}),h}function uC(i,c){var h={};return c=Ke(c,3),Sr(i,function(b,I,N){Ur(h,I,c(b,I,N))}),h}function dC(i,c){return wh(i,ds(Ke(c)))}function wh(i,c){if(i==null)return{};var h=p(Rc(i),function(b){return[b]});return c=Ke(c),Cf(i,h,function(b,I){return c(b,I[0])})}function pC(i,c,h){c=na(c,i);var b=-1,I=c.length;for(I||(I=1,i=C);++b<I;){var N=i==null?C:i[Ar(c[b])];N===C&&(b=I,N=h),i=qr(N)?N.call(i):N}return i}function fC(i,c,h){return i==null?i:qi(i,c,h)}function hC(i,c,h,b){return b=typeof b=="function"?b:C,i==null?i:qi(i,c,h,b)}function mC(i,c,h){var b=nt(i),I=b||oa(i)||ci(i);if(c=Ke(c,4),h==null){var N=i&&i.constructor;h=I?b?new N:[]:Vt(i)&&qr(N)?li(_s(i)):{}}return(I?a:Sr)(i,function(H,G,te){return c(h,H,G,te)}),h}function gC(i,c){return i==null||kc(i,c)}function vC(i,c,h){return i==null?i:Tf(i,c,Ec(h))}function yC(i,c,h,b){return b=typeof b=="function"?b:C,i==null?i:Tf(i,c,Ec(h),b)}function ri(i){return i==null?[]:P(i,fn(i))}function bC(i){return i==null?[]:P(i,On(i))}function xC(i,c,h){return h===C&&(h=c,c=C),h!==C&&(h=ir(h),h=h===h?h:0),c!==C&&(c=ir(c),c=c===c?c:0),Ea(ir(i),c,h)}function _C(i,c,h){return c=Vr(c),h===C?(h=c,c=0):h=Vr(h),i=ir(i),Cw(i,c,h)}function wC(i,c,h){if(h&&typeof h!="boolean"&&kn(i,c,h)&&(c=h=C),h===C&&(typeof c=="boolean"?(h=c,c=C):typeof i=="boolean"&&(h=i,i=C)),i===C&&c===C?(i=0,c=1):(i=Vr(i),c===C?(c=i,i=0):c=Vr(c)),i>c){var b=i;i=c,c=b}if(h||i%1||c%1){var I=zh();return vn(i+I*(c-i+P_("1e-"+((I+"").length-1))),c)}return xc(i,c)}function kh(i){return iu(St(i).toLowerCase())}function Ch(i){return i=St(i),i&&i.replace(c_,U_).replace(T_,"")}function kC(i,c,h){i=St(i),c=Un(c);var b=i.length;h=h===C?b:Ea(at(h),0,b);var I=h;return h-=c.length,h>=0&&i.slice(h,I)==c}function CC(i){return i=St(i),i&&Zx.test(i)?i.replace(Fp,Z_):i}function SC(i){return i=St(i),i&&Jx.test(i)?i.replace(tc,"\\$&"):i}function EC(i,c,h){i=St(i),c=at(c);var b=c?Ye(i):0;if(!c||b>=c)return i;var I=(c-b)/2;return rs(Ss(I),h)+i+rs(Cs(I),h)}function AC(i,c,h){i=St(i),c=at(c);var b=c?Ye(i):0;return c&&b<c?i+rs(c-b,h):i}function TC(i,c,h){i=St(i),c=at(c);var b=c?Ye(i):0;return c&&b<c?rs(c-b,h)+i:i}function jC(i,c,h){return h||c==null?c=0:c&&(c=+c),k5(St(i).replace(nc,""),c||0)}function IC(i,c,h){return c=(h?kn(i,c,h):c===C)?1:at(c),_c(St(i),c)}function RC(){var i=arguments,c=St(i[0]);return i.length<3?c:c.replace(i[1],i[2])}function OC(i,c,h){return h&&typeof h!="number"&&kn(i,c,h)&&(c=h=C),(h=h===C?Qn:h>>>0)?(i=St(i),i&&(typeof c=="string"||c!=null&&!au(c))&&(c=Un(c),!c&&R(i))?ra(Ve(i),0,h):i.split(c,h)):[]}function FC(i,c,h){return i=St(i),h=h==null?0:Ea(at(h),0,i.length),c=Un(c),i.slice(h,h+c.length)==c}function zC(i,c,h){var b=E.templateSettings;h&&kn(i,c,h)&&(c=C),i=St(i),c=js({},c,b,Wf);var I,N,H=js({},c.imports,b.imports,Wf),G=fn(H),te=P(H,G),ye=0,me=c.interpolate||Wo,we="__p += '",Me=Gc((c.escape||Wo).source+"|"+me.source+"|"+(me===zp?r_:Wo).source+"|"+(c.evaluate||Wo).source+"|$","g"),De="//# sourceURL="+(Tt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++F_+"]")+`
`;i.replace(Me,function(He,ut,dt,bn,zn,sa){return dt||(dt=bn),we+=i.slice(ye,sa).replace(u_,Se),ut&&(I=!0,we+=`' +
__e(`+ut+`) +
'`),zn&&(N=!0,we+=`';
`+zn+`;
__p += '`),dt&&(we+=`' +
((__t = (`+dt+`)) == null ? '' : __t) +
'`),ye=sa+He.length,He}),we+=`';
`;var Ze=Tt.call(c,"variable")&&c.variable;if(Ze){if(t_.test(Ze))throw new Vc(re)}else we=`with (obj) {
`+we+`
}
`;we=(N?we.replace(Dx,""):we).replace(Lx,"$1").replace(Bx,"$1;"),we="function("+(Ze||"obj")+`) {
`+(Ze?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+we+`return __p
}`;var rt=Yh(function(){return Ah(G,De+"return "+we).apply(C,te)});if(rt.source=we,Pc(rt))throw rt;return rt}function MC(i){return St(i).toLowerCase()}function NC(i){return St(i).toUpperCase()}function $C(i,c,h){if(i=St(i),i&&(h||c===C))return Y(i);if(!i||!(c=Un(c)))return i;var b=Ve(i),I=Ve(c);return ra(b,se(b,I),ue(b,I)+1).join("")}function PC(i,c,h){if(i=St(i),i&&(h||c===C))return i.slice(0,S(i)+1);if(!i||!(c=Un(c)))return i;var b=Ve(i);return ra(b,0,ue(b,Ve(c))+1).join("")}function DC(i,c,h){if(i=St(i),i&&(h||c===C))return i.replace(nc,"");if(!i||!(c=Un(c)))return i;var b=Ve(i);return ra(b,se(b,Ve(c))).join("")}function LC(i,c){var h=$r,b=ea;if(Vt(c)){var I="separator"in c?c.separator:I;h="length"in c?at(c.length):h,b="omission"in c?Un(c.omission):b}i=St(i);var N=i.length;if(R(i)){var H=Ve(i);N=H.length}if(h>=N)return i;var G=h-Ye(b);if(G<1)return b;var te=H?ra(H,0,G).join(""):i.slice(0,G);if(I===C)return te+b;if(H&&(G+=te.length-G),au(I)){if(i.slice(G).search(I)){var ye,me=te;for(I.global||(I=Gc(I.source,St(Mp.exec(I))+"g")),I.lastIndex=0;ye=I.exec(me);)var we=ye.index;te=te.slice(0,we===C?G:we)}}else if(i.indexOf(Un(I),G)!=G){var Me=te.lastIndexOf(I);Me>-1&&(te=te.slice(0,Me))}return te+b}function BC(i){return i=St(i),i&&Ux.test(i)?i.replace(Op,H_):i}function Sh(i,c,h){return i=St(i),c=h?C:c,c===C?Ie(i)?$(i):x(i):i.match(c)||[]}function UC(i){var c=i==null?0:i.length,h=Ke();return i=c?p(i,function(b){if(typeof b[1]!="function")throw new or(ee);return[h(b[0]),b[1]]}):[],ot(function(b){for(var I=-1;++I<c;){var N=i[I];if(n(N[0],this,b))return n(N[1],this,b)}})}function ZC(i){return bw(nr(i,ke))}function Bc(i){return function(){return i}}function HC(i,c){return i==null||i!==i?c:i}function Fn(i){return i}function Uc(i){return yf(typeof i=="function"?i:nr(i,ke))}function WC(i){return xf(nr(i,ke))}function qC(i,c){return _f(i,nr(c,ke))}function Zc(i,c,h){var b=fn(c),I=Ko(c,b);h!=null||Vt(c)&&(I.length||!b.length)||(h=c,c=i,i=this,I=Ko(c,fn(c)));var N=!(Vt(h)&&"chain"in h&&!h.chain),H=qr(i);return a(I,function(G){var te=c[G];i[G]=te,H&&(i.prototype[G]=function(){var ye=this.__chain__;if(N||ye){var me=i(this.__wrapped__);return(me.__actions__=In(this.__actions__)).push({func:te,args:arguments,thisArg:i}),me.__chain__=ye,me}return te.apply(i,m([this.value()],arguments))})}),i}function VC(){return mn._===this&&(mn._=h5),this}function Hc(){}function GC(i){return i=at(i),ot(function(c){return wf(c,i)})}function Eh(i){return Fc(i)?B(Ar(i)):Nw(i)}function JC(i){return function(c){return i==null?C:Aa(i,c)}}function Wc(){return[]}function qc(){return!1}function KC(){return{}}function YC(){return""}function XC(){return!0}function QC(i,c){if(i=at(i),i<1||i>Cr)return[];var h=Qn,b=vn(i,Qn);c=Ke(c),i-=Qn;for(var I=X(b,c);++h<i;)c(h);return I}function e5(i){return nt(i)?p(i,Ar):Zn(i)?[i]:In(Uh(St(i)))}function t5(i){var c=++p5;return St(i)+c}function n5(i){return i&&i.length?Jo(i,Fn,hc):C}function r5(i,c){return i&&i.length?Jo(i,Ke(c,2),hc):C}function a5(i){return O(i,Fn)}function i5(i,c){return O(i,Ke(c,2))}function o5(i){return i&&i.length?Jo(i,Fn,yc):C}function s5(i,c){return i&&i.length?Jo(i,Ke(c,2),yc):C}function l5(i){return i&&i.length?D(i,Fn):0}function c5(i,c){return i&&i.length?D(i,Ke(c,2)):0}fe=fe==null?mn:Qa.defaults(mn.Object(),fe,Qa.pick(mn,O_));var un=fe.Array,hs=fe.Date,Vc=fe.Error,Ah=fe.Function,ai=fe.Math,Pt=fe.Object,Gc=fe.RegExp,u5=fe.String,or=fe.TypeError,ms=un.prototype,d5=Ah.prototype,ii=Pt.prototype,gs=fe["__core-js_shared__"],vs=d5.toString,Tt=ii.hasOwnProperty,p5=0,Th=function(){var i=/[^.]+$/.exec(gs&&gs.keys&&gs.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),ys=ii.toString,f5=vs.call(Pt),h5=mn._,m5=Gc("^"+vs.call(Tt).replace(tc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bs=tf?fe.Buffer:C,aa=fe.Symbol,xs=fe.Uint8Array,jh=bs?bs.allocUnsafe:C,_s=Ge(Pt.getPrototypeOf,Pt),Ih=Pt.create,Rh=ii.propertyIsEnumerable,ws=ms.splice,Oh=aa?aa.isConcatSpreadable:C,Ki=aa?aa.iterator:C,Ia=aa?aa.toStringTag:C,ks=function(){try{var i=Ta(Pt,"defineProperty");return i({},"",{}),i}catch{}}(),g5=fe.clearTimeout!==mn.clearTimeout&&fe.clearTimeout,v5=hs&&hs.now!==mn.Date.now&&hs.now,y5=fe.setTimeout!==mn.setTimeout&&fe.setTimeout,Cs=ai.ceil,Ss=ai.floor,Jc=Pt.getOwnPropertySymbols,b5=bs?bs.isBuffer:C,Fh=fe.isFinite,x5=ms.join,_5=Ge(Pt.keys,Pt),dn=ai.max,vn=ai.min,w5=hs.now,k5=fe.parseInt,zh=ai.random,C5=ms.reverse,Kc=Ta(fe,"DataView"),Yi=Ta(fe,"Map"),Yc=Ta(fe,"Promise"),oi=Ta(fe,"Set"),Xi=Ta(fe,"WeakMap"),Qi=Ta(Pt,"create"),Es=Xi&&new Xi,si={},S5=ja(Kc),E5=ja(Yi),A5=ja(Yc),T5=ja(oi),j5=ja(Xi),As=aa?aa.prototype:C,eo=As?As.valueOf:C,Mh=As?As.toString:C,li=function(){function i(){}return function(c){if(!Vt(c))return{};if(Ih)return Ih(c);i.prototype=c;var h=new i;return i.prototype=C,h}}();E.templateSettings={escape:Hx,evaluate:Wx,interpolate:zp,variable:"",imports:{_:E}},E.prototype=Ne.prototype,E.prototype.constructor=E,qe.prototype=li(Ne.prototype),qe.prototype.constructor=qe,Pe.prototype=li(Ne.prototype),Pe.prototype.constructor=Pe,Ca.prototype.clear=V_,Ca.prototype.delete=G_,Ca.prototype.get=J_,Ca.prototype.has=K_,Ca.prototype.set=Y_,Lr.prototype.clear=X_,Lr.prototype.delete=Q_,Lr.prototype.get=ew,Lr.prototype.has=tw,Lr.prototype.set=nw,Br.prototype.clear=rw,Br.prototype.delete=aw,Br.prototype.get=iw,Br.prototype.has=ow,Br.prototype.set=sw,Sa.prototype.add=Sa.prototype.push=lw,Sa.prototype.has=cw,yr.prototype.clear=uw,yr.prototype.delete=dw,yr.prototype.get=pw,yr.prototype.has=fw,yr.prototype.set=hw;var ia=Nf(Sr),Nh=Nf(fc,!0),Xc=$f(),$h=$f(!0),Ph=Es?function(i,c){return Es.set(i,c),i}:Fn,I5=ks?function(i,c){return ks(i,"toString",{configurable:!0,enumerable:!1,value:Bc(c),writable:!0})}:Fn,R5=ot,Dh=g5||function(i){return mn.clearTimeout(i)},O5=oi&&1/de(new oi([,-0]))[1]==Pr?function(i){return new oi(i)}:Hc,Qc=Es?function(i){return Es.get(i)}:Hc,eu=Jc?function(i){return i==null?[]:(i=Pt(i),l(Jc(i),function(c){return Rh.call(i,c)}))}:Wc,Lh=Jc?function(i){for(var c=[];i;)m(c,eu(i)),i=_s(i);return c}:Wc,yn=wn;(Kc&&yn(new Kc(new ArrayBuffer(1)))!=Ya||Yi&&yn(new Yi)!=er||Yc&&yn(Yc.resolve())!=Rp||oi&&yn(new oi)!=vr||Xi&&yn(new Xi)!=Li)&&(yn=function(i){var c=wn(i),h=c==Dr?i.constructor:C,b=h?ja(h):"";if(b)switch(b){case S5:return Ya;case E5:return er;case A5:return Rp;case T5:return vr;case j5:return Li}return c});var F5=gs?qr:qc,Bh=th(Ph),to=y5||function(i,c){return mn.setTimeout(i,c)},tu=th(I5),Uh=ck(function(i){var c=[];return i.charCodeAt(0)===46&&c.push(""),i.replace(Gx,function(h,b,I,N){c.push(I?N.replace(n_,"$1"):b||h)}),c}),z5=ot(function(i,c){return nn(i)?Zi(i,gn(c,1,nn,!0)):[]}),M5=ot(function(i,c){var h=ar(c);return nn(h)&&(h=C),nn(i)?Zi(i,gn(c,1,nn,!0),Ke(h,2)):[]}),N5=ot(function(i,c){var h=ar(c);return nn(h)&&(h=C),nn(i)?Zi(i,gn(c,1,nn,!0),C,h):[]}),$5=ot(function(i){var c=p(i,Sc);return c.length&&c[0]===i[0]?mc(c):[]}),P5=ot(function(i){var c=ar(i),h=p(i,Sc);return c===ar(h)?c=C:h.pop(),h.length&&h[0]===i[0]?mc(h,Ke(c,2)):[]}),D5=ot(function(i){var c=ar(i),h=p(i,Sc);return c=typeof c=="function"?c:C,c&&h.pop(),h.length&&h[0]===i[0]?mc(h,C,c):[]}),L5=ot(sh),B5=Hr(function(i,c){var h=i==null?0:i.length,b=pc(i,c);return Sf(i,p(c,function(I){return Wr(I,h)?+I:I}).sort(Ff)),b}),U5=ot(function(i){return ta(gn(i,1,nn,!0))}),Z5=ot(function(i){var c=ar(i);return nn(c)&&(c=C),ta(gn(i,1,nn,!0),Ke(c,2))}),H5=ot(function(i){var c=ar(i);return c=typeof c=="function"?c:C,ta(gn(i,1,nn,!0),C,c)}),W5=ot(function(i,c){return nn(i)?Zi(i,c):[]}),q5=ot(function(i){return Cc(l(i,nn))}),V5=ot(function(i){var c=ar(i);return nn(c)&&(c=C),Cc(l(i,nn),Ke(c,2))}),G5=ot(function(i){var c=ar(i);return c=typeof c=="function"?c:C,Cc(l(i,nn),C,c)}),J5=ot($c),K5=ot(function(i){var c=i.length,h=c>1?i[c-1]:C;return h=typeof h=="function"?(i.pop(),h):C,lh(i,h)}),Y5=Hr(function(i){var c=i.length,h=c?i[0]:0,b=this.__wrapped__,I=function(N){return pc(N,i)};return!(c>1||this.__actions__.length)&&b instanceof Pe&&Wr(h)?(b=b.slice(h,+h+(c?1:0)),b.__actions__.push({func:ls,args:[I],thisArg:C}),new qe(b,this.__chain__).thru(function(N){return c&&!N.length&&N.push(C),N})):this.thru(I)}),X5=es(function(i,c,h){Tt.call(i,h)?++i[h]:Ur(i,h,1)}),Q5=Df(rh),eS=Df(ah),tS=es(function(i,c,h){Tt.call(i,h)?i[h].push(c):Ur(i,h,[c])}),nS=ot(function(i,c,h){var b=-1,I=typeof c=="function",N=Rn(i)?un(i.length):[];return ia(i,function(H){N[++b]=I?n(c,H,h):Hi(H,c,h)}),N}),rS=es(function(i,c,h){Ur(i,h,c)}),aS=es(function(i,c,h){i[h?0:1].push(c)},function(){return[[],[]]}),iS=ot(function(i,c){if(i==null)return[];var h=c.length;return h>1&&kn(i,c[0],c[1])?c=[]:h>2&&kn(c[0],c[1],c[2])&&(c=[c[0]]),kf(i,gn(c,1),[])}),Ts=v5||function(){return mn.Date.now()},nu=ot(function(i,c,h){var b=vt;if(h.length){var I=Je(h,ni(nu));b|=lt}return Zr(i,b,c,h,I)}),Zh=ot(function(i,c,h){var b=vt|tt;if(h.length){var I=Je(h,ni(Zh));b|=lt}return Zr(c,b,i,h,I)}),oS=ot(function(i,c){return ff(i,1,c)}),sS=ot(function(i,c,h){return ff(i,ir(c)||0,h)});us.Cache=Br;var lS=R5(function(i,c){c=c.length==1&&nt(c[0])?p(c[0],w(Ke())):p(gn(c,1),w(Ke()));var h=c.length;return ot(function(b){for(var I=-1,N=vn(b.length,h);++I<N;)b[I]=c[I].call(this,b[I]);return n(i,this,b)})}),ru=ot(function(i,c){return Zr(i,lt,C,c,Je(c,ni(ru)))}),Hh=ot(function(i,c){return Zr(i,gr,C,c,Je(c,ni(Hh)))}),cS=Hr(function(i,c){return Zr(i,Nr,C,C,C,c)}),uS=as(hc),dS=as(function(i,c){return i>=c}),Ra=gf(function(){return arguments}())?gf:function(i){return en(i)&&Tt.call(i,"callee")&&!Rh.call(i,"callee")},nt=un.isArray,pS=nf?w(nf):Ew,oa=b5||qc,fS=rf?w(rf):Aw,Wh=af?w(af):jw,au=of?w(of):Iw,qh=sf?w(sf):Rw,ci=lf?w(lf):Ow,hS=as(yc),mS=as(function(i,c){return i<=c}),gS=ei(function(i,c){if(Gi(c)||Rn(c))return Er(c,fn(c),i),C;for(var h in c)Tt.call(c,h)&&Ui(i,h,c[h])}),Vh=ei(function(i,c){Er(c,On(c),i)}),js=ei(function(i,c,h,b){Er(c,On(c),i,b)}),vS=ei(function(i,c,h,b){Er(c,fn(c),i,b)}),yS=Hr(pc),bS=ot(function(i,c){i=Pt(i);var h=-1,b=c.length,I=b>2?c[2]:C;for(I&&kn(c[0],c[1],I)&&(b=1);++h<b;)for(var N=c[h],H=On(N),G=-1,te=H.length;++G<te;){var ye=H[G],me=i[ye];(me===C||br(me,ii[ye])&&!Tt.call(i,ye))&&(i[ye]=N[ye])}return i}),xS=ot(function(i){return i.push(C,qf),n(Gh,C,i)}),_S=Bf(function(i,c,h){c!=null&&typeof c.toString!="function"&&(c=ys.call(c)),i[c]=h},Bc(Fn)),wS=Bf(function(i,c,h){c!=null&&typeof c.toString!="function"&&(c=ys.call(c)),Tt.call(i,c)?i[c].push(h):i[c]=[h]},Ke),kS=ot(Hi),CS=ei(function(i,c,h){Yo(i,c,h)}),Gh=ei(function(i,c,h,b){Yo(i,c,h,b)}),SS=Hr(function(i,c){var h={};if(i==null)return h;var b=!1;c=p(c,function(N){return N=na(N,i),b||(b=N.length>1),N}),Er(i,Rc(i),h),b&&(h=nr(h,ke|Te|Be,Yw));for(var I=c.length;I--;)kc(h,c[I]);return h}),ES=Hr(function(i,c){return i==null?{}:Mw(i,c)}),Jh=Hf(fn),Kh=Hf(On),AS=ti(function(i,c,h){return c=c.toLowerCase(),i+(h?kh(c):c)}),TS=ti(function(i,c,h){return i+(h?"-":"")+c.toLowerCase()}),jS=ti(function(i,c,h){return i+(h?" ":"")+c.toLowerCase()}),IS=Pf("toLowerCase"),RS=ti(function(i,c,h){return i+(h?"_":"")+c.toLowerCase()}),OS=ti(function(i,c,h){return i+(h?" ":"")+iu(c)}),FS=ti(function(i,c,h){return i+(h?" ":"")+c.toUpperCase()}),iu=Pf("toUpperCase"),Yh=ot(function(i,c){try{return n(i,C,c)}catch(h){return Pc(h)?h:new Vc(h)}}),zS=Hr(function(i,c){return a(c,function(h){h=Ar(h),Ur(i,h,nu(i[h],i))}),i}),MS=Lf(),NS=Lf(!0),$S=ot(function(i,c){return function(h){return Hi(h,i,c)}}),PS=ot(function(i,c){return function(h){return Hi(i,h,c)}}),DS=Tc(p),LS=Tc(o),BS=Tc(g),US=Uf(),ZS=Uf(!0),HS=ns(function(i,c){return i+c},0),WS=jc("ceil"),qS=ns(function(i,c){return i/c},1),VS=jc("floor"),GS=ns(function(i,c){return i*c},1),JS=jc("round"),KS=ns(function(i,c){return i-c},0);return E.after=w4,E.ary=ph,E.assign=gS,E.assignIn=Vh,E.assignInWith=js,E.assignWith=vS,E.at=yS,E.before=fh,E.bind=nu,E.bindAll=zS,E.bindKey=Zh,E.castArray=I4,E.chain=ch,E.chunk=mk,E.compact=gk,E.concat=vk,E.cond=UC,E.conforms=ZC,E.constant=Bc,E.countBy=X5,E.create=Q4,E.curry=hh,E.curryRight=mh,E.debounce=gh,E.defaults=bS,E.defaultsDeep=xS,E.defer=oS,E.delay=sS,E.difference=z5,E.differenceBy=M5,E.differenceWith=N5,E.drop=yk,E.dropRight=bk,E.dropRightWhile=xk,E.dropWhile=_k,E.fill=wk,E.filter=l4,E.flatMap=c4,E.flatMapDeep=u4,E.flatMapDepth=d4,E.flatten=ih,E.flattenDeep=kk,E.flattenDepth=Ck,E.flip=k4,E.flow=MS,E.flowRight=NS,E.fromPairs=Sk,E.functions=oC,E.functionsIn=sC,E.groupBy=tS,E.initial=Ak,E.intersection=$5,E.intersectionBy=P5,E.intersectionWith=D5,E.invert=_S,E.invertBy=wS,E.invokeMap=nS,E.iteratee=Uc,E.keyBy=rS,E.keys=fn,E.keysIn=On,E.map=cs,E.mapKeys=cC,E.mapValues=uC,E.matches=WC,E.matchesProperty=qC,E.memoize=us,E.merge=CS,E.mergeWith=Gh,E.method=$S,E.methodOf=PS,E.mixin=Zc,E.negate=ds,E.nthArg=GC,E.omit=SS,E.omitBy=dC,E.once=C4,E.orderBy=f4,E.over=DS,E.overArgs=lS,E.overEvery=LS,E.overSome=BS,E.partial=ru,E.partialRight=Hh,E.partition=aS,E.pick=ES,E.pickBy=wh,E.property=Eh,E.propertyOf=JC,E.pull=L5,E.pullAll=sh,E.pullAllBy=Rk,E.pullAllWith=Ok,E.pullAt=B5,E.range=US,E.rangeRight=ZS,E.rearg=cS,E.reject=g4,E.remove=Fk,E.rest=S4,E.reverse=Nc,E.sampleSize=y4,E.set=fC,E.setWith=hC,E.shuffle=b4,E.slice=zk,E.sortBy=iS,E.sortedUniq=Bk,E.sortedUniqBy=Uk,E.split=OC,E.spread=E4,E.tail=Zk,E.take=Hk,E.takeRight=Wk,E.takeRightWhile=qk,E.takeWhile=Vk,E.tap=Qk,E.throttle=A4,E.thru=ls,E.toArray=bh,E.toPairs=Jh,E.toPairsIn=Kh,E.toPath=e5,E.toPlainObject=_h,E.transform=mC,E.unary=T4,E.union=U5,E.unionBy=Z5,E.unionWith=H5,E.uniq=Gk,E.uniqBy=Jk,E.uniqWith=Kk,E.unset=gC,E.unzip=$c,E.unzipWith=lh,E.update=vC,E.updateWith=yC,E.values=ri,E.valuesIn=bC,E.without=W5,E.words=Sh,E.wrap=j4,E.xor=q5,E.xorBy=V5,E.xorWith=G5,E.zip=J5,E.zipObject=Yk,E.zipObjectDeep=Xk,E.zipWith=K5,E.entries=Jh,E.entriesIn=Kh,E.extend=Vh,E.extendWith=js,Zc(E,E),E.add=HS,E.attempt=Yh,E.camelCase=AS,E.capitalize=kh,E.ceil=WS,E.clamp=xC,E.clone=R4,E.cloneDeep=F4,E.cloneDeepWith=z4,E.cloneWith=O4,E.conformsTo=M4,E.deburr=Ch,E.defaultTo=HC,E.divide=qS,E.endsWith=kC,E.eq=br,E.escape=CC,E.escapeRegExp=SC,E.every=s4,E.find=Q5,E.findIndex=rh,E.findKey=eC,E.findLast=eS,E.findLastIndex=ah,E.findLastKey=tC,E.floor=VS,E.forEach=uh,E.forEachRight=dh,E.forIn=nC,E.forInRight=rC,E.forOwn=aC,E.forOwnRight=iC,E.get=Dc,E.gt=uS,E.gte=dS,E.has=lC,E.hasIn=Lc,E.head=oh,E.identity=Fn,E.includes=p4,E.indexOf=Ek,E.inRange=_C,E.invoke=kS,E.isArguments=Ra,E.isArray=nt,E.isArrayBuffer=pS,E.isArrayLike=Rn,E.isArrayLikeObject=nn,E.isBoolean=N4,E.isBuffer=oa,E.isDate=fS,E.isElement=$4,E.isEmpty=P4,E.isEqual=D4,E.isEqualWith=L4,E.isError=Pc,E.isFinite=B4,E.isFunction=qr,E.isInteger=vh,E.isLength=ps,E.isMap=Wh,E.isMatch=U4,E.isMatchWith=Z4,E.isNaN=H4,E.isNative=W4,E.isNil=V4,E.isNull=q4,E.isNumber=yh,E.isObject=Vt,E.isObjectLike=en,E.isPlainObject=Ji,E.isRegExp=au,E.isSafeInteger=G4,E.isSet=qh,E.isString=fs,E.isSymbol=Zn,E.isTypedArray=ci,E.isUndefined=J4,E.isWeakMap=K4,E.isWeakSet=Y4,E.join=Tk,E.kebabCase=TS,E.last=ar,E.lastIndexOf=jk,E.lowerCase=jS,E.lowerFirst=IS,E.lt=hS,E.lte=mS,E.max=n5,E.maxBy=r5,E.mean=a5,E.meanBy=i5,E.min=o5,E.minBy=s5,E.stubArray=Wc,E.stubFalse=qc,E.stubObject=KC,E.stubString=YC,E.stubTrue=XC,E.multiply=GS,E.nth=Ik,E.noConflict=VC,E.noop=Hc,E.now=Ts,E.pad=EC,E.padEnd=AC,E.padStart=TC,E.parseInt=jC,E.random=wC,E.reduce=h4,E.reduceRight=m4,E.repeat=IC,E.replace=RC,E.result=pC,E.round=JS,E.runInContext=K,E.sample=v4,E.size=x4,E.snakeCase=RS,E.some=_4,E.sortedIndex=Mk,E.sortedIndexBy=Nk,E.sortedIndexOf=$k,E.sortedLastIndex=Pk,E.sortedLastIndexBy=Dk,E.sortedLastIndexOf=Lk,E.startCase=OS,E.startsWith=FC,E.subtract=KS,E.sum=l5,E.sumBy=c5,E.template=zC,E.times=QC,E.toFinite=Vr,E.toInteger=at,E.toLength=xh,E.toLower=MC,E.toNumber=ir,E.toSafeInteger=X4,E.toString=St,E.toUpper=NC,E.trim=$C,E.trimEnd=PC,E.trimStart=DC,E.truncate=LC,E.unescape=BC,E.uniqueId=t5,E.upperCase=FS,E.upperFirst=iu,E.each=uh,E.eachRight=dh,E.first=oh,Zc(E,function(){var i={};return Sr(E,function(c,h){Tt.call(E.prototype,h)||(i[h]=c)}),i}(),{chain:!1}),E.VERSION=J,a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){E[i].placeholder=E}),a(["drop","take"],function(i,c){Pe.prototype[i]=function(h){h=h===C?1:dn(at(h),0);var b=this.__filtered__&&!c?new Pe(this):this.clone();return b.__filtered__?b.__takeCount__=vn(h,b.__takeCount__):b.__views__.push({size:vn(h,Qn),type:i+(b.__dir__<0?"Right":"")}),b},Pe.prototype[i+"Right"]=function(h){return this.reverse()[i](h).reverse()}}),a(["filter","map","takeWhile"],function(i,c){var h=c+1,b=h==$i||h==Uo;Pe.prototype[i]=function(I){var N=this.clone();return N.__iteratees__.push({iteratee:Ke(I,3),type:h}),N.__filtered__=N.__filtered__||b,N}}),a(["head","last"],function(i,c){var h="take"+(c?"Right":"");Pe.prototype[i]=function(){return this[h](1).value()[0]}}),a(["initial","tail"],function(i,c){var h="drop"+(c?"":"Right");Pe.prototype[i]=function(){return this.__filtered__?new Pe(this):this[h](1)}}),Pe.prototype.compact=function(){return this.filter(Fn)},Pe.prototype.find=function(i){return this.filter(i).head()},Pe.prototype.findLast=function(i){return this.reverse().find(i)},Pe.prototype.invokeMap=ot(function(i,c){return typeof i=="function"?new Pe(this):this.map(function(h){return Hi(h,i,c)})}),Pe.prototype.reject=function(i){return this.filter(ds(Ke(i)))},Pe.prototype.slice=function(i,c){i=at(i);var h=this;return h.__filtered__&&(i>0||c<0)?new Pe(h):(i<0?h=h.takeRight(-i):i&&(h=h.drop(i)),c!==C&&(c=at(c),h=c<0?h.dropRight(-c):h.take(c-i)),h)},Pe.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Pe.prototype.toArray=function(){return this.take(Qn)},Sr(Pe.prototype,function(i,c){var h=/^(?:filter|find|map|reject)|While$/.test(c),b=/^(?:head|last)$/.test(c),I=E[b?"take"+(c=="last"?"Right":""):c],N=b||/^find/.test(c);I&&(E.prototype[c]=function(){var H=this.__wrapped__,G=b?[1]:arguments,te=H instanceof Pe,ye=G[0],me=te||nt(H),we=function(ut){var dt=I.apply(E,m([ut],G));return b&&Me?dt[0]:dt};me&&h&&typeof ye=="function"&&ye.length!=1&&(te=me=!1);var Me=this.__chain__,De=!!this.__actions__.length,Ze=N&&!Me,rt=te&&!De;if(!N&&me){H=rt?H:new Pe(this);var He=i.apply(H,G);return He.__actions__.push({func:ls,args:[we],thisArg:C}),new qe(He,Me)}return Ze&&rt?i.apply(this,G):(He=this.thru(we),Ze?b?He.value()[0]:He.value():He)})}),a(["pop","push","shift","sort","splice","unshift"],function(i){var c=ms[i],h=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",b=/^(?:pop|shift)$/.test(i);E.prototype[i]=function(){var I=arguments;if(b&&!this.__chain__){var N=this.value();return c.apply(nt(N)?N:[],I)}return this[h](function(H){return c.apply(nt(H)?H:[],I)})}}),Sr(Pe.prototype,function(i,c){var h=E[c];if(h){var b=h.name+"";Tt.call(si,b)||(si[b]=[]),si[b].push({name:c,func:h})}}),si[ts(C,tt).name]=[{name:"wrapper",func:C}],Pe.prototype.clone=jn,Pe.prototype.reverse=uc,Pe.prototype.value=q_,E.prototype.at=Y5,E.prototype.chain=e4,E.prototype.commit=t4,E.prototype.next=n4,E.prototype.plant=a4,E.prototype.reverse=i4,E.prototype.toJSON=E.prototype.valueOf=E.prototype.value=o4,E.prototype.first=E.prototype.head,Ki&&(E.prototype[Ki]=r4),E},Qa=W_();ka?((ka.exports=Qa)._=Qa,lc._=Qa):mn._=Qa}).call(Vn)})(_l,_l.exports);var hW=_l.exports,Y0=hW.runInContext(),bt=UA(Y0,Y0);const Fx=/^[A-Za-z][_0-9A-Za-z]*$/,zx=e=>({name:"attributeNameAlreadyUsed",message:Yt.unique.id,test(t){if(!t)return!1;const n=bt.snakeCase(t);return!e.some(r=>bt.snakeCase(r)===n)}}),Rd=e=>({name:"forbiddenAttributeName",message:Q("error.attributeName.reserved-name"),test(t){if(!t)return!1;const n=bt.snakeCase(t);return!e.some(r=>bt.snakeCase(r)===n)}}),Ae={default:()=>zt().nullable(),max:()=>cr().integer().nullable(),min:()=>cr().integer().when("max",(e,t)=>e?t.max(e,Q("error.validation.minSupMax")):t).nullable(),maxLength:()=>cr().integer().positive(Q("error.validation.positive")).nullable(),maxLengthString:()=>cr().integer().positive(Q("error.validation.positive")).max(255,"Maximum length for short text fields is 255 characters").nullable(),minLength:()=>cr().integer().min(1).when("maxLength",(e,t)=>e?t.max(e,Q("error.validation.minSupMax")):t).nullable(),name(e,t){return zt().test(zx(e)).test(Rd(t)).matches(Fx,Yt.regex.id).required(Yt.required.id)},required:()=>_o(),type:()=>zt().required(Yt.required.id),unique:()=>_o().nullable()},X0=(e,t)=>({name:Ae.name(e,t),type:Ae.type(),default:Ae.default(),unique:Ae.unique(),required:Ae.required(),maxLength:Ae.maxLength(),minLength:Ae.minLength(),regex:zt().test({name:"isValidRegExpPattern",message:Q("error.validation.regex"),test(r){try{return new RegExp(r||"")!==null}catch{return!1}}}).nullable()}),mW=(e,t)=>({name:Ae.name(e,t),type:Ae.type(),default:Ae.default(),unique:Ae.unique(),required:Ae.required(),maxLength:Ae.maxLengthString(),minLength:Ae.minLength(),regex:zt().test({name:"isValidRegExpPattern",message:Q("error.validation.regex"),test(r){try{return new RegExp(r||"")!==null}catch{return!1}}}).nullable()}),Hu=()=>({name:"isMinSuperiorThanMax",message:Q("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:t}=this.parent;return!t||Number.isNaN(su(e))?!0:su(t)>=su(e)}}),Us={date(e,t){const n={name:Ae.name(e,t),type:Ae.type()};return Wt(n)},datetime(e,t){const n={name:Ae.name(e,t),type:Ae.type()};return Wt(n)},time(e,t){const n={name:Ae.name(e,t),type:Ae.type()};return Wt(n)},default(e,t){const n={name:Ae.name(e,t),type:Ae.type()};return Wt(n)},biginteger(e,t){const n={name:Ae.name(e,t),type:Ae.type(),default:zt().nullable().matches(/^-?\d*$/),unique:Ae.unique(),required:Ae.required(),max:zt().nullable().matches(/^-?\d*$/,Yt.regex.id),min:zt().nullable().test(Hu()).matches(/^-?\d*$/,Yt.regex.id)};return Wt(n)},boolean(e,t){const n={name:Ae.name(e,t),default:_o().nullable(),required:Ae.required(),unique:Ae.unique()};return Wt(n)},component(e,t){const n={name:Ae.name(e,t),type:Ae.type(),required:Ae.required(),max:Ae.max(),min:Ae.min(),component:zt().required(Yt.required.id)};return Wt(n)},decimal(e,t){const n={name:Ae.name(e,t),type:Ae.type(),default:cr(),required:Ae.required(),max:cr(),min:cr().test(Hu())};return Wt(n)},dynamiczone(e,t){const n={name:Ae.name(e,t),type:Ae.type(),required:Ae.required(),max:Ae.max(),min:Ae.min()};return Wt(n)},email(e,t){const n={name:Ae.name(e,t),type:Ae.type(),default:zt().email().nullable(),unique:Ae.unique(),required:Ae.required(),maxLength:Ae.maxLength(),minLength:Ae.minLength()};return Wt(n)},enumeration(e,t){const n=/^[_A-Za-z][_0-9A-Za-z]*$/,r={name:zt().test(zx(e)).test(Rd(t)).matches(n,Yt.regex.id).required(Yt.required.id),type:Ae.type(),default:Ae.default(),unique:Ae.unique(),required:Ae.required(),enum:tm().of(zt()).min(1,Yt.min.id).test({name:"areEnumValuesUnique",message:Q("error.validation.enum-duplicate"),test(a){return a?!fW(a.map(Zu).filter((o,l,u)=>u.indexOf(o)!==l)).length:!1}}).test({name:"doesNotHaveEmptyValues",message:Q("error.validation.enum-empty-string"),test:a=>a?!a.map(Zu).some(s=>s===""):!1}).test({name:"doesMatchRegex",message:Q("error.validation.enum-regex"),test:a=>a?a.map(Zu).every(s=>n.test(s)):!1}),enumName:zt().nullable()};return Wt(r)},float(e,t){const n={name:Ae.name(e,t),type:Ae.type(),required:Ae.required(),default:cr(),max:cr(),min:cr().test(Hu())};return Wt(n)},integer(e,t){const n={name:Ae.name(e,t),type:Ae.type(),default:cr().integer(),unique:Ae.unique(),required:Ae.required(),max:Ae.max(),min:Ae.min()};return Wt(n)},json(e,t){const n={name:Ae.name(e,t),type:Ae.type(),required:Ae.required(),unique:Ae.unique()};return Wt(n)},media(e,t){const n={name:Ae.name(e,t),type:Ae.type(),multiple:_o(),required:Ae.required(),allowedTypes:tm().of(zt().oneOf(["images","videos","files","audios"])).min(1).nullable()};return Wt(n)},password(e,t){const n={name:Ae.name(e,t),type:Ae.type(),default:Ae.default(),unique:Ae.unique(),required:Ae.required(),maxLength:Ae.maxLength(),minLength:Ae.minLength()};return Wt(n)},relation(e,t,n,{initialData:r,modifiedData:a}){const s={name:Ae.name(e,t),target:zt().required(Yt.required.id),relation:zt().required(),type:zt().required(),targetAttribute:ZA(()=>{const o=Bd(a.relation,a.targetAttribute);if(o==="oneWay"||o==="manyWay")return zt().nullable();const l=zt().test(Rd(t)),d=[...n.map(({name:p})=>p),a.name].filter(p=>p!==r.targetAttribute);return l.matches(Fx,Yt.regex.id).test({name:"forbiddenTargetAttributeName",message:Q("error.validation.relation.targetAttribute-taken"),test(p){return p?!d.includes(p):!1}}).required(Yt.required.id)})};return Wt(s)},richtext(e,t){const n={name:Ae.name(e,t),type:Ae.type(),default:Ae.default(),unique:Ae.unique(),required:Ae.required(),maxLength:Ae.maxLength(),minLength:Ae.minLength()};return Wt(n)},blocks(e,t){const n={name:Ae.name(e,t),type:Ae.type(),default:Ae.default(),unique:Ae.unique(),required:Ae.required(),maxLength:Ae.maxLength(),minLength:Ae.minLength()};return Wt(n)},string(e,t){const n=mW(e,t);return Wt(n)},text(e,t){const n=X0(e,t);return Wt(n)},uid(e,t){const n=X0(e,t);return Wt(n)}},gW=/^[A-Za-z][-_0-9A-Za-z]*$/,vW=(e,t,n,r,a)=>{const s={displayName:zt().test({name:"nameAlreadyUsed",message:Yt.unique.id,test(o){if(!o)return!1;const l=lo(o,n),u=bt.snakeCase(l),d=bt.snakeCase(a);return e.every(p=>bt.snakeCase(p)!==u)&&r.every(p=>bt.snakeCase(p)!==d)}}).test({name:"nameNotAllowed",message:Q("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const l=bt.snakeCase(o);return t.every(u=>bt.snakeCase(u)!==l)}}).required(Yt.required.id),category:zt().matches(gW,Yt.regex.id).required(Yt.required.id),icon:zt()};return Wt(s)},Q0={name:"displayName",type:"text",intlLabel:{id:Q("contentType.displayName.label"),defaultMessage:"Display name"}},Wu={advanced:{default(){return{sections:[{items:[{intlLabel:{id:Q("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:Q("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Q0,{description:{id:Q("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:Q("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:Q("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:Q("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Q0,{disabled:!0,description:{id:Q("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:Q("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:Q("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:Q("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:Q("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:Q("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:Q("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:Q("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},yW=({usedContentTypeNames:e=[],reservedModels:t=[],singularNames:n=[],pluralNames:r=[],collectionNames:a=[]})=>{const s={displayName:zt().test({name:"nameAlreadyUsed",message:Yt.unique.id,test(o){if(!o)return!1;const l=M1(o),u=bt.snakeCase(l);return!e.some(d=>bt.snakeCase(d)===u)}}).test({name:"nameNotAllowed",message:Q("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const l=bt.snakeCase(o);return!t.some(u=>bt.snakeCase(u)===l)}}).required(Yt.required.id),pluralName:zt().test({name:"pluralNameAlreadyUsed",message:Yt.unique.id,test(o){if(!o)return!1;const l=bt.snakeCase(o);return!r.some(u=>bt.snakeCase(u)===l)}}).test({name:"pluralNameAlreadyUsedAsSingular",message:Q("error.contentType.pluralName-equals-singularName"),test(o){if(!o)return!1;const l=bt.snakeCase(o);return!n.some(u=>bt.snakeCase(u)===l)}}).test({name:"pluralAndSingularAreUnique",message:Q("error.contentType.pluralName-used"),test(o,l){return o?bt.snakeCase(l.parent.singularName)!==bt.snakeCase(o):!1}}).test({name:"pluralNameNotAllowed",message:Q("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const l=bt.snakeCase(o);return!t.some(u=>bt.snakeCase(u)===l)}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:Q("error.contentType.pluralName-equals-collectionName"),test(o){if(!o)return!1;const l=bt.snakeCase(o);return!a.some(u=>bt.snakeCase(u)===l)}}).required(Yt.required.id),singularName:zt().test({name:"singularNameAlreadyUsed",message:Yt.unique.id,test(o){if(!o)return!1;const l=bt.snakeCase(o);return!n.some(u=>bt.snakeCase(u)===l)}}).test({name:"singularNameAlreadyUsedAsPlural",message:Q("error.contentType.singularName-equals-pluralName"),test(o){if(!o)return!1;const l=bt.snakeCase(o);return!r.some(u=>bt.snakeCase(u)===l)}}).test({name:"pluralAndSingularAreUnique",message:Q("error.contentType.singularName-used"),test(o,l){return o?bt.snakeCase(l.parent.pluralName)!==bt.snakeCase(o):!1}}).test({name:"singularNameNotAllowed",message:Q("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const l=bt.snakeCase(o);return!t.some(u=>bt.snakeCase(u)===l)}}).required(Yt.required.id),draftAndPublish:_o(),kind:zt().oneOf(["singleType","collectionType"])};return Wt(s)},qu={advanced:{default(){return{sections:Ii.advanced()}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Id]},...Ii.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Id]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:Q("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},e1=(e,t)=>{e.forEach(n=>{if(!("sectionTitle"in n)){t[0].items?.push(n);return}t.push(n)})},bW=(e,t)=>`components_${bt.snakeCase(t)}_${Ci(bt.snakeCase(e))}`,t1=(e,t)=>e.filter(({name:n})=>n!==t.initialData.name).map(({name:n})=>n),Oa={customField:{schema({schemaAttributes:e,attributeType:t,customFieldValidator:n,reservedNames:r,schemaData:a,ctbFormsAPI:s}){const o=t1(e,a);let l;return t==="relation"?l=Us[t](o,r.attributes,[],{initialData:{},modifiedData:{}}):l=Us[t](o,r.attributes),s.makeCustomFieldValidator(l,n,o,r.attributes,a)},form:{base({customField:e}){const t=[{sectionTitle:null,items:[Or]}];return e.options?.base&&e1(e.options.base,t),{sections:t}},advanced({customField:e,data:t,step:n,extensions:r,...a}){const s=[{sectionTitle:null,items:[]},{sectionTitle:{id:"form.attribute.condition.section",defaultMessage:"Conditions"},items:[{name:"conditions",type:"condition-form",intlLabel:{id:"form.attribute.condition.label",defaultMessage:"Visibility condition"},description:{id:"form.attribute.condition.desc",defaultMessage:"Show this field only when a boolean/enum condition matches."}}]}],o=r.getAdvancedForm(["attribute",e.type],{data:t,type:e.type,step:n,...a});if(e.options?.advanced&&e1(e.options.advanced,s),o){const l={sectionTitle:{id:Q("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:o};s.push(l)}return{sections:s}}}},attribute:{schema(e,t,n,r,a,s){const o=e?.attributes??[],l=t1(o,a);try{const u=Us[t](l,n.attributes,r,a);return s.makeValidator(["attribute",t],u,l,n.attributes,r,a)}catch(u){return console.error("Error yup build schema",u),Us.default(l,n.attributes)}},form:{advanced({data:e,type:t,step:n,extensions:r,...a}){try{const s=K0.advanced[t](e,n).sections,o=r.getAdvancedForm(["attribute",t],{data:e,type:t,step:n,...a});let l=!1;return{sections:s.reduce((d,p)=>(p.sectionTitle===null||l?d.push(p):(d.push({...p,items:[...p.items,...o]}),l=!0),d),[])}}catch(s){return console.error(s),{sections:[]}}},base({data:e,type:t,step:n,attributes:r}){try{return K0.base[t](e,n,r)}catch{return sW}}}},contentType:{schema(e,t,n,r,a,s){const o=Object.values(s).map(g=>g.info.singularName),l=Object.values(s).map(g=>g?.info?.pluralName??""),u=t?e.filter(g=>g!==n):e,d=t?o.filter(g=>{const{info:_}=s[n];return _.singularName!==g}):o,p=t?l.filter(g=>{const{info:_}=s[n];return _.pluralName!==g}):l,m=Object.values(s).map(g=>g?.collectionName??""),v=t?m.filter(g=>{const{collectionName:_}=s[n];return g!==_}):m,y=yW({usedContentTypeNames:u,reservedModels:r.models,singularNames:d,pluralNames:p,collectionNames:v});return a.makeValidator(["contentType"],y,u,r.models,d,p)},form:{base({actionType:e}){return e==="create"?Wu.base.create():Wu.base.edit()},advanced({extensions:e}){const t=Wu.advanced.default().sections.map(r=>r.items).flat(),n=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...t,...n]}]}}}},component:{schema(e,t,n,r=!1,a,s,o=null){const l=r?e.filter(m=>m!==o):e,u=Object.values(a).map(m=>m?.collectionName),d=bW(s,t),p=r?u.filter(m=>m!==d):u;return vW(l,n.models,t,p,d)},form:{advanced(){return{sections:Ii.advanced()}},base(){return{sections:Ii.base()}}}},addComponentToDynamicZone:{form:{advanced(){return qu.advanced.default()},base({data:e}){return e?.createComponent??!1?qu.base.createComponent():qu.base.default()}}}},xW=(e,t)=>{const n=e.kind;return n==="singleType"||n===t.kind?!0:(e?.attributes??[]).filter(s=>{if(s.type!=="relation")return!1;const{relation:o,targetAttribute:l}=s,u=Bd(o,l);return!["oneWay","manyWay"].includes(u||"")}).length===0},_W=(e="",t,n)=>{const r=["text","boolean","blocks","json","number","email","date","password","media","enumeration","relation","richtext"],a=e==="contentType";if(a)return[[...r.slice(0,-1),"uid",...r.slice(-1)],["component","dynamiczone"]];if(e){const o=Ox(t,n)>=F1;if(!a&&!o)return[r,["component"]]}return[r]},n1=e=>e.reduce((t,n)=>{const r=n.items.reduce((a,s)=>(s.name&&a.push(s.name),a),[]);return[...t,...r]},[]),wW=gt.form`
  overflow: auto;
`,kW=e=>e["content-type-builder_formModal"]||HA,CW=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:t,onNavigateToAddCompoToDZModal:n,onNavigateToCreateComponentStep2:r,actionType:a,attributeName:s,attributeType:o,customFieldUid:l,dynamicZoneTarget:u,forTarget:d,modalType:p,isOpen:m,kind:v,step:y,targetUid:g,showBackLink:_,activeTab:x,setActiveTab:k}=Ni(),A=xo("FormModal",We=>We.getPlugin),j=xo("FormModal",We=>We.customFields.get)(l),F=El(),{toggleNotification:O}=Ri(),B=y1(kW,WA),L=qA(),{trackUsage:V}=Oi(),{formatMessage:q}=pt(),X=A(pa)?.apis.forms,M=X.components.inputs,Y=Ua("FormModal",We=>We.dispatch),{addAttribute:w,editAttribute:P,addCustomFieldAttribute:_e,addCreatedComponentToDynamicZone:se,changeDynamicZoneComponents:ue,contentTypes:z,components:Se,createSchema:ae,createComponentSchema:R,deleteComponent:Ie,deleteContentType:le,editCustomFieldAttribute:ne,updateSchema:Ge,nestedComponents:Je,sortedContentTypesList:de,updateComponentSchema:Oe,updateComponentUid:ve,reservedNames:Re}=Xn(),{componentToCreate:Ye,formErrors:Ve,initialData:S,isCreatingComponentWhileAddingAField:ce,modifiedData:W}=B,$=d==="component"?Se[g]:z[g],[C,J]=U.useState(!1),[ge,be]=U.useState(null),ee=()=>{if(a!=="edit"||p!=="attribute")return!1;const We=S.name,xt=S.enum,Qt=W.enum,Zt=($?.attributes||[]).filter(Ht=>{if(!Ht.conditions)return!1;const hn=Ht.conditions.visible;if(!hn)return!1;const[[,Ja]]=Object.entries(hn),[Ka,Zo]=Ja;return Ka.var!==We?!1:xt&&Qt?xt.filter(wa=>!Qt.includes(wa)).includes(Zo):!0});return Zt.length>0?Zt:!1};U.useEffect(()=>{if(m){const We=de.filter(_x);a==="edit"&&p==="attribute"&&d==="contentType"&&V("willEditFieldOfContentType");const xt=Sd(Jt($,"schema.attributes",[]),u)||null;if(p==="contentType"&&a==="create"&&F(rn.setDataToEdit({data:{draftAndPublish:!0}})),p==="contentType"&&a==="edit"&&F(rn.setDataToEdit({data:{displayName:$.info.displayName,draftAndPublish:$.options?.draftAndPublish,kind:"kind"in $&&$.kind,pluginOptions:$.pluginOptions,pluralName:"pluralName"in $.info&&$.info.pluralName,singularName:"singularName"in $.info&&$.info.singularName}})),p==="component"&&a==="edit"&&F(rn.setDataToEdit({data:{displayName:$.info.displayName,category:"category"in $&&$.category,icon:$.info.icon}})),p==="addComponentToDynamicZone"&&a==="edit"){const Qt={...xt,components:[],name:u,createComponent:!1,componentToCreate:{type:"component"}};F(rn.setDynamicZoneDataSchema({attributeToEdit:Qt}))}if(o){const ct={...Sd(Jt($,["attributes"],[]),s),name:s};o==="component"&&a==="edit"&&(!("repeatable"in ct)||!ct.repeatable)&&VA(ct,"repeatable",!1),F(p==="customField"?a==="edit"?rn.setCustomFieldDataSchema({isEditing:!0,modifiedDataToSetForEditing:ct,uid:$.uid}):rn.setCustomFieldDataSchema({customField:GA(j,["type","options"]),isEditing:!1,modifiedDataToSetForEditing:ct,uid:$.uid}):rn.setAttributeDataSchema({attributeType:o,nameToSetForRelation:Jt(We,["0","title"],"error"),targetUid:Jt(We,["0","uid"],"error"),isEditing:a==="edit",modifiedDataToSetForEditing:ct,step:y,uid:$.uid}))}}else F(rn.resetProps())},[a,s,o,u,d,m,p]);const re=p==="contentType",he=p==="component",Z=p==="attribute",ie=p==="customField",ke=o==="component"&&Z,Te=a==="create",Be=Jt(W,"createComponent",!1)||ce,ft=y==="1",Ct=p==="chooseAttribute",vt=M1(W.singularName||""),tt=Jt($,["attributes"],null),cn=async()=>{let We;const xt=Be&&y==="1"?Jt(W,"componentToCreate",{}):W;if(re)We=Oa.contentType.schema(Object.keys(z),a==="edit",$?.uid??null,Re,X,z);else if(he)We=Oa.component.schema(Object.keys(Se),W.category||"",Re,a==="edit",Se,W.displayName||"",$?.uid??null);else if(ie)We=Oa.customField.schema({schemaAttributes:Jt($,["attributes"],[]),attributeType:j.type,reservedNames:Re,schemaData:{modifiedData:W,initialData:S},ctbFormsAPI:X,customFieldValidator:j.options?.validator});else if(ke&&Be&&ft)We=Oa.component.schema(Object.keys(Se),Jt(W,"componentToCreate.category",""),Re,a==="edit",Se,W.componentToCreate.displayName||"");else if(Z&&!ft){const Qt=o==="relation"?"relation":W.type;let ct=[];if(Qt==="relation"){const Zt=Jt(W,["target"],null);ct=Jt(z,[Zt,"attributes"],[]).filter(({name:hn})=>a!=="edit"?!0:hn!==S.targetAttribute)}We=Oa.attribute.schema($,Qt,Re,ct,{modifiedData:W,initialData:S},X)}else if(ft&&Be)We=Oa.component.schema(Object.keys(Se),Jt(W,"componentToCreate.category",""),Re,a==="edit",Se,W.componentToCreate.displayName||"");else return;await We.validate(xt,{abortEarly:!1})},yt=U.useCallback(({target:{name:We,value:xt,type:Qt,...ct}})=>{const Zt=["enumName","max","min","maxLength","minLength","regex","default"];let Ht;Zt.includes(We)&&xt===""?Ht=null:We==="enum"?Ht=Array.isArray(xt)?xt:[xt]:Ht=xt;const hn=Object.assign({},Ve);We==="max"&&delete hn.min,We==="maxLength"&&delete hn.minLength,delete hn[We],F(rn.setErrors({errors:hn})),F(rn.onChange({keys:We.split("."),value:Ht}))},[F,Ve]),At=async(We,xt=Te)=>{try{await cn(),F(rn.setErrors({errors:{}})),Qr(xt);const Qt=g;if(re)if(Te)ae({data:{kind:v,displayName:W.displayName,draftAndPublish:W.draftAndPublish,pluginOptions:W.pluginOptions,singularName:W.singularName,pluralName:W.pluralName},uid:vt}),L({pathname:`/plugins/${pa}/content-types/${vt}`}),e();else{const ct=$;xW(ct,W)?(e(),await Ge({uid:ct.uid,data:{displayName:W.displayName,kind:W.kind,draftAndPublish:W.draftAndPublish,pluginOptions:W.pluginOptions}})):O({type:"danger",message:q({id:"notification.contentType.relations.conflict"})});return}else if(p==="component")if(Te){const ct=lo(W.displayName,W.category),{category:Zt,...Ht}=W;R({data:{displayName:Ht.displayName,icon:Ht.icon},uid:ct,componentCategory:Zt}),L({pathname:`/plugins/${pa}/component-categories/${Zt}/${ct}`}),e();return}else{if(Oe({data:{icon:W.icon,displayName:W.displayName},componentUID:g}),$.status==="NEW"){const ct=lo(W.displayName,W.category);ve({componentUID:g,newComponentUID:ct}),L({pathname:`/plugins/${pa}/component-categories/${W.category}/${ct}`})}e();return}else if(ie){const ct={attributeToSet:{...W,customField:l},forTarget:d,targetUid:g,name:S.name};a==="edit"?ne(ct):_e(ct),xt?t({forTarget:d,targetUid:Qt}):e();return}else if(Z&&!Be){if(o==="dynamiczone"){a==="create"?w({attributeToSet:W,forTarget:d,targetUid:g}):P({attributeToSet:W,forTarget:d,targetUid:g,name:S.name}),Te?(F(rn.resetPropsAndSetTheFormForAddingACompoToADz()),k("basic"),n({dynamicZoneTarget:W.name})):e();return}if(!ke){a==="create"?w({attributeToSet:W,forTarget:d,targetUid:g}):P({attributeToSet:W,forTarget:d,targetUid:g,name:S.name}),xt?t({forTarget:d,targetUid:Qt}):e();return}if(ft){r(),F(rn.resetPropsAndSetFormForAddingAnExistingCompo({uid:$.uid}));return}if(a==="create")w({attributeToSet:W,forTarget:d,targetUid:g});else{const Zt={...W};(!("conditions"in W)||W.conditions===void 0)&&(Zt.conditions=void 0),P({attributeToSet:Zt,forTarget:d,targetUid:g,name:S.name})}xt?t({forTarget:d,targetUid:g}):e()}else if(Z&&Be){if(ft){V("willCreateComponentFromAttributesModal"),F(rn.resetPropsAndSaveCurrentData({uid:$.uid})),r();return}const{category:ct,...Zt}=Ye,Ht=lo(Ye.displayName,ct);R({data:{icon:Zt.icon,displayName:Zt.displayName},uid:Ht,componentCategory:ct}),w({attributeToSet:W,forTarget:d,targetUid:g}),F(rn.resetProps()),xt?t({forTarget:"component",targetUid:Ht}):e();return}else{if(ft)if(Be){const{category:ct,type:Zt,...Ht}=W.componentToCreate,hn=lo(W.componentToCreate.displayName,ct);R({data:Ht,uid:hn,componentCategory:ct}),se({forTarget:d,targetUid:g,dynamicZoneTarget:u,componentsToAdd:[hn]}),t({forTarget:"component",targetUid:hn})}else ue({forTarget:d,targetUid:g,dynamicZoneTarget:u,newComponents:W.components}),e();else console.error("This case is not handled");return}F(rn.resetProps())}catch(Qt){if(JA.isError(Qt)){const ct=xU(Qt);F(rn.setErrors({errors:ct}))}}},lt=async(We,xt=Te)=>{if(We.preventDefault(),ee()){be({e:We,shouldContinue:xt}),J(!0);return}await At(We,xt)},gr=()=>{window.confirm(q({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),F(rn.resetProps()))},Tn=()=>{bo(W,S)?(e(),F(rn.resetProps())):gr()},Nr=We=>{if(We==="advanced"){if(re){V("didSelectContentTypeSettings");return}d==="contentType"&&V("didSelectContentTypeFieldSettings")}},Qr=We=>{p==="attribute"&&d==="contentType"&&o!=="dynamiczone"&&We&&V("willAddMoreFieldToContentType")},$r=()=>!!(p==="component"||KA(W,"createComponent")),ea=_W(d,g,Je);if(!p)return null;const Lo=Jt(Oa,[p,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),Ul=d==="component",$i={customInputs:{"allowed-types-select":wU,"boolean-radio-group":TZ,"checkbox-with-number-field":jZ,"icon-picker":PZ,"content-type-radio-group":IZ,"radio-group":Ip,relation:qH,"select-category":VH,"select-component":GH,"select-components":JH,"select-default-boolean":EZ,"select-number":YH,"select-date":KH,"toggle-draft-publish":RZ,"text-plural":DZ,"text-singular":XH,"textarea-enum":tW,"condition-form":oW,...M},componentToCreate:Ye,dynamicZoneTarget:u,formErrors:Ve,isAddingAComponentToAnotherComponent:Ul,isCreatingComponentWhileAddingAField:ce,mainBoxHeader:Jt($,["info","displayName"],""),modifiedData:W,naturePickerType:d,isCreating:Te,targetUid:g,forTarget:d,contentTypeSchema:$},Bo=Lo.advanced({data:W,type:o,step:y,actionType:a,attributes:tt,extensions:X,forTarget:d,contentTypeSchema:$||{},customField:j}).sections,Uo=Lo.base({data:W,type:o,step:y,actionType:a,attributes:tt,extensions:X,forTarget:d,contentTypeSchema:$||{},customField:j}).sections,Pr=n1(Uo),Cr=n1(Bo),Zl=Object.keys(Ve).some(We=>Pr.includes(We)),Ga=Object.keys(Ve).some(We=>Cr.includes(We)),Qn=Jt(z,[g,"kind"]),Hl=()=>a==="edit"&&tt.every(({name:We})=>We!==W?.name),Wl=()=>{Hl()&&V("didEditFieldNameOnContentType"),Y({type:"set_completed_actions",payload:[Ys.contentTypeBuilder.addField]})};return f.jsx(pn.Root,{open:m,onOpenChange:Tn,children:f.jsxs(pn.Content,{children:[f.jsxs(Za.Root,{open:C,onOpenChange:J,children:[f.jsx(Za.Trigger,{}),f.jsx(Oo,{onConfirm:()=>{if(ge){const{e:We,shouldContinue:xt}=ge;J(!1),be(null),At(We,xt)}},onCancel:()=>{J(!1),be(null)},children:(()=>{const We=ee();if(!We)return null;const xt=We.map(ct=>ct.name).join(", ");if(S.enum&&W.enum){const ct=S.enum,Zt=W.enum,Ht=ct.filter(hn=>!Zt.includes(hn));return f.jsx(ze,{children:f.jsxs(Fe,{children:[q({id:"form.attribute.condition.enum-change-warning",defaultMessage:"The following fields have conditions that depend on this field: "}),f.jsx(Fe,{fontWeight:"bold",children:xt}),q({id:"form.attribute.condition.enum-change-warning-values",defaultMessage:". Changing or removing the enum values "}),f.jsx(Fe,{fontWeight:"bold",children:Ht.join(", ")}),q({id:"form.attribute.condition.enum-change-warning-end",defaultMessage:" will break these conditions. Do you want to proceed?"})]})})}return f.jsx(ze,{children:f.jsxs(Fe,{children:[q({id:"form.attribute.condition.field-change-warning",defaultMessage:"The following fields have conditions that depend on this field: "}),f.jsx(Fe,{fontWeight:"bold",children:xt}),q({id:"form.attribute.condition.field-change-warning-end",defaultMessage:". Renaming it will break these conditions. Do you want to proceed?"})]})})})()})]}),f.jsx(FZ,{actionType:a,attributeName:s,contentTypeKind:v,dynamicZoneTarget:u,modalType:p,forTarget:d,targetUid:g,attributeType:o,customFieldUid:l,showBackLink:_}),Ct&&f.jsx(SZ,{attributes:ea,forTarget:d,kind:Qn||"collectionType"}),!Ct&&f.jsxs(wW,{onSubmit:lt,children:[f.jsx(pn.Body,{children:f.jsxs(ur.Root,{variant:"simple",value:x,onValueChange:We=>{k(We),Nr(We)},hasError:Zl?"basic":Ga?"advanced":void 0,children:[f.jsxs(Ce,{justifyContent:"space-between",children:[f.jsx(MZ,{actionType:a,forTarget:d,kind:v,step:y,modalType:p,attributeType:o,attributeName:s,customField:j}),f.jsxs(ur.List,{children:[f.jsx(ur.Trigger,{value:"basic",children:q({id:Q("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})}),f.jsx(ur.Trigger,{value:"advanced",disabled:$r(),children:q({id:Q("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})})]})]}),f.jsx(Sl,{marginBottom:6}),f.jsx(ur.Content,{value:"basic",children:f.jsx(Ce,{direction:"column",alignItems:"stretch",gap:6,children:f.jsx(J0,{form:Uo,formErrors:Ve,genericInputProps:$i,modifiedData:W,onChange:yt})})}),f.jsx(ur.Content,{value:"advanced",children:f.jsx(Ce,{direction:"column",alignItems:"stretch",gap:6,children:f.jsx(J0,{form:Bo,formErrors:Ve,genericInputProps:$i,modifiedData:W,onChange:yt})})})]})}),f.jsxs(pn.Footer,{children:[f.jsx(ht,{type:"button",variant:"tertiary",onClick:We=>{We.preventDefault(),Tn()},children:q({id:"app.components.Button.cancel",defaultMessage:"Cancel"})}),f.jsx(OZ,{deleteContentType:()=>le(g),deleteComponent:()=>Ie(g),isAttributeModal:p==="attribute",isCustomFieldModal:p==="customField",isComponentToDzModal:p==="addComponentToDynamicZone",isComponentAttribute:o==="component",isComponentModal:p==="component",isContentTypeModal:p==="contentType",isCreatingComponent:a==="create",isCreatingDz:a==="create",isCreatingComponentAttribute:W.createComponent||!1,isCreatingComponentInDz:W.createComponent||!1,isCreatingComponentWhileAddingAField:ce,isCreatingContentType:a==="create",isEditingAttribute:a==="edit",isDzAttribute:o==="dynamiczone",isInFirstComponentStep:y==="1",onSubmitAddComponentAttribute:lt,onSubmitAddComponentToDz:lt,onSubmitCreateComponent:lt,onSubmitCreateContentType:lt,onSubmitCreateDz:lt,onSubmitEditAttribute:lt,onSubmitEditComponent:lt,onSubmitEditContentType:lt,onSubmitEditCustomFieldAttribute:lt,onSubmitEditDz:lt,onClickFinish:Wl})]})]})]})})},r1={actionType:null,attributeName:null,attributeType:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!0,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null,activeTab:"basic"},SW=({children:e})=>{const[t,n]=U.useState(r1),{trackUsage:r}=a1(),{sessionId:a}=Ud(),s=U.useCallback((j,F)=>{const O={...F,ctbSessionId:a};return r(j,O)},[r,a]),o=U.useCallback(({attributeType:j,customFieldUid:F})=>{n(O=>({...O,actionType:"create",modalType:"customField",attributeType:j,customFieldUid:F,activeTab:"basic"}))},[]),l=U.useCallback(({attributeType:j,step:F})=>{t.forTarget==="contentType"&&s("didSelectContentTypeFieldType",{type:j}),n(O=>({...O,actionType:"create",modalType:"attribute",step:F,attributeType:j,showBackLink:!0,activeTab:"basic"}))},[t.forTarget,s]),u=U.useCallback(({dynamicZoneTarget:j,targetUid:F})=>{n(O=>({...O,dynamicZoneTarget:j,targetUid:F,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},[]),d=U.useCallback(({forTarget:j,targetUid:F})=>{n(O=>({...O,actionType:"create",forTarget:j,targetUid:F,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1,activeTab:"basic"}))},[]),p=U.useCallback(j=>{n(F=>({...F,...j,isOpen:!0,activeTab:"basic"}))},[]),m=U.useCallback(({forTarget:j,targetUid:F,attributeName:O,attributeType:B,customFieldUid:L})=>{n(V=>({...V,modalType:"customField",customFieldUid:L,actionType:"edit",forTarget:j,targetUid:F,attributeName:O,attributeType:B,isOpen:!0,activeTab:"basic"}))},[]),v=U.useCallback(({forTarget:j,targetUid:F,attributeName:O,attributeType:B,step:L})=>{n(V=>({...V,modalType:"attribute",actionType:"edit",forTarget:j,targetUid:F,attributeName:O,attributeType:B,step:L,isOpen:!0}))},[]),y=U.useCallback(({modalType:j,forTarget:F,targetUid:O,kind:B})=>{n(L=>({...L,modalType:j,actionType:"edit",forTarget:F,targetUid:O,kind:B,isOpen:!0,activeTab:"basic"}))},[]),g=U.useCallback(()=>{n(r1)},[]),_=U.useCallback(({forTarget:j,targetUid:F})=>{n(O=>({...O,forTarget:j,targetUid:F,modalType:"chooseAttribute",activeTab:"basic"}))},[]),x=U.useCallback(()=>{n(j=>({...j,attributeType:"component",modalType:"attribute",step:"2",activeTab:"basic"}))},[]),k=U.useCallback(({dynamicZoneTarget:j})=>{n(F=>({...F,dynamicZoneTarget:j,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null,activeTab:"basic"}))},[]),A=U.useCallback(j=>{n(F=>({...F,activeTab:j}))},[]),T=U.useMemo(()=>({...t,onClickSelectField:l,onClickSelectCustomField:o,onCloseModal:g,onNavigateToChooseAttributeModal:_,onNavigateToAddCompoToDZModal:k,onOpenModalAddComponentsToDZ:u,onNavigateToCreateComponentStep2:x,onOpenModalAddField:d,onOpenModalCreateSchema:p,onOpenModalEditField:v,onOpenModalEditCustomField:m,onOpenModalEditSchema:y,setFormModalNavigationState:n,setActiveTab:A}),[t,l,o,g,_,k,u,x,d,p,v,m,y,A]);return f.jsx(xx.Provider,{value:T,children:e})},EW=gt(Ce)`
  @container (max-width: 200px) {
    .hide-on-small {
      display: none;
    }
  }
  container-type: inline-size;
`,AW=()=>{const{formatMessage:e}=pt(),t=e({id:Q("table.content.create-first-content-type.title"),defaultMessage:"No content types"}),{isChatEnabled:n,openChat:r}=mr(),{openCodeUpload:a}=Ap(),{openFigmaUpload:s}=jp();return f.jsxs(EW,{justifyContent:"center",height:"100%",width:"400px",maxWidth:"90%",margin:"auto",direction:"column",gap:6,children:[f.jsx(wx,{width:"160px",height:"88px"}),f.jsx($d.contentTypeBuilder.Introduction,{children:f.jsx(ze,{})}),f.jsxs(Ce,{gap:2,alignItems:"center",direction:"column",children:[f.jsx(Fe,{variant:"beta",textAlign:"center",children:t}),f.jsx(Fe,{variant:"omega",textAlign:"center",textColor:"neutral600",children:e({id:Q("table.content.create-first-content-type.description"),defaultMessage:"Create collection types, single types and components in order to build your schema."})})]}),n&&f.jsxs(Ce,{gap:2,direction:"column",className:"hide-on-small",children:[f.jsx(ht,{startIcon:f.jsx(nv,{}),variant:"tertiary",onClick:()=>s(!0),children:e({id:Q("table.content.create-first-content-type.import-figma"),defaultMessage:"Import from Figma"})}),f.jsx(ht,{startIcon:f.jsx(Pd,{}),variant:"tertiary",onClick:()=>a(!0),children:e({id:Q("table.content.create-first-content-type.import-code"),defaultMessage:"Import from computer"})}),f.jsx(ht,{startIcon:f.jsx(Cl,{}),variant:"tertiary",onClick:r,children:e({id:Q("table.content.create-first-content-type.start-with-prompt"),defaultMessage:"Start with a prompt"})})]})]})},Vu=U.lazy(()=>t6(()=>import("./ListView-Db2A-evI.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),TW=()=>{const{formatMessage:e}=pt(),t=e({id:`${pa}.plugin.name`,defaultMessage:"Content Types Builder"}),n=Xr("DataManagerProvider",o=>o.autoReload),r=l1(),a=Ua("ContentTypeBuilderApp",o=>o.state),s=Ua("ContentTypeBuilderApp",o=>o.dispatch);return U.useEffect(()=>{YP()},[]),U.useEffect(()=>{const o=r?"ContentTypeBuilderAI":"ContentTypeBuilderNoAI";a.tours.contentTypeBuilder.tourType!==o&&s({type:"set_tour_type",payload:{tourName:"contentTypeBuilder",tourType:o}})},[r,a.tours.contentTypeBuilder.tourType,s]),f.jsxs(lu.Protect,{permissions:YA.main,children:[f.jsx(lu.Title,{children:t}),f.jsx(XA,{children:f.jsx(nU,{children:f.jsx(SW,{children:f.jsxs(vU,{children:[f.jsx(yU,{}),f.jsx(mB,{children:f.jsxs(f.Fragment,{children:[n&&f.jsx(CW,{}),f.jsx(QA.Root,{sideNav:f.jsx(tU,{}),children:f.jsx(U.Suspense,{fallback:f.jsx(lu.Loading,{}),children:f.jsxs(e6,{children:[f.jsx(Os,{path:"content-types/create-content-type",element:f.jsx(AW,{})}),f.jsx(Os,{path:"content-types/:contentTypeUid",element:f.jsx(Vu,{})}),f.jsx(Os,{path:"component-categories/:categoryUid/:componentUid",element:f.jsx(Vu,{})}),f.jsx(Os,{path:"*",element:f.jsx(Vu,{})})]})})}),f.jsx(YB,{})]})})]})})})})]})},UW=Object.freeze(Object.defineProperty({__proto__:null,default:TW},Symbol.toStringTag,{value:"Module"}));export{Io as A,Cx as C,wx as F,LW as S,Ni as a,Oi as b,BW as c,Q as g,UW as i,Xn as u};
